(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();function T3(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var c0={exports:{}},Rl={};var jy;function S3(){if(jy)return Rl;jy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:n,type:r,key:u,ref:i!==void 0?i:null,props:o}}return Rl.Fragment=t,Rl.jsx=e,Rl.jsxs=e,Rl}var Gy;function C3(){return Gy||(Gy=1,c0.exports=S3()),c0.exports}var it=C3(),f0={exports:{}},Dt={};var qy;function I3(){if(qy)return Dt;qy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),_=Symbol.iterator;function E(H){return H===null||typeof H!="object"?null:(H=_&&H[_]||H["@@iterator"],typeof H=="function"?H:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,I={};function N(H,ot,ht){this.props=H,this.context=ot,this.refs=I,this.updater=ht||w}N.prototype.isReactComponent={},N.prototype.setState=function(H,ot){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ot,"setState")},N.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function L(){}L.prototype=N.prototype;function V(H,ot,ht){this.props=H,this.context=ot,this.refs=I,this.updater=ht||w}var j=V.prototype=new L;j.constructor=V,S(j,N.prototype),j.isPureReactComponent=!0;var Q=Array.isArray;function Z(){}var b={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function P(H,ot,ht){var pt=ht.ref;return{$$typeof:n,type:H,key:ot,ref:pt!==void 0?pt:null,props:ht}}function B(H,ot){return P(H.type,ot,H.props)}function U(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function F(H){var ot={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ht){return ot[ht]})}var D=/\/+/g;function yt(H,ot){return typeof H=="object"&&H!==null&&H.key!=null?F(""+H.key):ot.toString(36)}function bt(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(Z,Z):(H.status="pending",H.then(function(ot){H.status==="pending"&&(H.status="fulfilled",H.value=ot)},function(ot){H.status==="pending"&&(H.status="rejected",H.reason=ot)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function tt(H,ot,ht,pt,Rt){var Bt=typeof H;(Bt==="undefined"||Bt==="boolean")&&(H=null);var Kt=!1;if(H===null)Kt=!0;else switch(Bt){case"bigint":case"string":case"number":Kt=!0;break;case"object":switch(H.$$typeof){case n:case t:Kt=!0;break;case g:return Kt=H._init,tt(Kt(H._payload),ot,ht,pt,Rt)}}if(Kt)return Rt=Rt(H),Kt=pt===""?"."+yt(H,0):pt,Q(Rt)?(ht="",Kt!=null&&(ht=Kt.replace(D,"$&/")+"/"),tt(Rt,ot,ht,"",function(uo){return uo})):Rt!=null&&(U(Rt)&&(Rt=B(Rt,ht+(Rt.key==null||H&&H.key===Rt.key?"":(""+Rt.key).replace(D,"$&/")+"/")+Kt)),ot.push(Rt)),1;Kt=0;var Qe=pt===""?".":pt+":";if(Q(H))for(var be=0;be<H.length;be++)pt=H[be],Bt=Qe+yt(pt,be),Kt+=tt(pt,ot,ht,Bt,Rt);else if(be=E(H),typeof be=="function")for(H=be.call(H),be=0;!(pt=H.next()).done;)pt=pt.value,Bt=Qe+yt(pt,be++),Kt+=tt(pt,ot,ht,Bt,Rt);else if(Bt==="object"){if(typeof H.then=="function")return tt(bt(H),ot,ht,pt,Rt);throw ot=String(H),Error("Objects are not valid as a React child (found: "+(ot==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ot)+"). If you meant to render a collection of children, use an array instead.")}return Kt}function lt(H,ot,ht){if(H==null)return H;var pt=[],Rt=0;return tt(H,pt,"","",function(Bt){return ot.call(ht,Bt,Rt++)}),pt}function Et(H){if(H._status===-1){var ot=H._result;ot=ot(),ot.then(function(ht){(H._status===0||H._status===-1)&&(H._status=1,H._result=ht)},function(ht){(H._status===0||H._status===-1)&&(H._status=2,H._result=ht)}),H._status===-1&&(H._status=0,H._result=ot)}if(H._status===1)return H._result.default;throw H._result}var Zt=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ot=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ot))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},ue={map:lt,forEach:function(H,ot,ht){lt(H,function(){ot.apply(this,arguments)},ht)},count:function(H){var ot=0;return lt(H,function(){ot++}),ot},toArray:function(H){return lt(H,function(ot){return ot})||[]},only:function(H){if(!U(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Dt.Activity=m,Dt.Children=ue,Dt.Component=N,Dt.Fragment=e,Dt.Profiler=i,Dt.PureComponent=V,Dt.StrictMode=r,Dt.Suspense=f,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return b.H.useMemoCache(H)}},Dt.cache=function(H){return function(){return H.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(H,ot,ht){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var pt=S({},H.props),Rt=H.key;if(ot!=null)for(Bt in ot.key!==void 0&&(Rt=""+ot.key),ot)!R.call(ot,Bt)||Bt==="key"||Bt==="__self"||Bt==="__source"||Bt==="ref"&&ot.ref===void 0||(pt[Bt]=ot[Bt]);var Bt=arguments.length-2;if(Bt===1)pt.children=ht;else if(1<Bt){for(var Kt=Array(Bt),Qe=0;Qe<Bt;Qe++)Kt[Qe]=arguments[Qe+2];pt.children=Kt}return P(H.type,Rt,pt)},Dt.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},Dt.createElement=function(H,ot,ht){var pt,Rt={},Bt=null;if(ot!=null)for(pt in ot.key!==void 0&&(Bt=""+ot.key),ot)R.call(ot,pt)&&pt!=="key"&&pt!=="__self"&&pt!=="__source"&&(Rt[pt]=ot[pt]);var Kt=arguments.length-2;if(Kt===1)Rt.children=ht;else if(1<Kt){for(var Qe=Array(Kt),be=0;be<Kt;be++)Qe[be]=arguments[be+2];Rt.children=Qe}if(H&&H.defaultProps)for(pt in Kt=H.defaultProps,Kt)Rt[pt]===void 0&&(Rt[pt]=Kt[pt]);return P(H,Bt,Rt)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(H){return{$$typeof:c,render:H}},Dt.isValidElement=U,Dt.lazy=function(H){return{$$typeof:g,_payload:{_status:-1,_result:H},_init:Et}},Dt.memo=function(H,ot){return{$$typeof:d,type:H,compare:ot===void 0?null:ot}},Dt.startTransition=function(H){var ot=b.T,ht={};b.T=ht;try{var pt=H(),Rt=b.S;Rt!==null&&Rt(ht,pt),typeof pt=="object"&&pt!==null&&typeof pt.then=="function"&&pt.then(Z,Zt)}catch(Bt){Zt(Bt)}finally{ot!==null&&ht.types!==null&&(ot.types=ht.types),b.T=ot}},Dt.unstable_useCacheRefresh=function(){return b.H.useCacheRefresh()},Dt.use=function(H){return b.H.use(H)},Dt.useActionState=function(H,ot,ht){return b.H.useActionState(H,ot,ht)},Dt.useCallback=function(H,ot){return b.H.useCallback(H,ot)},Dt.useContext=function(H){return b.H.useContext(H)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(H,ot){return b.H.useDeferredValue(H,ot)},Dt.useEffect=function(H,ot){return b.H.useEffect(H,ot)},Dt.useEffectEvent=function(H){return b.H.useEffectEvent(H)},Dt.useId=function(){return b.H.useId()},Dt.useImperativeHandle=function(H,ot,ht){return b.H.useImperativeHandle(H,ot,ht)},Dt.useInsertionEffect=function(H,ot){return b.H.useInsertionEffect(H,ot)},Dt.useLayoutEffect=function(H,ot){return b.H.useLayoutEffect(H,ot)},Dt.useMemo=function(H,ot){return b.H.useMemo(H,ot)},Dt.useOptimistic=function(H,ot){return b.H.useOptimistic(H,ot)},Dt.useReducer=function(H,ot,ht){return b.H.useReducer(H,ot,ht)},Dt.useRef=function(H){return b.H.useRef(H)},Dt.useState=function(H){return b.H.useState(H)},Dt.useSyncExternalStore=function(H,ot,ht){return b.H.useSyncExternalStore(H,ot,ht)},Dt.useTransition=function(){return b.H.useTransition()},Dt.version="19.2.0",Dt}var Xy;function zh(){return Xy||(Xy=1,f0.exports=I3()),f0.exports}var Lt=zh(),h0={exports:{}},Ol={},d0={exports:{}},p0={};var Yy;function b3(){return Yy||(Yy=1,(function(n){function t(tt,lt){var Et=tt.length;tt.push(lt);t:for(;0<Et;){var Zt=Et-1>>>1,ue=tt[Zt];if(0<i(ue,lt))tt[Zt]=lt,tt[Et]=ue,Et=Zt;else break t}}function e(tt){return tt.length===0?null:tt[0]}function r(tt){if(tt.length===0)return null;var lt=tt[0],Et=tt.pop();if(Et!==lt){tt[0]=Et;t:for(var Zt=0,ue=tt.length,H=ue>>>1;Zt<H;){var ot=2*(Zt+1)-1,ht=tt[ot],pt=ot+1,Rt=tt[pt];if(0>i(ht,Et))pt<ue&&0>i(Rt,ht)?(tt[Zt]=Rt,tt[pt]=Et,Zt=pt):(tt[Zt]=ht,tt[ot]=Et,Zt=ot);else if(pt<ue&&0>i(Rt,Et))tt[Zt]=Rt,tt[pt]=Et,Zt=pt;else break t}}return lt}function i(tt,lt){var Et=tt.sortIndex-lt.sortIndex;return Et!==0?Et:tt.id-lt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var f=[],d=[],g=1,m=null,_=3,E=!1,w=!1,S=!1,I=!1,N=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function j(tt){for(var lt=e(d);lt!==null;){if(lt.callback===null)r(d);else if(lt.startTime<=tt)r(d),lt.sortIndex=lt.expirationTime,t(f,lt);else break;lt=e(d)}}function Q(tt){if(S=!1,j(tt),!w)if(e(f)!==null)w=!0,Z||(Z=!0,F());else{var lt=e(d);lt!==null&&bt(Q,lt.startTime-tt)}}var Z=!1,b=-1,R=5,P=-1;function B(){return I?!0:!(n.unstable_now()-P<R)}function U(){if(I=!1,Z){var tt=n.unstable_now();P=tt;var lt=!0;try{t:{w=!1,S&&(S=!1,L(b),b=-1),E=!0;var Et=_;try{e:{for(j(tt),m=e(f);m!==null&&!(m.expirationTime>tt&&B());){var Zt=m.callback;if(typeof Zt=="function"){m.callback=null,_=m.priorityLevel;var ue=Zt(m.expirationTime<=tt);if(tt=n.unstable_now(),typeof ue=="function"){m.callback=ue,j(tt),lt=!0;break e}m===e(f)&&r(f),j(tt)}else r(f);m=e(f)}if(m!==null)lt=!0;else{var H=e(d);H!==null&&bt(Q,H.startTime-tt),lt=!1}}break t}finally{m=null,_=Et,E=!1}lt=void 0}}finally{lt?F():Z=!1}}}var F;if(typeof V=="function")F=function(){V(U)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,yt=D.port2;D.port1.onmessage=U,F=function(){yt.postMessage(null)}}else F=function(){N(U,0)};function bt(tt,lt){b=N(function(){tt(n.unstable_now())},lt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(tt){tt.callback=null},n.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<tt?Math.floor(1e3/tt):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(tt){switch(_){case 1:case 2:case 3:var lt=3;break;default:lt=_}var Et=_;_=lt;try{return tt()}finally{_=Et}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(tt,lt){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var Et=_;_=tt;try{return lt()}finally{_=Et}},n.unstable_scheduleCallback=function(tt,lt,Et){var Zt=n.unstable_now();switch(typeof Et=="object"&&Et!==null?(Et=Et.delay,Et=typeof Et=="number"&&0<Et?Zt+Et:Zt):Et=Zt,tt){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=Et+ue,tt={id:g++,callback:lt,priorityLevel:tt,startTime:Et,expirationTime:ue,sortIndex:-1},Et>Zt?(tt.sortIndex=Et,t(d,tt),e(f)===null&&tt===e(d)&&(S?(L(b),b=-1):S=!0,bt(Q,Et-Zt))):(tt.sortIndex=ue,t(f,tt),w||E||(w=!0,Z||(Z=!0,F()))),tt},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(tt){var lt=_;return function(){var Et=_;_=lt;try{return tt.apply(this,arguments)}finally{_=Et}}}})(p0)),p0}var Ky;function R3(){return Ky||(Ky=1,d0.exports=b3()),d0.exports}var g0={exports:{}},On={};var Wy;function O3(){if(Wy)return On;Wy=1;var n=zh();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,d,g){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:d,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return On.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,On.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,g)},On.flushSync=function(f){var d=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=g,r.d.f()}},On.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},On.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},On.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,m=c(g,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:_,fetchPriority:E}):g==="script"&&r.d.X(f,{crossOrigin:m,integrity:_,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},On.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},On.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,m=c(g,d.crossOrigin);r.d.L(f,g,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},On.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},On.requestFormReset=function(f){r.d.r(f)},On.unstable_batchedUpdates=function(f,d){return f(d)},On.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},On.useFormStatus=function(){return u.H.useHostTransitionStatus()},On.version="19.2.0",On}var Qy;function D3(){if(Qy)return g0.exports;Qy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),g0.exports=O3(),g0.exports}var Zy;function N3(){if(Zy)return Ol;Zy=1;var n=R3(),t=zh(),e=D3();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,l=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(l=s.return),a=s.return;while(a)}return s.tag===3?l:null}function u(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function c(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(r(188))}function d(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var l=a,h=s;;){var v=l.return;if(v===null)break;var y=v.alternate;if(y===null){if(h=v.return,h!==null){l=h;continue}break}if(v.child===y.child){for(y=v.child;y;){if(y===l)return f(v),a;if(y===h)return f(v),s;y=y.sibling}throw Error(r(188))}if(l.return!==h.return)l=v,h=y;else{for(var x=!1,C=v.child;C;){if(C===l){x=!0,l=v,h=y;break}if(C===h){x=!0,h=v,l=y;break}C=C.sibling}if(!x){for(C=y.child;C;){if(C===l){x=!0,l=y,h=v;break}if(C===h){x=!0,h=y,l=v;break}C=C.sibling}if(!x)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?a:s}function g(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=g(a),s!==null)return s;a=a.sibling}return null}var m=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),V=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function F(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var D=Symbol.for("react.client.reference");function yt(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===D?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case N:return"Profiler";case I:return"StrictMode";case Q:return"Suspense";case Z:return"SuspenseList";case P:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case V:return a.displayName||"Context";case L:return(a._context.displayName||"Context")+".Consumer";case j:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case b:return s=a.displayName||null,s!==null?s:yt(a.type)||"Memo";case R:s=a._payload,a=a._init;try{return yt(a(s))}catch{}}return null}var bt=Array.isArray,tt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Et={pending:!1,data:null,method:null,action:null},Zt=[],ue=-1;function H(a){return{current:a}}function ot(a){0>ue||(a.current=Zt[ue],Zt[ue]=null,ue--)}function ht(a,s){ue++,Zt[ue]=a.current,a.current=s}var pt=H(null),Rt=H(null),Bt=H(null),Kt=H(null);function Qe(a,s){switch(ht(Bt,s),ht(Rt,a),ht(pt,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?hy(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=hy(s),a=dy(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ot(pt),ht(pt,a)}function be(){ot(pt),ot(Rt),ot(Bt)}function uo(a){a.memoizedState!==null&&ht(Kt,a);var s=pt.current,l=dy(s,a.type);s!==l&&(ht(Rt,a),ht(pt,l))}function rs(a){Rt.current===a&&(ot(pt),ot(Rt)),Kt.current===a&&(ot(Kt),Sl._currentValue=Et)}var is,as;function Wr(a){if(is===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);is=s&&s[1]||"",as=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+is+a+as}var Su=!1;function lo(a,s){if(!a||Su)return"";Su=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(J){var W=J}Reflect.construct(a,[],at)}else{try{at.call()}catch(J){W=J}a.call(at.prototype)}}else{try{throw Error()}catch(J){W=J}(at=a())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(J){if(J&&W&&typeof J.stack=="string")return[J.stack,W.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),x=y[0],C=y[1];if(x&&C){var k=x.split(`
`),K=C.split(`
`);for(v=h=0;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;for(;v<K.length&&!K[v].includes("DetermineComponentFrameRoot");)v++;if(h===k.length||v===K.length)for(h=k.length-1,v=K.length-1;1<=h&&0<=v&&k[h]!==K[v];)v--;for(;1<=h&&0<=v;h--,v--)if(k[h]!==K[v]){if(h!==1||v!==1)do if(h--,v--,0>v||k[h]!==K[v]){var nt=`
`+k[h].replace(" at new "," at ");return a.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",a.displayName)),nt}while(1<=h&&0<=v);break}}}finally{Su=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?Wr(l):""}function Cu(a,s){switch(a.tag){case 26:case 27:case 5:return Wr(a.type);case 16:return Wr("Lazy");case 13:return a.child!==s&&s!==null?Wr("Suspense Fallback"):Wr("Suspense");case 19:return Wr("SuspenseList");case 0:case 15:return lo(a.type,!1);case 11:return lo(a.type.render,!1);case 1:return lo(a.type,!0);case 31:return Wr("Activity");default:return""}}function Iu(a){try{var s="",l=null;do s+=Cu(a,l),l=a,a=a.return;while(a);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Ue=Object.prototype.hasOwnProperty,Ze=n.unstable_scheduleCallback,ra=n.unstable_cancelCallback,hd=n.unstable_shouldYield,vc=n.unstable_requestPaint,Vn=n.unstable_now,co=n.unstable_getCurrentPriorityLevel,bu=n.unstable_ImmediatePriority,Ru=n.unstable_UserBlockingPriority,ia=n.unstable_NormalPriority,dd=n.unstable_LowPriority,mc=n.unstable_IdlePriority,yc=n.log,_c=n.unstable_setDisableYieldValue,Or=null,mn=null;function hr(a){if(typeof yc=="function"&&_c(a),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(Or,a)}catch{}}var Pe=Math.clz32?Math.clz32:Ac,Ec=Math.log,os=Math.LN2;function Ac(a){return a>>>=0,a===0?32:31-(Ec(a)/os|0)|0}var Qr=256,fo=262144,Fe=4194304;function Zr(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function $r(a,s,l){var h=a.pendingLanes;if(h===0)return 0;var v=0,y=a.suspendedLanes,x=a.pingedLanes;a=a.warmLanes;var C=h&134217727;return C!==0?(h=C&~y,h!==0?v=Zr(h):(x&=C,x!==0?v=Zr(x):l||(l=C&~a,l!==0&&(v=Zr(l))))):(C=h&~y,C!==0?v=Zr(C):x!==0?v=Zr(x):l||(l=h&~a,l!==0&&(v=Zr(l)))),v===0?0:s!==0&&s!==v&&(s&y)===0&&(y=v&-v,l=s&-s,y>=l||y===32&&(l&4194048)!==0)?s:v}function Dr(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function pd(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xc(){var a=Fe;return Fe<<=1,(Fe&62914560)===0&&(Fe=4194304),a}function Jr(a){for(var s=[],l=0;31>l;l++)s.push(a);return s}function ho(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function gd(a,s,l,h,v,y){var x=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var C=a.entanglements,k=a.expirationTimes,K=a.hiddenUpdates;for(l=x&~l;0<l;){var nt=31-Pe(l),at=1<<nt;C[nt]=0,k[nt]=-1;var W=K[nt];if(W!==null)for(K[nt]=null,nt=0;nt<W.length;nt++){var J=W[nt];J!==null&&(J.lane&=-536870913)}l&=~at}h!==0&&po(a,h,0),y!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=y&~(x&~s))}function po(a,s,l){a.pendingLanes|=s,a.suspendedLanes&=~s;var h=31-Pe(s);a.entangledLanes|=s,a.entanglements[h]=a.entanglements[h]|1073741824|l&261930}function Ou(a,s){var l=a.entangledLanes|=s;for(a=a.entanglements;l;){var h=31-Pe(l),v=1<<h;v&s|a[h]&s&&(a[h]|=s),l&=~v}}function Du(a,s){var l=s&-s;return l=(l&42)!==0?1:go(l),(l&(a.suspendedLanes|s))!==0?0:l}function go(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ii(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function wc(){var a=lt.p;return a!==0?a:(a=window.event,a===void 0?32:By(a.type))}function Nr(a,s){var l=lt.p;try{return lt.p=a,s()}finally{lt.p=l}}var Mr=Math.random().toString(36).slice(2),ze="__reactFiber$"+Mr,ln="__reactProps$"+Mr,ti="__reactContainer$"+Mr,ss="__reactEvents$"+Mr,vd="__reactListeners$"+Mr,Tc="__reactHandles$"+Mr,Sc="__reactResources$"+Mr,ei="__reactMarker$"+Mr;function us(a){delete a[ze],delete a[ln],delete a[ss],delete a[vd],delete a[Tc]}function ni(a){var s=a[ze];if(s)return s;for(var l=a.parentNode;l;){if(s=l[ti]||l[ze]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(a=Ey(a);a!==null;){if(l=a[ze])return l;a=Ey(a)}return s}a=l,l=a.parentNode}return null}function dr(a){if(a=a[ze]||a[ti]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function er(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function ri(a){var s=a[Sc];return s||(s=a[Sc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function He(a){a[ei]=!0}var Nu=new Set,Mu={};function ii(a,s){ai(a,s),ai(a+"Capture",s)}function ai(a,s){for(Mu[a]=s,a=0;a<s.length;a++)Nu.add(s[a])}var Pu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lu={},Bu={};function Cc(a){return Ue.call(Bu,a)?!0:Ue.call(Lu,a)?!1:Pu.test(a)?Bu[a]=!0:(Lu[a]=!0,!1)}function ls(a,s,l){if(Cc(s))if(l===null)a.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+l)}}function nr(a,s,l){if(l===null)a.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+l)}}function je(a,s,l,h){if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(s,l,""+h)}}function cn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function aa(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Vu(a,s,l){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,y=h.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return v.call(this)},set:function(x){l=""+x,y.call(this,x)}}),Object.defineProperty(a,s,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function le(a){if(!a._valueTracker){var s=aa(a)?"checked":"value";a._valueTracker=Vu(a,s,""+a[s])}}function vo(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return a&&(h=aa(a)?a.checked?"true":"false":a.value),a=h,a!==l?(s.setValue(a),!0):!1}function oi(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var mo=/[\n"\\]/g;function jn(a){return a.replace(mo,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function cs(a,s,l,h,v,y,x,C){a.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?a.type=x:a.removeAttribute("type"),s!=null?x==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+cn(s)):a.value!==""+cn(s)&&(a.value=""+cn(s)):x!=="submit"&&x!=="reset"||a.removeAttribute("value"),s!=null?ku(a,x,cn(s)):l!=null?ku(a,x,cn(l)):h!=null&&a.removeAttribute("value"),v==null&&y!=null&&(a.defaultChecked=!!y),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?a.name=""+cn(C):a.removeAttribute("name")}function Ic(a,s,l,h,v,y,x,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(a.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){le(a);return}l=l!=null?""+cn(l):"",s=s!=null?""+cn(s):l,C||s===a.value||(a.value=s),a.defaultValue=s}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=C?a.checked:!!h,a.defaultChecked=!!h,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.name=x),le(a)}function ku(a,s,l){s==="number"&&oi(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function oa(a,s,l,h){if(a=a.options,s){s={};for(var v=0;v<l.length;v++)s["$"+l[v]]=!0;for(l=0;l<a.length;l++)v=s.hasOwnProperty("$"+a[l].value),a[l].selected!==v&&(a[l].selected=v),v&&h&&(a[l].defaultSelected=!0)}else{for(l=""+cn(l),s=null,v=0;v<a.length;v++){if(a[v].value===l){a[v].selected=!0,h&&(a[v].defaultSelected=!0);return}s!==null||a[v].disabled||(s=a[v])}s!==null&&(s.selected=!0)}}function bc(a,s,l){if(s!=null&&(s=""+cn(s),s!==a.value&&(a.value=s),l==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=l!=null?""+cn(l):""}function sa(a,s,l,h){if(s==null){if(h!=null){if(l!=null)throw Error(r(92));if(bt(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),s=l}l=cn(s),a.defaultValue=l,h=a.textContent,h===l&&h!==""&&h!==null&&(a.value=h),le(a)}function Gn(a,s){if(s){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=s;return}}a.textContent=s}var Rc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uu(a,s,l){var h=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":h?a.setProperty(s,l):typeof l!="number"||l===0||Rc.has(s)?s==="float"?a.cssFloat=l:a[s]=(""+l).trim():a[s]=l+"px"}function Fu(a,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var v in s)h=s[v],s.hasOwnProperty(v)&&l[v]!==h&&Uu(a,v,h)}else for(var y in s)s.hasOwnProperty(y)&&Uu(a,y,s[y])}function fs(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ua=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hs(a){return ua.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Pr(){}var zu=null;function pr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var la=null,si=null;function yo(a){var s=dr(a);if(s&&(a=s.stateNode)){var l=a[ln]||null;t:switch(a=s.stateNode,s.type){case"input":if(cs(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+jn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==a&&h.form===a.form){var v=h[ln]||null;if(!v)throw Error(r(90));cs(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<l.length;s++)h=l[s],h.form===a.form&&vo(h)}break t;case"textarea":bc(a,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&oa(a,!!l.multiple,s,!1)}}}var ds=!1;function ca(a,s,l){if(ds)return a(s,l);ds=!0;try{var h=a(s);return h}finally{if(ds=!1,(la!==null||si!==null)&&(Tf(),la&&(s=la,a=si,si=la=null,yo(s),a)))for(s=0;s<a.length;s++)yo(a[s])}}function Lr(a,s){var l=a.stateNode;if(l===null)return null;var h=l[ln]||null;if(h===null)return null;l=h[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break t;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_o=!1;if(gr)try{var pe={};Object.defineProperty(pe,"passive",{get:function(){_o=!0}}),window.addEventListener("test",pe,pe),window.removeEventListener("test",pe,pe)}catch{_o=!1}var ui=null,Hu=null,Eo=null;function ju(){if(Eo)return Eo;var a,s=Hu,l=s.length,h,v="value"in ui?ui.value:ui.textContent,y=v.length;for(a=0;a<l&&s[a]===v[a];a++);var x=l-a;for(h=1;h<=x&&s[l-h]===v[y-h];h++);return Eo=v.slice(a,1<h?1-h:void 0)}function Ao(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function bi(){return!0}function Br(){return!1}function yn(a){function s(l,h,v,y,x){this._reactName=l,this._targetInst=v,this.type=h,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var C in a)a.hasOwnProperty(C)&&(l=a[C],this[C]=l?l(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?bi:Br,this.isPropagationStopped=Br,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),s}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=yn(Ri),fa=m({},Ri,{view:0,detail:0}),Gu=yn(fa),ha,ps,ci,gs=m({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:da,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ci&&(ci&&a.type==="mousemove"?(ha=a.screenX-ci.screenX,ps=a.screenY-ci.screenY):ps=ha=0,ci=a),ha)},movementY:function(a){return"movementY"in a?a.movementY:ps}}),qu=yn(gs),xo=m({},gs,{dataTransfer:0}),Dc=yn(xo),Nc=m({},fa,{relatedTarget:0}),wo=yn(Nc),Xu=m({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),Mc=yn(Xu),vs=m({},Ri,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Pc=yn(vs),Lc=m({},Ri,{data:0}),fi=yn(Lc),Bc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uc(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=kc[a])?!!s[a]:!1}function da(){return Uc}var kn=m({},fa,{key:function(a){if(a.key){var s=Bc[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Ao(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Vc[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:da,charCode:function(a){return a.type==="keypress"?Ao(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ao(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Fc=yn(kn),zc=m({},gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=yn(zc),p=m({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:da}),A=yn(p),T=m({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),O=yn(T),q=m({},gs,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),$=yn(q),ct=m({},Ri,{newState:0,oldState:0}),Mt=yn(ct),Le=[9,13,27,32],ne=gr&&"CompositionEvent"in window,Re=null;gr&&"documentMode"in document&&(Re=document.documentMode);var vr=gr&&"TextEvent"in window&&!Re,hi=gr&&(!ne||Re&&8<Re&&11>=Re),Vr=" ",kr=!1;function To(a,s){switch(a){case"keyup":return Le.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ms(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ys=!1;function Kx(a,s){switch(a){case"compositionend":return ms(s);case"keypress":return s.which!==32?null:(kr=!0,Vr);case"textInput":return a=s.data,a===Vr&&kr?null:a;default:return null}}function Wx(a,s){if(ys)return a==="compositionend"||!ne&&To(a,s)?(a=ju(),Eo=Hu=ui=null,ys=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return hi&&s.locale!=="ko"?null:s.data;default:return null}}var Qx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wg(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!Qx[a.type]:s==="textarea"}function Tg(a,s,l,h){la?si?si.push(h):si=[h]:la=h,s=Df(s,"onChange"),0<s.length&&(l=new li("onChange","change",null,l,h),a.push({event:l,listeners:s}))}var Yu=null,Ku=null;function Zx(a){oy(a,0)}function Hc(a){var s=er(a);if(vo(s))return a}function Sg(a,s){if(a==="change")return s}var Cg=!1;if(gr){var md;if(gr){var yd="oninput"in document;if(!yd){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),yd=typeof Ig.oninput=="function"}md=yd}else md=!1;Cg=md&&(!document.documentMode||9<document.documentMode)}function bg(){Yu&&(Yu.detachEvent("onpropertychange",Rg),Ku=Yu=null)}function Rg(a){if(a.propertyName==="value"&&Hc(Ku)){var s=[];Tg(s,Ku,a,pr(a)),ca(Zx,s)}}function $x(a,s,l){a==="focusin"?(bg(),Yu=s,Ku=l,Yu.attachEvent("onpropertychange",Rg)):a==="focusout"&&bg()}function Jx(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Hc(Ku)}function tw(a,s){if(a==="click")return Hc(s)}function ew(a,s){if(a==="input"||a==="change")return Hc(s)}function nw(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var rr=typeof Object.is=="function"?Object.is:nw;function Wu(a,s){if(rr(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var l=Object.keys(a),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var v=l[h];if(!Ue.call(s,v)||!rr(a[v],s[v]))return!1}return!0}function Og(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Dg(a,s){var l=Og(a);a=0;for(var h;l;){if(l.nodeType===3){if(h=a+l.textContent.length,a<=s&&h>=s)return{node:l,offset:s-a};a=h}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Og(l)}}function Ng(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?Ng(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function Mg(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=oi(a.document);s instanceof a.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)a=s.contentWindow;else break;s=oi(a.document)}return s}function _d(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var rw=gr&&"documentMode"in document&&11>=document.documentMode,_s=null,Ed=null,Qu=null,Ad=!1;function Pg(a,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ad||_s==null||_s!==oi(h)||(h=_s,"selectionStart"in h&&_d(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Qu&&Wu(Qu,h)||(Qu=h,h=Df(Ed,"onSelect"),0<h.length&&(s=new li("onSelect","select",null,s,l),a.push({event:s,listeners:h}),s.target=_s)))}function So(a,s){var l={};return l[a.toLowerCase()]=s.toLowerCase(),l["Webkit"+a]="webkit"+s,l["Moz"+a]="moz"+s,l}var Es={animationend:So("Animation","AnimationEnd"),animationiteration:So("Animation","AnimationIteration"),animationstart:So("Animation","AnimationStart"),transitionrun:So("Transition","TransitionRun"),transitionstart:So("Transition","TransitionStart"),transitioncancel:So("Transition","TransitionCancel"),transitionend:So("Transition","TransitionEnd")},xd={},Lg={};gr&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function Co(a){if(xd[a])return xd[a];if(!Es[a])return a;var s=Es[a],l;for(l in s)if(s.hasOwnProperty(l)&&l in Lg)return xd[a]=s[l];return a}var Bg=Co("animationend"),Vg=Co("animationiteration"),kg=Co("animationstart"),iw=Co("transitionrun"),aw=Co("transitionstart"),ow=Co("transitioncancel"),Ug=Co("transitionend"),Fg=new Map,wd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wd.push("scrollEnd");function Ur(a,s){Fg.set(a,s),ii(s,[a])}var jc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},mr=[],As=0,Td=0;function Gc(){for(var a=As,s=Td=As=0;s<a;){var l=mr[s];mr[s++]=null;var h=mr[s];mr[s++]=null;var v=mr[s];mr[s++]=null;var y=mr[s];if(mr[s++]=null,h!==null&&v!==null){var x=h.pending;x===null?v.next=v:(v.next=x.next,x.next=v),h.pending=v}y!==0&&zg(l,v,y)}}function qc(a,s,l,h){mr[As++]=a,mr[As++]=s,mr[As++]=l,mr[As++]=h,Td|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function Sd(a,s,l,h){return qc(a,s,l,h),Xc(a)}function Io(a,s){return qc(a,null,null,s),Xc(a)}function zg(a,s,l){a.lanes|=l;var h=a.alternate;h!==null&&(h.lanes|=l);for(var v=!1,y=a.return;y!==null;)y.childLanes|=l,h=y.alternate,h!==null&&(h.childLanes|=l),y.tag===22&&(a=y.stateNode,a===null||a._visibility&1||(v=!0)),a=y,y=y.return;return a.tag===3?(y=a.stateNode,v&&s!==null&&(v=31-Pe(l),a=y.hiddenUpdates,h=a[v],h===null?a[v]=[s]:h.push(s),s.lane=l|536870912),y):null}function Xc(a){if(50<yl)throw yl=0,P1=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var xs={};function sw(a,s,l,h){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(a,s,l,h){return new sw(a,s,l,h)}function Cd(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Di(a,s){var l=a.alternate;return l===null?(l=ir(a.tag,s,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=s,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&65011712,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,s=a.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function Hg(a,s){a.flags&=65011714;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,s=l.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Yc(a,s,l,h,v,y){var x=0;if(h=a,typeof a=="function")Cd(a)&&(x=1);else if(typeof a=="string")x=h3(a,l,pt.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case P:return a=ir(31,l,s,v),a.elementType=P,a.lanes=y,a;case S:return bo(l.children,v,y,s);case I:x=8,v|=24;break;case N:return a=ir(12,l,s,v|2),a.elementType=N,a.lanes=y,a;case Q:return a=ir(13,l,s,v),a.elementType=Q,a.lanes=y,a;case Z:return a=ir(19,l,s,v),a.elementType=Z,a.lanes=y,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case V:x=10;break t;case L:x=9;break t;case j:x=11;break t;case b:x=14;break t;case R:x=16,h=null;break t}x=29,l=Error(r(130,a===null?"null":typeof a,"")),h=null}return s=ir(x,l,s,v),s.elementType=a,s.type=h,s.lanes=y,s}function bo(a,s,l,h){return a=ir(7,a,h,s),a.lanes=l,a}function Id(a,s,l){return a=ir(6,a,null,s),a.lanes=l,a}function jg(a){var s=ir(18,null,null,0);return s.stateNode=a,s}function bd(a,s,l){return s=ir(4,a.children!==null?a.children:[],a.key,s),s.lanes=l,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var Gg=new WeakMap;function yr(a,s){if(typeof a=="object"&&a!==null){var l=Gg.get(a);return l!==void 0?l:(s={value:a,source:s,stack:Iu(s)},Gg.set(a,s),s)}return{value:a,source:s,stack:Iu(s)}}var ws=[],Ts=0,Kc=null,Zu=0,_r=[],Er=0,pa=null,di=1,pi="";function Ni(a,s){ws[Ts++]=Zu,ws[Ts++]=Kc,Kc=a,Zu=s}function qg(a,s,l){_r[Er++]=di,_r[Er++]=pi,_r[Er++]=pa,pa=a;var h=di;a=pi;var v=32-Pe(h)-1;h&=~(1<<v),l+=1;var y=32-Pe(s)+v;if(30<y){var x=v-v%5;y=(h&(1<<x)-1).toString(32),h>>=x,v-=x,di=1<<32-Pe(s)+v|l<<v|h,pi=y+a}else di=1<<y|l<<v|h,pi=a}function Rd(a){a.return!==null&&(Ni(a,1),qg(a,1,0))}function Od(a){for(;a===Kc;)Kc=ws[--Ts],ws[Ts]=null,Zu=ws[--Ts],ws[Ts]=null;for(;a===pa;)pa=_r[--Er],_r[Er]=null,pi=_r[--Er],_r[Er]=null,di=_r[--Er],_r[Er]=null}function Xg(a,s){_r[Er++]=di,_r[Er++]=pi,_r[Er++]=pa,di=s.id,pi=s.overflow,pa=a}var _n=null,Ae=null,Yt=!1,ga=null,Ar=!1,Dd=Error(r(519));function va(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $u(yr(s,a)),Dd}function Yg(a){var s=a.stateNode,l=a.type,h=a.memoizedProps;switch(s[ze]=a,s[ln]=h,l){case"dialog":zt("cancel",s),zt("close",s);break;case"iframe":case"object":case"embed":zt("load",s);break;case"video":case"audio":for(l=0;l<El.length;l++)zt(El[l],s);break;case"source":zt("error",s);break;case"img":case"image":case"link":zt("error",s),zt("load",s);break;case"details":zt("toggle",s);break;case"input":zt("invalid",s),Ic(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":zt("invalid",s);break;case"textarea":zt("invalid",s),sa(s,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||h.suppressHydrationWarning===!0||cy(s.textContent,l)?(h.popover!=null&&(zt("beforetoggle",s),zt("toggle",s)),h.onScroll!=null&&zt("scroll",s),h.onScrollEnd!=null&&zt("scrollend",s),h.onClick!=null&&(s.onclick=Pr),s=!0):s=!1,s||va(a,!0)}function Kg(a){for(_n=a.return;_n;)switch(_n.tag){case 5:case 31:case 13:Ar=!1;return;case 27:case 3:Ar=!0;return;default:_n=_n.return}}function Ss(a){if(a!==_n)return!1;if(!Yt)return Kg(a),Yt=!0,!1;var s=a.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||W1(a.type,a.memoizedProps)),l=!l),l&&Ae&&va(a),Kg(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Ae=_y(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Ae=_y(a)}else s===27?(s=Ae,Oa(a.type)?(a=t0,t0=null,Ae=a):Ae=s):Ae=_n?wr(a.stateNode.nextSibling):null;return!0}function Ro(){Ae=_n=null,Yt=!1}function Nd(){var a=ga;return a!==null&&(Kn===null?Kn=a:Kn.push.apply(Kn,a),ga=null),a}function $u(a){ga===null?ga=[a]:ga.push(a)}var Md=H(null),Oo=null,Mi=null;function ma(a,s,l){ht(Md,s._currentValue),s._currentValue=l}function Pi(a){a._currentValue=Md.current,ot(Md)}function Pd(a,s,l){for(;a!==null;){var h=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),a===l)break;a=a.return}}function Ld(a,s,l,h){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var y=v.dependencies;if(y!==null){var x=v.child;y=y.firstContext;t:for(;y!==null;){var C=y;y=v;for(var k=0;k<s.length;k++)if(C.context===s[k]){y.lanes|=l,C=y.alternate,C!==null&&(C.lanes|=l),Pd(y.return,l,a),h||(x=null);break t}y=C.next}}else if(v.tag===18){if(x=v.return,x===null)throw Error(r(341));x.lanes|=l,y=x.alternate,y!==null&&(y.lanes|=l),Pd(x,l,a),x=null}else x=v.child;if(x!==null)x.return=v;else for(x=v;x!==null;){if(x===a){x=null;break}if(v=x.sibling,v!==null){v.return=x.return,x=v;break}x=x.return}v=x}}function Cs(a,s,l,h){a=null;for(var v=s,y=!1;v!==null;){if(!y){if((v.flags&524288)!==0)y=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var x=v.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var C=v.type;rr(v.pendingProps.value,x.value)||(a!==null?a.push(C):a=[C])}}else if(v===Kt.current){if(x=v.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Sl):a=[Sl])}v=v.return}a!==null&&Ld(s,a,l,h),s.flags|=262144}function Wc(a){for(a=a.firstContext;a!==null;){if(!rr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Do(a){Oo=a,Mi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function En(a){return Wg(Oo,a)}function Qc(a,s){return Oo===null&&Do(a),Wg(a,s)}function Wg(a,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Mi===null){if(a===null)throw Error(r(308));Mi=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else Mi=Mi.next=s;return l}var uw=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(l,h){a.push(h)}};this.abort=function(){s.aborted=!0,a.forEach(function(l){return l()})}},lw=n.unstable_scheduleCallback,cw=n.unstable_NormalPriority,Ge={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bd(){return{controller:new uw,data:new Map,refCount:0}}function Ju(a){a.refCount--,a.refCount===0&&lw(cw,function(){a.controller.abort()})}var tl=null,Vd=0,Is=0,bs=null;function fw(a,s){if(tl===null){var l=tl=[];Vd=0,Is=F1(),bs={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Vd++,s.then(Qg,Qg),s}function Qg(){if(--Vd===0&&tl!==null){bs!==null&&(bs.status="fulfilled");var a=tl;tl=null,Is=0,bs=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function hw(a,s){var l=[],h={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return a.then(function(){h.status="fulfilled",h.value=s;for(var v=0;v<l.length;v++)(0,l[v])(s)},function(v){for(h.status="rejected",h.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),h}var Zg=tt.S;tt.S=function(a,s){Pm=Vn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&fw(a,s),Zg!==null&&Zg(a,s)};var No=H(null);function kd(){var a=No.current;return a!==null?a:_e.pooledCache}function Zc(a,s){s===null?ht(No,No.current):ht(No,s.pool)}function $g(){var a=kd();return a===null?null:{parent:Ge._currentValue,pool:a}}var Rs=Error(r(460)),Ud=Error(r(474)),$c=Error(r(542)),Jc={then:function(){}};function Jg(a){return a=a.status,a==="fulfilled"||a==="rejected"}function tv(a,s,l){switch(l=a[l],l===void 0?a.push(s):l!==s&&(s.then(Pr,Pr),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,nv(a),a;default:if(typeof s.status=="string")s.then(Pr,Pr);else{if(a=_e,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(h){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=h}},function(h){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,nv(a),a}throw Po=s,Rs}}function Mo(a){try{var s=a._init;return s(a._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Po=l,Rs):l}}var Po=null;function ev(){if(Po===null)throw Error(r(459));var a=Po;return Po=null,a}function nv(a){if(a===Rs||a===$c)throw Error(r(483))}var Os=null,el=0;function tf(a){var s=el;return el+=1,Os===null&&(Os=[]),tv(Os,a,s)}function nl(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function ef(a,s){throw s.$$typeof===_?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function rv(a){function s(G,z){if(a){var Y=G.deletions;Y===null?(G.deletions=[z],G.flags|=16):Y.push(z)}}function l(G,z){if(!a)return null;for(;z!==null;)s(G,z),z=z.sibling;return null}function h(G){for(var z=new Map;G!==null;)G.key!==null?z.set(G.key,G):z.set(G.index,G),G=G.sibling;return z}function v(G,z){return G=Di(G,z),G.index=0,G.sibling=null,G}function y(G,z,Y){return G.index=Y,a?(Y=G.alternate,Y!==null?(Y=Y.index,Y<z?(G.flags|=67108866,z):Y):(G.flags|=67108866,z)):(G.flags|=1048576,z)}function x(G){return a&&G.alternate===null&&(G.flags|=67108866),G}function C(G,z,Y,rt){return z===null||z.tag!==6?(z=Id(Y,G.mode,rt),z.return=G,z):(z=v(z,Y),z.return=G,z)}function k(G,z,Y,rt){var At=Y.type;return At===S?nt(G,z,Y.props.children,rt,Y.key):z!==null&&(z.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===R&&Mo(At)===z.type)?(z=v(z,Y.props),nl(z,Y),z.return=G,z):(z=Yc(Y.type,Y.key,Y.props,null,G.mode,rt),nl(z,Y),z.return=G,z)}function K(G,z,Y,rt){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=bd(Y,G.mode,rt),z.return=G,z):(z=v(z,Y.children||[]),z.return=G,z)}function nt(G,z,Y,rt,At){return z===null||z.tag!==7?(z=bo(Y,G.mode,rt,At),z.return=G,z):(z=v(z,Y),z.return=G,z)}function at(G,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Id(""+z,G.mode,Y),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case E:return Y=Yc(z.type,z.key,z.props,null,G.mode,Y),nl(Y,z),Y.return=G,Y;case w:return z=bd(z,G.mode,Y),z.return=G,z;case R:return z=Mo(z),at(G,z,Y)}if(bt(z)||F(z))return z=bo(z,G.mode,Y,null),z.return=G,z;if(typeof z.then=="function")return at(G,tf(z),Y);if(z.$$typeof===V)return at(G,Qc(G,z),Y);ef(G,z)}return null}function W(G,z,Y,rt){var At=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return At!==null?null:C(G,z,""+Y,rt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:return Y.key===At?k(G,z,Y,rt):null;case w:return Y.key===At?K(G,z,Y,rt):null;case R:return Y=Mo(Y),W(G,z,Y,rt)}if(bt(Y)||F(Y))return At!==null?null:nt(G,z,Y,rt,null);if(typeof Y.then=="function")return W(G,z,tf(Y),rt);if(Y.$$typeof===V)return W(G,z,Qc(G,Y),rt);ef(G,Y)}return null}function J(G,z,Y,rt,At){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return G=G.get(Y)||null,C(z,G,""+rt,At);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case E:return G=G.get(rt.key===null?Y:rt.key)||null,k(z,G,rt,At);case w:return G=G.get(rt.key===null?Y:rt.key)||null,K(z,G,rt,At);case R:return rt=Mo(rt),J(G,z,Y,rt,At)}if(bt(rt)||F(rt))return G=G.get(Y)||null,nt(z,G,rt,At,null);if(typeof rt.then=="function")return J(G,z,Y,tf(rt),At);if(rt.$$typeof===V)return J(G,z,Y,Qc(z,rt),At);ef(z,rt)}return null}function gt(G,z,Y,rt){for(var At=null,Jt=null,mt=z,Vt=z=0,jt=null;mt!==null&&Vt<Y.length;Vt++){mt.index>Vt?(jt=mt,mt=null):jt=mt.sibling;var te=W(G,mt,Y[Vt],rt);if(te===null){mt===null&&(mt=jt);break}a&&mt&&te.alternate===null&&s(G,mt),z=y(te,z,Vt),Jt===null?At=te:Jt.sibling=te,Jt=te,mt=jt}if(Vt===Y.length)return l(G,mt),Yt&&Ni(G,Vt),At;if(mt===null){for(;Vt<Y.length;Vt++)mt=at(G,Y[Vt],rt),mt!==null&&(z=y(mt,z,Vt),Jt===null?At=mt:Jt.sibling=mt,Jt=mt);return Yt&&Ni(G,Vt),At}for(mt=h(mt);Vt<Y.length;Vt++)jt=J(mt,G,Vt,Y[Vt],rt),jt!==null&&(a&&jt.alternate!==null&&mt.delete(jt.key===null?Vt:jt.key),z=y(jt,z,Vt),Jt===null?At=jt:Jt.sibling=jt,Jt=jt);return a&&mt.forEach(function(La){return s(G,La)}),Yt&&Ni(G,Vt),At}function St(G,z,Y,rt){if(Y==null)throw Error(r(151));for(var At=null,Jt=null,mt=z,Vt=z=0,jt=null,te=Y.next();mt!==null&&!te.done;Vt++,te=Y.next()){mt.index>Vt?(jt=mt,mt=null):jt=mt.sibling;var La=W(G,mt,te.value,rt);if(La===null){mt===null&&(mt=jt);break}a&&mt&&La.alternate===null&&s(G,mt),z=y(La,z,Vt),Jt===null?At=La:Jt.sibling=La,Jt=La,mt=jt}if(te.done)return l(G,mt),Yt&&Ni(G,Vt),At;if(mt===null){for(;!te.done;Vt++,te=Y.next())te=at(G,te.value,rt),te!==null&&(z=y(te,z,Vt),Jt===null?At=te:Jt.sibling=te,Jt=te);return Yt&&Ni(G,Vt),At}for(mt=h(mt);!te.done;Vt++,te=Y.next())te=J(mt,G,Vt,te.value,rt),te!==null&&(a&&te.alternate!==null&&mt.delete(te.key===null?Vt:te.key),z=y(te,z,Vt),Jt===null?At=te:Jt.sibling=te,Jt=te);return a&&mt.forEach(function(w3){return s(G,w3)}),Yt&&Ni(G,Vt),At}function me(G,z,Y,rt){if(typeof Y=="object"&&Y!==null&&Y.type===S&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:t:{for(var At=Y.key;z!==null;){if(z.key===At){if(At=Y.type,At===S){if(z.tag===7){l(G,z.sibling),rt=v(z,Y.props.children),rt.return=G,G=rt;break t}}else if(z.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===R&&Mo(At)===z.type){l(G,z.sibling),rt=v(z,Y.props),nl(rt,Y),rt.return=G,G=rt;break t}l(G,z);break}else s(G,z);z=z.sibling}Y.type===S?(rt=bo(Y.props.children,G.mode,rt,Y.key),rt.return=G,G=rt):(rt=Yc(Y.type,Y.key,Y.props,null,G.mode,rt),nl(rt,Y),rt.return=G,G=rt)}return x(G);case w:t:{for(At=Y.key;z!==null;){if(z.key===At)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){l(G,z.sibling),rt=v(z,Y.children||[]),rt.return=G,G=rt;break t}else{l(G,z);break}else s(G,z);z=z.sibling}rt=bd(Y,G.mode,rt),rt.return=G,G=rt}return x(G);case R:return Y=Mo(Y),me(G,z,Y,rt)}if(bt(Y))return gt(G,z,Y,rt);if(F(Y)){if(At=F(Y),typeof At!="function")throw Error(r(150));return Y=At.call(Y),St(G,z,Y,rt)}if(typeof Y.then=="function")return me(G,z,tf(Y),rt);if(Y.$$typeof===V)return me(G,z,Qc(G,Y),rt);ef(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,z!==null&&z.tag===6?(l(G,z.sibling),rt=v(z,Y),rt.return=G,G=rt):(l(G,z),rt=Id(Y,G.mode,rt),rt.return=G,G=rt),x(G)):l(G,z)}return function(G,z,Y,rt){try{el=0;var At=me(G,z,Y,rt);return Os=null,At}catch(mt){if(mt===Rs||mt===$c)throw mt;var Jt=ir(29,mt,null,G.mode);return Jt.lanes=rt,Jt.return=G,Jt}finally{}}}var Lo=rv(!0),iv=rv(!1),ya=!1;function Fd(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zd(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function _a(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ea(a,s,l){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(re&2)!==0){var v=h.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),h.pending=s,s=Xc(a),zg(a,null,l),s}return qc(a,h,s,l),Xc(a)}function rl(a,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var h=s.lanes;h&=a.pendingLanes,l|=h,s.lanes=l,Ou(a,l)}}function Hd(a,s){var l=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var v=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?v=y=x:y=y.next=x,l=l.next}while(l!==null);y===null?v=y=s:y=y.next=s}else v=y=s;l={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=s:a.next=s,l.lastBaseUpdate=s}var jd=!1;function il(){if(jd){var a=bs;if(a!==null)throw a}}function al(a,s,l,h){jd=!1;var v=a.updateQueue;ya=!1;var y=v.firstBaseUpdate,x=v.lastBaseUpdate,C=v.shared.pending;if(C!==null){v.shared.pending=null;var k=C,K=k.next;k.next=null,x===null?y=K:x.next=K,x=k;var nt=a.alternate;nt!==null&&(nt=nt.updateQueue,C=nt.lastBaseUpdate,C!==x&&(C===null?nt.firstBaseUpdate=K:C.next=K,nt.lastBaseUpdate=k))}if(y!==null){var at=v.baseState;x=0,nt=K=k=null,C=y;do{var W=C.lane&-536870913,J=W!==C.lane;if(J?(Ht&W)===W:(h&W)===W){W!==0&&W===Is&&(jd=!0),nt!==null&&(nt=nt.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var gt=a,St=C;W=s;var me=l;switch(St.tag){case 1:if(gt=St.payload,typeof gt=="function"){at=gt.call(me,at,W);break t}at=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=St.payload,W=typeof gt=="function"?gt.call(me,at,W):gt,W==null)break t;at=m({},at,W);break t;case 2:ya=!0}}W=C.callback,W!==null&&(a.flags|=64,J&&(a.flags|=8192),J=v.callbacks,J===null?v.callbacks=[W]:J.push(W))}else J={lane:W,tag:C.tag,payload:C.payload,callback:C.callback,next:null},nt===null?(K=nt=J,k=at):nt=nt.next=J,x|=W;if(C=C.next,C===null){if(C=v.shared.pending,C===null)break;J=C,C=J.next,J.next=null,v.lastBaseUpdate=J,v.shared.pending=null}}while(!0);nt===null&&(k=at),v.baseState=k,v.firstBaseUpdate=K,v.lastBaseUpdate=nt,y===null&&(v.shared.lanes=0),Sa|=x,a.lanes=x,a.memoizedState=at}}function av(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function ov(a,s){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)av(l[a],s)}var Ds=H(null),nf=H(0);function sv(a,s){a=ji,ht(nf,a),ht(Ds,s),ji=a|s.baseLanes}function Gd(){ht(nf,ji),ht(Ds,Ds.current)}function qd(){ji=nf.current,ot(Ds),ot(nf)}var ar=H(null),xr=null;function Aa(a){var s=a.alternate;ht(Be,Be.current&1),ht(ar,a),xr===null&&(s===null||Ds.current!==null||s.memoizedState!==null)&&(xr=a)}function Xd(a){ht(Be,Be.current),ht(ar,a),xr===null&&(xr=a)}function uv(a){a.tag===22?(ht(Be,Be.current),ht(ar,a),xr===null&&(xr=a)):xa()}function xa(){ht(Be,Be.current),ht(ar,ar.current)}function or(a){ot(ar),xr===a&&(xr=null),ot(Be)}var Be=H(0);function rf(a){for(var s=a;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||$1(l)||J1(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Li=0,Pt=null,ge=null,qe=null,af=!1,Ns=!1,Bo=!1,of=0,ol=0,Ms=null,dw=0;function Ne(){throw Error(r(321))}function Yd(a,s){if(s===null)return!1;for(var l=0;l<s.length&&l<a.length;l++)if(!rr(a[l],s[l]))return!1;return!0}function Kd(a,s,l,h,v,y){return Li=y,Pt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,tt.H=a===null||a.memoizedState===null?qv:l1,Bo=!1,y=l(h,v),Bo=!1,Ns&&(y=cv(s,l,h,v)),lv(a),y}function lv(a){tt.H=ll;var s=ge!==null&&ge.next!==null;if(Li=0,qe=ge=Pt=null,af=!1,ol=0,Ms=null,s)throw Error(r(300));a===null||Xe||(a=a.dependencies,a!==null&&Wc(a)&&(Xe=!0))}function cv(a,s,l,h){Pt=a;var v=0;do{if(Ns&&(Ms=null),ol=0,Ns=!1,25<=v)throw Error(r(301));if(v+=1,qe=ge=null,a.updateQueue!=null){var y=a.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}tt.H=Xv,y=s(l,h)}while(Ns);return y}function pw(){var a=tt.H,s=a.useState()[0];return s=typeof s.then=="function"?sl(s):s,a=a.useState()[0],(ge!==null?ge.memoizedState:null)!==a&&(Pt.flags|=1024),s}function Wd(){var a=of!==0;return of=0,a}function Qd(a,s,l){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~l}function Zd(a){if(af){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}af=!1}Li=0,qe=ge=Pt=null,Ns=!1,ol=of=0,Ms=null}function Un(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Pt.memoizedState=qe=a:qe=qe.next=a,qe}function Ve(){if(ge===null){var a=Pt.alternate;a=a!==null?a.memoizedState:null}else a=ge.next;var s=qe===null?Pt.memoizedState:qe.next;if(s!==null)qe=s,ge=a;else{if(a===null)throw Pt.alternate===null?Error(r(467)):Error(r(310));ge=a,a={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},qe===null?Pt.memoizedState=qe=a:qe=qe.next=a}return qe}function sf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(a){var s=ol;return ol+=1,Ms===null&&(Ms=[]),a=tv(Ms,a,s),s=Pt,(qe===null?s.memoizedState:qe.next)===null&&(s=s.alternate,tt.H=s===null||s.memoizedState===null?qv:l1),a}function uf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return sl(a);if(a.$$typeof===V)return En(a)}throw Error(r(438,String(a)))}function $d(a){var s=null,l=Pt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var h=Pt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=sf(),Pt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(a),h=0;h<a;h++)l[h]=B;return s.index++,l}function Bi(a,s){return typeof s=="function"?s(a):s}function lf(a){var s=Ve();return Jd(s,ge,a)}function Jd(a,s,l){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var v=a.baseQueue,y=h.pending;if(y!==null){if(v!==null){var x=v.next;v.next=y.next,y.next=x}s.baseQueue=v=y,h.pending=null}if(y=a.baseState,v===null)a.memoizedState=y;else{s=v.next;var C=x=null,k=null,K=s,nt=!1;do{var at=K.lane&-536870913;if(at!==K.lane?(Ht&at)===at:(Li&at)===at){var W=K.revertLane;if(W===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),at===Is&&(nt=!0);else if((Li&W)===W){K=K.next,W===Is&&(nt=!0);continue}else at={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},k===null?(C=k=at,x=y):k=k.next=at,Pt.lanes|=W,Sa|=W;at=K.action,Bo&&l(y,at),y=K.hasEagerState?K.eagerState:l(y,at)}else W={lane:at,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},k===null?(C=k=W,x=y):k=k.next=W,Pt.lanes|=at,Sa|=at;K=K.next}while(K!==null&&K!==s);if(k===null?x=y:k.next=C,!rr(y,a.memoizedState)&&(Xe=!0,nt&&(l=bs,l!==null)))throw l;a.memoizedState=y,a.baseState=x,a.baseQueue=k,h.lastRenderedState=y}return v===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function t1(a){var s=Ve(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=l.dispatch,v=l.pending,y=s.memoizedState;if(v!==null){l.pending=null;var x=v=v.next;do y=a(y,x.action),x=x.next;while(x!==v);rr(y,s.memoizedState)||(Xe=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function fv(a,s,l){var h=Pt,v=Ve(),y=Yt;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=s();var x=!rr((ge||v).memoizedState,l);if(x&&(v.memoizedState=l,Xe=!0),v=v.queue,r1(pv.bind(null,h,v,a),[a]),v.getSnapshot!==s||x||qe!==null&&qe.memoizedState.tag&1){if(h.flags|=2048,Ps(9,{destroy:void 0},dv.bind(null,h,v,l,s),null),_e===null)throw Error(r(349));y||(Li&127)!==0||hv(h,s,l)}return l}function hv(a,s,l){a.flags|=16384,a={getSnapshot:s,value:l},s=Pt.updateQueue,s===null?(s=sf(),Pt.updateQueue=s,s.stores=[a]):(l=s.stores,l===null?s.stores=[a]:l.push(a))}function dv(a,s,l,h){s.value=l,s.getSnapshot=h,gv(s)&&vv(a)}function pv(a,s,l){return l(function(){gv(s)&&vv(a)})}function gv(a){var s=a.getSnapshot;a=a.value;try{var l=s();return!rr(a,l)}catch{return!0}}function vv(a){var s=Io(a,2);s!==null&&Wn(s,a,2)}function e1(a){var s=Un();if(typeof a=="function"){var l=a;if(a=l(),Bo){hr(!0);try{l()}finally{hr(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},s}function mv(a,s,l,h){return a.baseState=l,Jd(a,ge,typeof h=="function"?h:Bi)}function gw(a,s,l,h,v){if(hf(a))throw Error(r(485));if(a=s.action,a!==null){var y={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};tt.T!==null?l(!0):y.isTransition=!1,h(y),l=s.pending,l===null?(y.next=s.pending=y,yv(s,y)):(y.next=l.next,s.pending=l.next=y)}}function yv(a,s){var l=s.action,h=s.payload,v=a.state;if(s.isTransition){var y=tt.T,x={};tt.T=x;try{var C=l(v,h),k=tt.S;k!==null&&k(x,C),_v(a,s,C)}catch(K){n1(a,s,K)}finally{y!==null&&x.types!==null&&(y.types=x.types),tt.T=y}}else try{y=l(v,h),_v(a,s,y)}catch(K){n1(a,s,K)}}function _v(a,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){Ev(a,s,h)},function(h){return n1(a,s,h)}):Ev(a,s,l)}function Ev(a,s,l){s.status="fulfilled",s.value=l,Av(s),a.state=l,s=a.pending,s!==null&&(l=s.next,l===s?a.pending=null:(l=l.next,s.next=l,yv(a,l)))}function n1(a,s,l){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=l,Av(s),s=s.next;while(s!==h)}a.action=null}function Av(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function xv(a,s){return s}function wv(a,s){if(Yt){var l=_e.formState;if(l!==null){t:{var h=Pt;if(Yt){if(Ae){e:{for(var v=Ae,y=Ar;v.nodeType!==8;){if(!y){v=null;break e}if(v=wr(v.nextSibling),v===null){v=null;break e}}y=v.data,v=y==="F!"||y==="F"?v:null}if(v){Ae=wr(v.nextSibling),h=v.data==="F!";break t}}va(h)}h=!1}h&&(s=l[0])}}return l=Un(),l.memoizedState=l.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xv,lastRenderedState:s},l.queue=h,l=Hv.bind(null,Pt,h),h.dispatch=l,h=e1(!1),y=u1.bind(null,Pt,!1,h.queue),h=Un(),v={state:s,dispatch:null,action:a,pending:null},h.queue=v,l=gw.bind(null,Pt,v,y,l),v.dispatch=l,h.memoizedState=a,[s,l,!1]}function Tv(a){var s=Ve();return Sv(s,ge,a)}function Sv(a,s,l){if(s=Jd(a,s,xv)[0],a=lf(Bi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=sl(s)}catch(x){throw x===Rs?$c:x}else h=s;s=Ve();var v=s.queue,y=v.dispatch;return l!==s.memoizedState&&(Pt.flags|=2048,Ps(9,{destroy:void 0},vw.bind(null,v,l),null)),[h,y,a]}function vw(a,s){a.action=s}function Cv(a){var s=Ve(),l=ge;if(l!==null)return Sv(s,l,a);Ve(),s=s.memoizedState,l=Ve();var h=l.queue.dispatch;return l.memoizedState=a,[s,h,!1]}function Ps(a,s,l,h){return a={tag:a,create:l,deps:h,inst:s,next:null},s=Pt.updateQueue,s===null&&(s=sf(),Pt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=a.next=a:(h=l.next,l.next=a,a.next=h,s.lastEffect=a),a}function Iv(){return Ve().memoizedState}function cf(a,s,l,h){var v=Un();Pt.flags|=a,v.memoizedState=Ps(1|s,{destroy:void 0},l,h===void 0?null:h)}function ff(a,s,l,h){var v=Ve();h=h===void 0?null:h;var y=v.memoizedState.inst;ge!==null&&h!==null&&Yd(h,ge.memoizedState.deps)?v.memoizedState=Ps(s,y,l,h):(Pt.flags|=a,v.memoizedState=Ps(1|s,y,l,h))}function bv(a,s){cf(8390656,8,a,s)}function r1(a,s){ff(2048,8,a,s)}function mw(a){Pt.flags|=4;var s=Pt.updateQueue;if(s===null)s=sf(),Pt.updateQueue=s,s.events=[a];else{var l=s.events;l===null?s.events=[a]:l.push(a)}}function Rv(a){var s=Ve().memoizedState;return mw({ref:s,nextImpl:a}),function(){if((re&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Ov(a,s){return ff(4,2,a,s)}function Dv(a,s){return ff(4,4,a,s)}function Nv(a,s){if(typeof s=="function"){a=a();var l=s(a);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function Mv(a,s,l){l=l!=null?l.concat([a]):null,ff(4,4,Nv.bind(null,s,a),l)}function i1(){}function Pv(a,s){var l=Ve();s=s===void 0?null:s;var h=l.memoizedState;return s!==null&&Yd(s,h[1])?h[0]:(l.memoizedState=[a,s],a)}function Lv(a,s){var l=Ve();s=s===void 0?null:s;var h=l.memoizedState;if(s!==null&&Yd(s,h[1]))return h[0];if(h=a(),Bo){hr(!0);try{a()}finally{hr(!1)}}return l.memoizedState=[h,s],h}function a1(a,s,l){return l===void 0||(Li&1073741824)!==0&&(Ht&261930)===0?a.memoizedState=s:(a.memoizedState=l,a=Bm(),Pt.lanes|=a,Sa|=a,l)}function Bv(a,s,l,h){return rr(l,s)?l:Ds.current!==null?(a=a1(a,l,h),rr(a,s)||(Xe=!0),a):(Li&42)===0||(Li&1073741824)!==0&&(Ht&261930)===0?(Xe=!0,a.memoizedState=l):(a=Bm(),Pt.lanes|=a,Sa|=a,s)}function Vv(a,s,l,h,v){var y=lt.p;lt.p=y!==0&&8>y?y:8;var x=tt.T,C={};tt.T=C,u1(a,!1,s,l);try{var k=v(),K=tt.S;if(K!==null&&K(C,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var nt=hw(k,h);ul(a,s,nt,lr(a))}else ul(a,s,h,lr(a))}catch(at){ul(a,s,{then:function(){},status:"rejected",reason:at},lr())}finally{lt.p=y,x!==null&&C.types!==null&&(x.types=C.types),tt.T=x}}function yw(){}function o1(a,s,l,h){if(a.tag!==5)throw Error(r(476));var v=kv(a).queue;Vv(a,v,s,Et,l===null?yw:function(){return Uv(a),l(h)})}function kv(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:Et,baseState:Et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:Et},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:l},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function Uv(a){var s=kv(a);s.next===null&&(s=a.alternate.memoizedState),ul(a,s.next.queue,{},lr())}function s1(){return En(Sl)}function Fv(){return Ve().memoizedState}function zv(){return Ve().memoizedState}function _w(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var l=lr();a=_a(l);var h=Ea(s,a,l);h!==null&&(Wn(h,s,l),rl(h,s,l)),s={cache:Bd()},a.payload=s;return}s=s.return}}function Ew(a,s,l){var h=lr();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},hf(a)?jv(s,l):(l=Sd(a,s,l,h),l!==null&&(Wn(l,a,h),Gv(l,s,h)))}function Hv(a,s,l){var h=lr();ul(a,s,l,h)}function ul(a,s,l,h){var v={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(hf(a))jv(s,v);else{var y=a.alternate;if(a.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var x=s.lastRenderedState,C=y(x,l);if(v.hasEagerState=!0,v.eagerState=C,rr(C,x))return qc(a,s,v,0),_e===null&&Gc(),!1}catch{}finally{}if(l=Sd(a,s,v,h),l!==null)return Wn(l,a,h),Gv(l,s,h),!0}return!1}function u1(a,s,l,h){if(h={lane:2,revertLane:F1(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},hf(a)){if(s)throw Error(r(479))}else s=Sd(a,l,h,2),s!==null&&Wn(s,a,2)}function hf(a){var s=a.alternate;return a===Pt||s!==null&&s===Pt}function jv(a,s){Ns=af=!0;var l=a.pending;l===null?s.next=s:(s.next=l.next,l.next=s),a.pending=s}function Gv(a,s,l){if((l&4194048)!==0){var h=s.lanes;h&=a.pendingLanes,l|=h,s.lanes=l,Ou(a,l)}}var ll={readContext:En,use:uf,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useLayoutEffect:Ne,useInsertionEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useSyncExternalStore:Ne,useId:Ne,useHostTransitionStatus:Ne,useFormState:Ne,useActionState:Ne,useOptimistic:Ne,useMemoCache:Ne,useCacheRefresh:Ne};ll.useEffectEvent=Ne;var qv={readContext:En,use:uf,useCallback:function(a,s){return Un().memoizedState=[a,s===void 0?null:s],a},useContext:En,useEffect:bv,useImperativeHandle:function(a,s,l){l=l!=null?l.concat([a]):null,cf(4194308,4,Nv.bind(null,s,a),l)},useLayoutEffect:function(a,s){return cf(4194308,4,a,s)},useInsertionEffect:function(a,s){cf(4,2,a,s)},useMemo:function(a,s){var l=Un();s=s===void 0?null:s;var h=a();if(Bo){hr(!0);try{a()}finally{hr(!1)}}return l.memoizedState=[h,s],h},useReducer:function(a,s,l){var h=Un();if(l!==void 0){var v=l(s);if(Bo){hr(!0);try{l(s)}finally{hr(!1)}}}else v=s;return h.memoizedState=h.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},h.queue=a,a=a.dispatch=Ew.bind(null,Pt,a),[h.memoizedState,a]},useRef:function(a){var s=Un();return a={current:a},s.memoizedState=a},useState:function(a){a=e1(a);var s=a.queue,l=Hv.bind(null,Pt,s);return s.dispatch=l,[a.memoizedState,l]},useDebugValue:i1,useDeferredValue:function(a,s){var l=Un();return a1(l,a,s)},useTransition:function(){var a=e1(!1);return a=Vv.bind(null,Pt,a.queue,!0,!1),Un().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,l){var h=Pt,v=Un();if(Yt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),_e===null)throw Error(r(349));(Ht&127)!==0||hv(h,s,l)}v.memoizedState=l;var y={value:l,getSnapshot:s};return v.queue=y,bv(pv.bind(null,h,y,a),[a]),h.flags|=2048,Ps(9,{destroy:void 0},dv.bind(null,h,y,l,s),null),l},useId:function(){var a=Un(),s=_e.identifierPrefix;if(Yt){var l=pi,h=di;l=(h&~(1<<32-Pe(h)-1)).toString(32)+l,s="_"+s+"R_"+l,l=of++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=dw++,s="_"+s+"r_"+l.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:s1,useFormState:wv,useActionState:wv,useOptimistic:function(a){var s=Un();s.memoizedState=s.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=u1.bind(null,Pt,!0,l),l.dispatch=s,[a,s]},useMemoCache:$d,useCacheRefresh:function(){return Un().memoizedState=_w.bind(null,Pt)},useEffectEvent:function(a){var s=Un(),l={impl:a};return s.memoizedState=l,function(){if((re&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},l1={readContext:En,use:uf,useCallback:Pv,useContext:En,useEffect:r1,useImperativeHandle:Mv,useInsertionEffect:Ov,useLayoutEffect:Dv,useMemo:Lv,useReducer:lf,useRef:Iv,useState:function(){return lf(Bi)},useDebugValue:i1,useDeferredValue:function(a,s){var l=Ve();return Bv(l,ge.memoizedState,a,s)},useTransition:function(){var a=lf(Bi)[0],s=Ve().memoizedState;return[typeof a=="boolean"?a:sl(a),s]},useSyncExternalStore:fv,useId:Fv,useHostTransitionStatus:s1,useFormState:Tv,useActionState:Tv,useOptimistic:function(a,s){var l=Ve();return mv(l,ge,a,s)},useMemoCache:$d,useCacheRefresh:zv};l1.useEffectEvent=Rv;var Xv={readContext:En,use:uf,useCallback:Pv,useContext:En,useEffect:r1,useImperativeHandle:Mv,useInsertionEffect:Ov,useLayoutEffect:Dv,useMemo:Lv,useReducer:t1,useRef:Iv,useState:function(){return t1(Bi)},useDebugValue:i1,useDeferredValue:function(a,s){var l=Ve();return ge===null?a1(l,a,s):Bv(l,ge.memoizedState,a,s)},useTransition:function(){var a=t1(Bi)[0],s=Ve().memoizedState;return[typeof a=="boolean"?a:sl(a),s]},useSyncExternalStore:fv,useId:Fv,useHostTransitionStatus:s1,useFormState:Cv,useActionState:Cv,useOptimistic:function(a,s){var l=Ve();return ge!==null?mv(l,ge,a,s):(l.baseState=a,[a,l.queue.dispatch])},useMemoCache:$d,useCacheRefresh:zv};Xv.useEffectEvent=Rv;function c1(a,s,l,h){s=a.memoizedState,l=l(h,s),l=l==null?s:m({},s,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var f1={enqueueSetState:function(a,s,l){a=a._reactInternals;var h=lr(),v=_a(h);v.payload=s,l!=null&&(v.callback=l),s=Ea(a,v,h),s!==null&&(Wn(s,a,h),rl(s,a,h))},enqueueReplaceState:function(a,s,l){a=a._reactInternals;var h=lr(),v=_a(h);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=Ea(a,v,h),s!==null&&(Wn(s,a,h),rl(s,a,h))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var l=lr(),h=_a(l);h.tag=2,s!=null&&(h.callback=s),s=Ea(a,h,l),s!==null&&(Wn(s,a,l),rl(s,a,l))}};function Yv(a,s,l,h,v,y,x){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,y,x):s.prototype&&s.prototype.isPureReactComponent?!Wu(l,h)||!Wu(v,y):!0}function Kv(a,s,l,h){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==a&&f1.enqueueReplaceState(s,s.state,null)}function Vo(a,s){var l=s;if("ref"in s){l={};for(var h in s)h!=="ref"&&(l[h]=s[h])}if(a=a.defaultProps){l===s&&(l=m({},l));for(var v in a)l[v]===void 0&&(l[v]=a[v])}return l}function Wv(a){jc(a)}function Qv(a){console.error(a)}function Zv(a){jc(a)}function df(a,s){try{var l=a.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function $v(a,s,l){try{var h=a.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function h1(a,s,l){return l=_a(l),l.tag=3,l.payload={element:null},l.callback=function(){df(a,s)},l}function Jv(a){return a=_a(a),a.tag=3,a}function tm(a,s,l,h){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var y=h.value;a.payload=function(){return v(y)},a.callback=function(){$v(s,l,h)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(a.callback=function(){$v(s,l,h),typeof v!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var C=h.stack;this.componentDidCatch(h.value,{componentStack:C!==null?C:""})})}function Aw(a,s,l,h,v){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=l.alternate,s!==null&&Cs(s,l,v,!0),l=ar.current,l!==null){switch(l.tag){case 31:case 13:return xr===null?Sf():l.alternate===null&&Me===0&&(Me=3),l.flags&=-257,l.flags|=65536,l.lanes=v,h===Jc?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([h]):s.add(h),V1(a,h,v)),!1;case 22:return l.flags|=65536,h===Jc?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([h]):l.add(h)),V1(a,h,v)),!1}throw Error(r(435,l.tag))}return V1(a,h,v),Sf(),!1}if(Yt)return s=ar.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,h!==Dd&&(a=Error(r(422),{cause:h}),$u(yr(a,l)))):(h!==Dd&&(s=Error(r(423),{cause:h}),$u(yr(s,l))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,h=yr(h,l),v=h1(a.stateNode,h,v),Hd(a,v),Me!==4&&(Me=2)),!1;var y=Error(r(520),{cause:h});if(y=yr(y,l),ml===null?ml=[y]:ml.push(y),Me!==4&&(Me=2),s===null)return!0;h=yr(h,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,a=v&-v,l.lanes|=a,a=h1(l.stateNode,h,a),Hd(l,a),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ca===null||!Ca.has(y))))return l.flags|=65536,v&=-v,l.lanes|=v,v=Jv(v),tm(v,a,l,h),Hd(l,v),!1}l=l.return}while(l!==null);return!1}var d1=Error(r(461)),Xe=!1;function An(a,s,l,h){s.child=a===null?iv(s,null,l,h):Lo(s,a.child,l,h)}function em(a,s,l,h,v){l=l.render;var y=s.ref;if("ref"in h){var x={};for(var C in h)C!=="ref"&&(x[C]=h[C])}else x=h;return Do(s),h=Kd(a,s,l,x,y,v),C=Wd(),a!==null&&!Xe?(Qd(a,s,v),Vi(a,s,v)):(Yt&&C&&Rd(s),s.flags|=1,An(a,s,h,v),s.child)}function nm(a,s,l,h,v){if(a===null){var y=l.type;return typeof y=="function"&&!Cd(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,rm(a,s,y,h,v)):(a=Yc(l.type,null,h,s,s.mode,v),a.ref=s.ref,a.return=s,s.child=a)}if(y=a.child,!A1(a,v)){var x=y.memoizedProps;if(l=l.compare,l=l!==null?l:Wu,l(x,h)&&a.ref===s.ref)return Vi(a,s,v)}return s.flags|=1,a=Di(y,h),a.ref=s.ref,a.return=s,s.child=a}function rm(a,s,l,h,v){if(a!==null){var y=a.memoizedProps;if(Wu(y,h)&&a.ref===s.ref)if(Xe=!1,s.pendingProps=h=y,A1(a,v))(a.flags&131072)!==0&&(Xe=!0);else return s.lanes=a.lanes,Vi(a,s,v)}return p1(a,s,l,h,v)}function im(a,s,l,h){var v=h.children,y=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,a!==null){for(h=s.child=a.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~y}else h=0,s.child=null;return am(a,s,y,l,h)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Zc(s,y!==null?y.cachePool:null),y!==null?sv(s,y):Gd(),uv(s);else return h=s.lanes=536870912,am(a,s,y!==null?y.baseLanes|l:l,l,h)}else y!==null?(Zc(s,y.cachePool),sv(s,y),xa(),s.memoizedState=null):(a!==null&&Zc(s,null),Gd(),xa());return An(a,s,v,l),s.child}function cl(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function am(a,s,l,h,v){var y=kd();return y=y===null?null:{parent:Ge._currentValue,pool:y},s.memoizedState={baseLanes:l,cachePool:y},a!==null&&Zc(s,null),Gd(),uv(s),a!==null&&Cs(a,s,h,!0),s.childLanes=v,null}function pf(a,s){return s=vf({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function om(a,s,l){return Lo(s,a.child,null,l),a=pf(s,s.pendingProps),a.flags|=2,or(s),s.memoizedState=null,a}function xw(a,s,l){var h=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Yt){if(h.mode==="hidden")return a=pf(s,h),s.lanes=536870912,cl(null,a);if(Xd(s),(a=Ae)?(a=yy(a,Ar),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:pa!==null?{id:di,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},l=jg(a),l.return=s,s.child=l,_n=s,Ae=null)):a=null,a===null)throw va(s);return s.lanes=536870912,null}return pf(s,h)}var y=a.memoizedState;if(y!==null){var x=y.dehydrated;if(Xd(s),v)if(s.flags&256)s.flags&=-257,s=om(a,s,l);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(Xe||Cs(a,s,l,!1),v=(l&a.childLanes)!==0,Xe||v){if(h=_e,h!==null&&(x=Du(h,l),x!==0&&x!==y.retryLane))throw y.retryLane=x,Io(a,x),Wn(h,a,x),d1;Sf(),s=om(a,s,l)}else a=y.treeContext,Ae=wr(x.nextSibling),_n=s,Yt=!0,ga=null,Ar=!1,a!==null&&Xg(s,a),s=pf(s,h),s.flags|=4096;return s}return a=Di(a.child,{mode:h.mode,children:h.children}),a.ref=s.ref,s.child=a,a.return=s,a}function gf(a,s){var l=s.ref;if(l===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(a===null||a.ref!==l)&&(s.flags|=4194816)}}function p1(a,s,l,h,v){return Do(s),l=Kd(a,s,l,h,void 0,v),h=Wd(),a!==null&&!Xe?(Qd(a,s,v),Vi(a,s,v)):(Yt&&h&&Rd(s),s.flags|=1,An(a,s,l,v),s.child)}function sm(a,s,l,h,v,y){return Do(s),s.updateQueue=null,l=cv(s,h,l,v),lv(a),h=Wd(),a!==null&&!Xe?(Qd(a,s,y),Vi(a,s,y)):(Yt&&h&&Rd(s),s.flags|=1,An(a,s,l,y),s.child)}function um(a,s,l,h,v){if(Do(s),s.stateNode===null){var y=xs,x=l.contextType;typeof x=="object"&&x!==null&&(y=En(x)),y=new l(h,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=f1,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=h,y.state=s.memoizedState,y.refs={},Fd(s),x=l.contextType,y.context=typeof x=="object"&&x!==null?En(x):xs,y.state=s.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(c1(s,l,x,h),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&f1.enqueueReplaceState(y,y.state,null),al(s,h,y,v),il(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(a===null){y=s.stateNode;var C=s.memoizedProps,k=Vo(l,C);y.props=k;var K=y.context,nt=l.contextType;x=xs,typeof nt=="object"&&nt!==null&&(x=En(nt));var at=l.getDerivedStateFromProps;nt=typeof at=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,nt||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||K!==x)&&Kv(s,y,h,x),ya=!1;var W=s.memoizedState;y.state=W,al(s,h,y,v),il(),K=s.memoizedState,C||W!==K||ya?(typeof at=="function"&&(c1(s,l,at,h),K=s.memoizedState),(k=ya||Yv(s,l,k,h,W,K,x))?(nt||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=K),y.props=h,y.state=K,y.context=x,h=k):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{y=s.stateNode,zd(a,s),x=s.memoizedProps,nt=Vo(l,x),y.props=nt,at=s.pendingProps,W=y.context,K=l.contextType,k=xs,typeof K=="object"&&K!==null&&(k=En(K)),C=l.getDerivedStateFromProps,(K=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==at||W!==k)&&Kv(s,y,h,k),ya=!1,W=s.memoizedState,y.state=W,al(s,h,y,v),il();var J=s.memoizedState;x!==at||W!==J||ya||a!==null&&a.dependencies!==null&&Wc(a.dependencies)?(typeof C=="function"&&(c1(s,l,C,h),J=s.memoizedState),(nt=ya||Yv(s,l,nt,h,W,J,k)||a!==null&&a.dependencies!==null&&Wc(a.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,J,k),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,J,k)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===a.memoizedProps&&W===a.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===a.memoizedProps&&W===a.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=J),y.props=h,y.state=J,y.context=k,h=nt):(typeof y.componentDidUpdate!="function"||x===a.memoizedProps&&W===a.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===a.memoizedProps&&W===a.memoizedState||(s.flags|=1024),h=!1)}return y=h,gf(a,s),h=(s.flags&128)!==0,y||h?(y=s.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,a!==null&&h?(s.child=Lo(s,a.child,null,v),s.child=Lo(s,null,l,v)):An(a,s,l,v),s.memoizedState=y.state,a=s.child):a=Vi(a,s,v),a}function lm(a,s,l,h){return Ro(),s.flags|=256,An(a,s,l,h),s.child}var g1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function v1(a){return{baseLanes:a,cachePool:$g()}}function m1(a,s,l){return a=a!==null?a.childLanes&~l:0,s&&(a|=ur),a}function cm(a,s,l){var h=s.pendingProps,v=!1,y=(s.flags&128)!==0,x;if((x=y)||(x=a!==null&&a.memoizedState===null?!1:(Be.current&2)!==0),x&&(v=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,a===null){if(Yt){if(v?Aa(s):xa(),(a=Ae)?(a=yy(a,Ar),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:pa!==null?{id:di,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},l=jg(a),l.return=s,s.child=l,_n=s,Ae=null)):a=null,a===null)throw va(s);return J1(a)?s.lanes=32:s.lanes=536870912,null}var C=h.children;return h=h.fallback,v?(xa(),v=s.mode,C=vf({mode:"hidden",children:C},v),h=bo(h,v,l,null),C.return=s,h.return=s,C.sibling=h,s.child=C,h=s.child,h.memoizedState=v1(l),h.childLanes=m1(a,x,l),s.memoizedState=g1,cl(null,h)):(Aa(s),y1(s,C))}var k=a.memoizedState;if(k!==null&&(C=k.dehydrated,C!==null)){if(y)s.flags&256?(Aa(s),s.flags&=-257,s=_1(a,s,l)):s.memoizedState!==null?(xa(),s.child=a.child,s.flags|=128,s=null):(xa(),C=h.fallback,v=s.mode,h=vf({mode:"visible",children:h.children},v),C=bo(C,v,l,null),C.flags|=2,h.return=s,C.return=s,h.sibling=C,s.child=h,Lo(s,a.child,null,l),h=s.child,h.memoizedState=v1(l),h.childLanes=m1(a,x,l),s.memoizedState=g1,s=cl(null,h));else if(Aa(s),J1(C)){if(x=C.nextSibling&&C.nextSibling.dataset,x)var K=x.dgst;x=K,h=Error(r(419)),h.stack="",h.digest=x,$u({value:h,source:null,stack:null}),s=_1(a,s,l)}else if(Xe||Cs(a,s,l,!1),x=(l&a.childLanes)!==0,Xe||x){if(x=_e,x!==null&&(h=Du(x,l),h!==0&&h!==k.retryLane))throw k.retryLane=h,Io(a,h),Wn(x,a,h),d1;$1(C)||Sf(),s=_1(a,s,l)}else $1(C)?(s.flags|=192,s.child=a.child,s=null):(a=k.treeContext,Ae=wr(C.nextSibling),_n=s,Yt=!0,ga=null,Ar=!1,a!==null&&Xg(s,a),s=y1(s,h.children),s.flags|=4096);return s}return v?(xa(),C=h.fallback,v=s.mode,k=a.child,K=k.sibling,h=Di(k,{mode:"hidden",children:h.children}),h.subtreeFlags=k.subtreeFlags&65011712,K!==null?C=Di(K,C):(C=bo(C,v,l,null),C.flags|=2),C.return=s,h.return=s,h.sibling=C,s.child=h,cl(null,h),h=s.child,C=a.child.memoizedState,C===null?C=v1(l):(v=C.cachePool,v!==null?(k=Ge._currentValue,v=v.parent!==k?{parent:k,pool:k}:v):v=$g(),C={baseLanes:C.baseLanes|l,cachePool:v}),h.memoizedState=C,h.childLanes=m1(a,x,l),s.memoizedState=g1,cl(a.child,h)):(Aa(s),l=a.child,a=l.sibling,l=Di(l,{mode:"visible",children:h.children}),l.return=s,l.sibling=null,a!==null&&(x=s.deletions,x===null?(s.deletions=[a],s.flags|=16):x.push(a)),s.child=l,s.memoizedState=null,l)}function y1(a,s){return s=vf({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function vf(a,s){return a=ir(22,a,null,s),a.lanes=0,a}function _1(a,s,l){return Lo(s,a.child,null,l),a=y1(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function fm(a,s,l){a.lanes|=s;var h=a.alternate;h!==null&&(h.lanes|=s),Pd(a.return,s,l)}function E1(a,s,l,h,v,y){var x=a.memoizedState;x===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:v,treeForkCount:y}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=l,x.tailMode=v,x.treeForkCount=y)}function hm(a,s,l){var h=s.pendingProps,v=h.revealOrder,y=h.tail;h=h.children;var x=Be.current,C=(x&2)!==0;if(C?(x=x&1|2,s.flags|=128):x&=1,ht(Be,x),An(a,s,h,l),h=Yt?Zu:0,!C&&a!==null&&(a.flags&128)!==0)t:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&fm(a,l,s);else if(a.tag===19)fm(a,l,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(l=s.child,v=null;l!==null;)a=l.alternate,a!==null&&rf(a)===null&&(v=l),l=l.sibling;l=v,l===null?(v=s.child,s.child=null):(v=l.sibling,l.sibling=null),E1(s,!1,v,l,y,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,v=s.child,s.child=null;v!==null;){if(a=v.alternate,a!==null&&rf(a)===null){s.child=v;break}a=v.sibling,v.sibling=l,l=v,v=a}E1(s,!0,l,null,y,h);break;case"together":E1(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function Vi(a,s,l){if(a!==null&&(s.dependencies=a.dependencies),Sa|=s.lanes,(l&s.childLanes)===0)if(a!==null){if(Cs(a,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,l=Di(a,a.pendingProps),s.child=l,l.return=s;a.sibling!==null;)a=a.sibling,l=l.sibling=Di(a,a.pendingProps),l.return=s;l.sibling=null}return s.child}function A1(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Wc(a)))}function ww(a,s,l){switch(s.tag){case 3:Qe(s,s.stateNode.containerInfo),ma(s,Ge,a.memoizedState.cache),Ro();break;case 27:case 5:uo(s);break;case 4:Qe(s,s.stateNode.containerInfo);break;case 10:ma(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Xd(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Aa(s),s.flags|=128,null):(l&s.child.childLanes)!==0?cm(a,s,l):(Aa(s),a=Vi(a,s,l),a!==null?a.sibling:null);Aa(s);break;case 19:var v=(a.flags&128)!==0;if(h=(l&s.childLanes)!==0,h||(Cs(a,s,l,!1),h=(l&s.childLanes)!==0),v){if(h)return hm(a,s,l);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ht(Be,Be.current),h)break;return null;case 22:return s.lanes=0,im(a,s,l,s.pendingProps);case 24:ma(s,Ge,a.memoizedState.cache)}return Vi(a,s,l)}function dm(a,s,l){if(a!==null)if(a.memoizedProps!==s.pendingProps)Xe=!0;else{if(!A1(a,l)&&(s.flags&128)===0)return Xe=!1,ww(a,s,l);Xe=(a.flags&131072)!==0}else Xe=!1,Yt&&(s.flags&1048576)!==0&&qg(s,Zu,s.index);switch(s.lanes=0,s.tag){case 16:t:{var h=s.pendingProps;if(a=Mo(s.elementType),s.type=a,typeof a=="function")Cd(a)?(h=Vo(a,h),s.tag=1,s=um(null,s,a,h,l)):(s.tag=0,s=p1(null,s,a,h,l));else{if(a!=null){var v=a.$$typeof;if(v===j){s.tag=11,s=em(null,s,a,h,l);break t}else if(v===b){s.tag=14,s=nm(null,s,a,h,l);break t}}throw s=yt(a)||a,Error(r(306,s,""))}}return s;case 0:return p1(a,s,s.type,s.pendingProps,l);case 1:return h=s.type,v=Vo(h,s.pendingProps),um(a,s,h,v,l);case 3:t:{if(Qe(s,s.stateNode.containerInfo),a===null)throw Error(r(387));h=s.pendingProps;var y=s.memoizedState;v=y.element,zd(a,s),al(s,h,null,l);var x=s.memoizedState;if(h=x.cache,ma(s,Ge,h),h!==y.cache&&Ld(s,[Ge],l,!0),il(),h=x.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=lm(a,s,h,l);break t}else if(h!==v){v=yr(Error(r(424)),s),$u(v),s=lm(a,s,h,l);break t}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Ae=wr(a.firstChild),_n=s,Yt=!0,ga=null,Ar=!0,l=iv(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ro(),h===v){s=Vi(a,s,l);break t}An(a,s,h,l)}s=s.child}return s;case 26:return gf(a,s),a===null?(l=Ty(s.type,null,s.pendingProps,null))?s.memoizedState=l:Yt||(l=s.type,a=s.pendingProps,h=Nf(Bt.current).createElement(l),h[ze]=s,h[ln]=a,xn(h,l,a),He(h),s.stateNode=h):s.memoizedState=Ty(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return uo(s),a===null&&Yt&&(h=s.stateNode=Ay(s.type,s.pendingProps,Bt.current),_n=s,Ar=!0,v=Ae,Oa(s.type)?(t0=v,Ae=wr(h.firstChild)):Ae=v),An(a,s,s.pendingProps.children,l),gf(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Yt&&((v=h=Ae)&&(h=Jw(h,s.type,s.pendingProps,Ar),h!==null?(s.stateNode=h,_n=s,Ae=wr(h.firstChild),Ar=!1,v=!0):v=!1),v||va(s)),uo(s),v=s.type,y=s.pendingProps,x=a!==null?a.memoizedProps:null,h=y.children,W1(v,y)?h=null:x!==null&&W1(v,x)&&(s.flags|=32),s.memoizedState!==null&&(v=Kd(a,s,pw,null,null,l),Sl._currentValue=v),gf(a,s),An(a,s,h,l),s.child;case 6:return a===null&&Yt&&((a=l=Ae)&&(l=t3(l,s.pendingProps,Ar),l!==null?(s.stateNode=l,_n=s,Ae=null,a=!0):a=!1),a||va(s)),null;case 13:return cm(a,s,l);case 4:return Qe(s,s.stateNode.containerInfo),h=s.pendingProps,a===null?s.child=Lo(s,null,h,l):An(a,s,h,l),s.child;case 11:return em(a,s,s.type,s.pendingProps,l);case 7:return An(a,s,s.pendingProps,l),s.child;case 8:return An(a,s,s.pendingProps.children,l),s.child;case 12:return An(a,s,s.pendingProps.children,l),s.child;case 10:return h=s.pendingProps,ma(s,s.type,h.value),An(a,s,h.children,l),s.child;case 9:return v=s.type._context,h=s.pendingProps.children,Do(s),v=En(v),h=h(v),s.flags|=1,An(a,s,h,l),s.child;case 14:return nm(a,s,s.type,s.pendingProps,l);case 15:return rm(a,s,s.type,s.pendingProps,l);case 19:return hm(a,s,l);case 31:return xw(a,s,l);case 22:return im(a,s,l,s.pendingProps);case 24:return Do(s),h=En(Ge),a===null?(v=kd(),v===null&&(v=_e,y=Bd(),v.pooledCache=y,y.refCount++,y!==null&&(v.pooledCacheLanes|=l),v=y),s.memoizedState={parent:h,cache:v},Fd(s),ma(s,Ge,v)):((a.lanes&l)!==0&&(zd(a,s),al(s,null,null,l),il()),v=a.memoizedState,y=s.memoizedState,v.parent!==h?(v={parent:h,cache:h},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),ma(s,Ge,h)):(h=y.cache,ma(s,Ge,h),h!==v.cache&&Ld(s,[Ge],l,!0))),An(a,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ki(a){a.flags|=4}function x1(a,s,l,h,v){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(Fm())a.flags|=8192;else throw Po=Jc,Ud}else a.flags&=-16777217}function pm(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Ry(s))if(Fm())a.flags|=8192;else throw Po=Jc,Ud}function mf(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?xc():536870912,a.lanes|=s,ks|=s)}function fl(a,s){if(!Yt)switch(a.tailMode){case"hidden":s=a.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function xe(a){var s=a.alternate!==null&&a.alternate.child===a.child,l=0,h=0;if(s)for(var v=a.child;v!==null;)l|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)l|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=h,a.childLanes=l,s}function Tw(a,s,l){var h=s.pendingProps;switch(Od(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(s),null;case 1:return xe(s),null;case 3:return l=s.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),Pi(Ge),be(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(Ss(s)?ki(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Nd())),xe(s),null;case 26:var v=s.type,y=s.memoizedState;return a===null?(ki(s),y!==null?(xe(s),pm(s,y)):(xe(s),x1(s,v,null,h,l))):y?y!==a.memoizedState?(ki(s),xe(s),pm(s,y)):(xe(s),s.flags&=-16777217):(a=a.memoizedProps,a!==h&&ki(s),xe(s),x1(s,v,a,h,l)),null;case 27:if(rs(s),l=Bt.current,v=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==h&&ki(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return xe(s),null}a=pt.current,Ss(s)?Yg(s):(a=Ay(v,h,l),s.stateNode=a,ki(s))}return xe(s),null;case 5:if(rs(s),v=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==h&&ki(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return xe(s),null}if(y=pt.current,Ss(s))Yg(s);else{var x=Nf(Bt.current);switch(y){case 1:y=x.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:y=x.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":y=x.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":y=x.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":y=x.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?x.createElement("select",{is:h.is}):x.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?x.createElement(v,{is:h.is}):x.createElement(v)}}y[ze]=s,y[ln]=h;t:for(x=s.child;x!==null;){if(x.tag===5||x.tag===6)y.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break t;for(;x.sibling===null;){if(x.return===null||x.return===s)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}s.stateNode=y;t:switch(xn(y,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&ki(s)}}return xe(s),x1(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,l),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==h&&ki(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(a=Bt.current,Ss(s)){if(a=s.stateNode,l=s.memoizedProps,h=null,v=_n,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}a[ze]=s,a=!!(a.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||cy(a.nodeValue,l)),a||va(s,!0)}else a=Nf(a).createTextNode(h),a[ze]=s,s.stateNode=a}return xe(s),null;case 31:if(l=s.memoizedState,a===null||a.memoizedState!==null){if(h=Ss(s),l!==null){if(a===null){if(!h)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[ze]=s}else Ro(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;xe(s),a=!1}else l=Nd(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=l),a=!0;if(!a)return s.flags&256?(or(s),s):(or(s),null);if((s.flags&128)!==0)throw Error(r(558))}return xe(s),null;case 13:if(h=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=Ss(s),h!==null&&h.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[ze]=s}else Ro(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;xe(s),v=!1}else v=Nd(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(or(s),s):(or(s),null)}return or(s),(s.flags&128)!==0?(s.lanes=l,s):(l=h!==null,a=a!==null&&a.memoizedState!==null,l&&(h=s.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==v&&(h.flags|=2048)),l!==a&&l&&(s.child.flags|=8192),mf(s,s.updateQueue),xe(s),null);case 4:return be(),a===null&&G1(s.stateNode.containerInfo),xe(s),null;case 10:return Pi(s.type),xe(s),null;case 19:if(ot(Be),h=s.memoizedState,h===null)return xe(s),null;if(v=(s.flags&128)!==0,y=h.rendering,y===null)if(v)fl(h,!1);else{if(Me!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(y=rf(a),y!==null){for(s.flags|=128,fl(h,!1),a=y.updateQueue,s.updateQueue=a,mf(s,a),s.subtreeFlags=0,a=l,l=s.child;l!==null;)Hg(l,a),l=l.sibling;return ht(Be,Be.current&1|2),Yt&&Ni(s,h.treeForkCount),s.child}a=a.sibling}h.tail!==null&&Vn()>xf&&(s.flags|=128,v=!0,fl(h,!1),s.lanes=4194304)}else{if(!v)if(a=rf(y),a!==null){if(s.flags|=128,v=!0,a=a.updateQueue,s.updateQueue=a,mf(s,a),fl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Yt)return xe(s),null}else 2*Vn()-h.renderingStartTime>xf&&l!==536870912&&(s.flags|=128,v=!0,fl(h,!1),s.lanes=4194304);h.isBackwards?(y.sibling=s.child,s.child=y):(a=h.last,a!==null?a.sibling=y:s.child=y,h.last=y)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Vn(),a.sibling=null,l=Be.current,ht(Be,v?l&1|2:l&1),Yt&&Ni(s,h.treeForkCount),a):(xe(s),null);case 22:case 23:return or(s),qd(),h=s.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(l&536870912)!==0&&(s.flags&128)===0&&(xe(s),s.subtreeFlags&6&&(s.flags|=8192)):xe(s),l=s.updateQueue,l!==null&&mf(s,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==l&&(s.flags|=2048),a!==null&&ot(No),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Pi(Ge),xe(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Sw(a,s){switch(Od(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Pi(Ge),be(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return rs(s),null;case 31:if(s.memoizedState!==null){if(or(s),s.alternate===null)throw Error(r(340));Ro()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(or(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ro()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return ot(Be),null;case 4:return be(),null;case 10:return Pi(s.type),null;case 22:case 23:return or(s),qd(),a!==null&&ot(No),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Pi(Ge),null;case 25:return null;default:return null}}function gm(a,s){switch(Od(s),s.tag){case 3:Pi(Ge),be();break;case 26:case 27:case 5:rs(s);break;case 4:be();break;case 31:s.memoizedState!==null&&or(s);break;case 13:or(s);break;case 19:ot(Be);break;case 10:Pi(s.type);break;case 22:case 23:or(s),qd(),a!==null&&ot(No);break;case 24:Pi(Ge)}}function hl(a,s){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var v=h.next;l=v;do{if((l.tag&a)===a){h=void 0;var y=l.create,x=l.inst;h=y(),x.destroy=h}l=l.next}while(l!==v)}}catch(C){fe(s,s.return,C)}}function wa(a,s,l){try{var h=s.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var y=v.next;h=y;do{if((h.tag&a)===a){var x=h.inst,C=x.destroy;if(C!==void 0){x.destroy=void 0,v=s;var k=l,K=C;try{K()}catch(nt){fe(v,k,nt)}}}h=h.next}while(h!==y)}}catch(nt){fe(s,s.return,nt)}}function vm(a){var s=a.updateQueue;if(s!==null){var l=a.stateNode;try{ov(s,l)}catch(h){fe(a,a.return,h)}}}function mm(a,s,l){l.props=Vo(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(h){fe(a,s,h)}}function dl(a,s){try{var l=a.ref;if(l!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof l=="function"?a.refCleanup=l(h):l.current=h}}catch(v){fe(a,s,v)}}function gi(a,s){var l=a.ref,h=a.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(v){fe(a,s,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){fe(a,s,v)}else l.current=null}function ym(a){var s=a.type,l=a.memoizedProps,h=a.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break t;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(v){fe(a,a.return,v)}}function w1(a,s,l){try{var h=a.stateNode;Yw(h,a.type,l,s),h[ln]=s}catch(v){fe(a,a.return,v)}}function _m(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Oa(a.type)||a.tag===4}function T1(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||_m(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Oa(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function S1(a,s,l){var h=a.tag;if(h===5||h===6)a=a.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(a,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(a),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Pr));else if(h!==4&&(h===27&&Oa(a.type)&&(l=a.stateNode,s=null),a=a.child,a!==null))for(S1(a,s,l),a=a.sibling;a!==null;)S1(a,s,l),a=a.sibling}function yf(a,s,l){var h=a.tag;if(h===5||h===6)a=a.stateNode,s?l.insertBefore(a,s):l.appendChild(a);else if(h!==4&&(h===27&&Oa(a.type)&&(l=a.stateNode),a=a.child,a!==null))for(yf(a,s,l),a=a.sibling;a!==null;)yf(a,s,l),a=a.sibling}function Em(a){var s=a.stateNode,l=a.memoizedProps;try{for(var h=a.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);xn(s,h,l),s[ze]=a,s[ln]=l}catch(y){fe(a,a.return,y)}}var Ui=!1,Ye=!1,C1=!1,Am=typeof WeakSet=="function"?WeakSet:Set,fn=null;function Cw(a,s){if(a=a.containerInfo,Y1=Uf,a=Mg(a),_d(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else t:{l=(l=a.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var v=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break t}var x=0,C=-1,k=-1,K=0,nt=0,at=a,W=null;e:for(;;){for(var J;at!==l||v!==0&&at.nodeType!==3||(C=x+v),at!==y||h!==0&&at.nodeType!==3||(k=x+h),at.nodeType===3&&(x+=at.nodeValue.length),(J=at.firstChild)!==null;)W=at,at=J;for(;;){if(at===a)break e;if(W===l&&++K===v&&(C=x),W===y&&++nt===h&&(k=x),(J=at.nextSibling)!==null)break;at=W,W=at.parentNode}at=J}l=C===-1||k===-1?null:{start:C,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(K1={focusedElem:a,selectionRange:l},Uf=!1,fn=s;fn!==null;)if(s=fn,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,fn=a;else for(;fn!==null;){switch(s=fn,y=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(l=0;l<a.length;l++)v=a[l],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&y!==null){a=void 0,l=s,v=y.memoizedProps,y=y.memoizedState,h=l.stateNode;try{var gt=Vo(l.type,v);a=h.getSnapshotBeforeUpdate(gt,y),h.__reactInternalSnapshotBeforeUpdate=a}catch(St){fe(l,l.return,St)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,l=a.nodeType,l===9)Z1(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Z1(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,fn=a;break}fn=s.return}}function xm(a,s,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:zi(a,l),h&4&&hl(5,l);break;case 1:if(zi(a,l),h&4)if(a=l.stateNode,s===null)try{a.componentDidMount()}catch(x){fe(l,l.return,x)}else{var v=Vo(l.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(v,s,a.__reactInternalSnapshotBeforeUpdate)}catch(x){fe(l,l.return,x)}}h&64&&vm(l),h&512&&dl(l,l.return);break;case 3:if(zi(a,l),h&64&&(a=l.updateQueue,a!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{ov(a,s)}catch(x){fe(l,l.return,x)}}break;case 27:s===null&&h&4&&Em(l);case 26:case 5:zi(a,l),s===null&&h&4&&ym(l),h&512&&dl(l,l.return);break;case 12:zi(a,l);break;case 31:zi(a,l),h&4&&Sm(a,l);break;case 13:zi(a,l),h&4&&Cm(a,l),h&64&&(a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(l=Lw.bind(null,l),e3(a,l))));break;case 22:if(h=l.memoizedState!==null||Ui,!h){s=s!==null&&s.memoizedState!==null||Ye,v=Ui;var y=Ye;Ui=h,(Ye=s)&&!y?Hi(a,l,(l.subtreeFlags&8772)!==0):zi(a,l),Ui=v,Ye=y}break;case 30:break;default:zi(a,l)}}function wm(a){var s=a.alternate;s!==null&&(a.alternate=null,wm(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&us(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Oe=null,qn=!1;function Fi(a,s,l){for(l=l.child;l!==null;)Tm(a,s,l),l=l.sibling}function Tm(a,s,l){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Or,l)}catch{}switch(l.tag){case 26:Ye||gi(l,s),Fi(a,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ye||gi(l,s);var h=Oe,v=qn;Oa(l.type)&&(Oe=l.stateNode,qn=!1),Fi(a,s,l),xl(l.stateNode),Oe=h,qn=v;break;case 5:Ye||gi(l,s);case 6:if(h=Oe,v=qn,Oe=null,Fi(a,s,l),Oe=h,qn=v,Oe!==null)if(qn)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(l.stateNode)}catch(y){fe(l,s,y)}else try{Oe.removeChild(l.stateNode)}catch(y){fe(l,s,y)}break;case 18:Oe!==null&&(qn?(a=Oe,vy(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.stateNode),Xs(a)):vy(Oe,l.stateNode));break;case 4:h=Oe,v=qn,Oe=l.stateNode.containerInfo,qn=!0,Fi(a,s,l),Oe=h,qn=v;break;case 0:case 11:case 14:case 15:wa(2,l,s),Ye||wa(4,l,s),Fi(a,s,l);break;case 1:Ye||(gi(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"&&mm(l,s,h)),Fi(a,s,l);break;case 21:Fi(a,s,l);break;case 22:Ye=(h=Ye)||l.memoizedState!==null,Fi(a,s,l),Ye=h;break;default:Fi(a,s,l)}}function Sm(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Xs(a)}catch(l){fe(s,s.return,l)}}}function Cm(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Xs(a)}catch(l){fe(s,s.return,l)}}function Iw(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new Am),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new Am),s;default:throw Error(r(435,a.tag))}}function _f(a,s){var l=Iw(a);s.forEach(function(h){if(!l.has(h)){l.add(h);var v=Bw.bind(null,a,h);h.then(v,v)}})}function Xn(a,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var v=l[h],y=a,x=s,C=x;t:for(;C!==null;){switch(C.tag){case 27:if(Oa(C.type)){Oe=C.stateNode,qn=!1;break t}break;case 5:Oe=C.stateNode,qn=!1;break t;case 3:case 4:Oe=C.stateNode.containerInfo,qn=!0;break t}C=C.return}if(Oe===null)throw Error(r(160));Tm(y,x,v),Oe=null,qn=!1,y=v.alternate,y!==null&&(y.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Im(s,a),s=s.sibling}var Fr=null;function Im(a,s){var l=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Xn(s,a),Yn(a),h&4&&(wa(3,a,a.return),hl(3,a),wa(5,a,a.return));break;case 1:Xn(s,a),Yn(a),h&512&&(Ye||l===null||gi(l,l.return)),h&64&&Ui&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var v=Fr;if(Xn(s,a),Yn(a),h&512&&(Ye||l===null||gi(l,l.return)),h&4){var y=l!==null?l.memoizedState:null;if(h=a.memoizedState,l===null)if(h===null)if(a.stateNode===null){t:{h=a.type,l=a.memoizedProps,v=v.ownerDocument||v;e:switch(h){case"title":y=v.getElementsByTagName("title")[0],(!y||y[ei]||y[ze]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=v.createElement(h),v.head.insertBefore(y,v.querySelector("head > title"))),xn(y,h,l),y[ze]=a,He(y),h=y;break t;case"link":var x=Iy("link","href",v).get(h+(l.href||""));if(x){for(var C=0;C<x.length;C++)if(y=x[C],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(C,1);break e}}y=v.createElement(h),xn(y,h,l),v.head.appendChild(y);break;case"meta":if(x=Iy("meta","content",v).get(h+(l.content||""))){for(C=0;C<x.length;C++)if(y=x[C],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(C,1);break e}}y=v.createElement(h),xn(y,h,l),v.head.appendChild(y);break;default:throw Error(r(468,h))}y[ze]=a,He(y),h=y}a.stateNode=h}else by(v,a.type,a.stateNode);else a.stateNode=Cy(v,h,a.memoizedProps);else y!==h?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,h===null?by(v,a.type,a.stateNode):Cy(v,h,a.memoizedProps)):h===null&&a.stateNode!==null&&w1(a,a.memoizedProps,l.memoizedProps)}break;case 27:Xn(s,a),Yn(a),h&512&&(Ye||l===null||gi(l,l.return)),l!==null&&h&4&&w1(a,a.memoizedProps,l.memoizedProps);break;case 5:if(Xn(s,a),Yn(a),h&512&&(Ye||l===null||gi(l,l.return)),a.flags&32){v=a.stateNode;try{Gn(v,"")}catch(gt){fe(a,a.return,gt)}}h&4&&a.stateNode!=null&&(v=a.memoizedProps,w1(a,v,l!==null?l.memoizedProps:v)),h&1024&&(C1=!0);break;case 6:if(Xn(s,a),Yn(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,l=a.stateNode;try{l.nodeValue=h}catch(gt){fe(a,a.return,gt)}}break;case 3:if(Lf=null,v=Fr,Fr=Mf(s.containerInfo),Xn(s,a),Fr=v,Yn(a),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Xs(s.containerInfo)}catch(gt){fe(a,a.return,gt)}C1&&(C1=!1,bm(a));break;case 4:h=Fr,Fr=Mf(a.stateNode.containerInfo),Xn(s,a),Yn(a),Fr=h;break;case 12:Xn(s,a),Yn(a);break;case 31:Xn(s,a),Yn(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,_f(a,h)));break;case 13:Xn(s,a),Yn(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Af=Vn()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,_f(a,h)));break;case 22:v=a.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,K=Ui,nt=Ye;if(Ui=K||v,Ye=nt||k,Xn(s,a),Ye=nt,Ui=K,Yn(a),h&8192)t:for(s=a.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(l===null||k||Ui||Ye||ko(a)),l=null,s=a;;){if(s.tag===5||s.tag===26){if(l===null){k=l=s;try{if(y=k.stateNode,v)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{C=k.stateNode;var at=k.memoizedProps.style,W=at!=null&&at.hasOwnProperty("display")?at.display:null;C.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(gt){fe(k,k.return,gt)}}}else if(s.tag===6){if(l===null){k=s;try{k.stateNode.nodeValue=v?"":k.memoizedProps}catch(gt){fe(k,k.return,gt)}}}else if(s.tag===18){if(l===null){k=s;try{var J=k.stateNode;v?my(J,!0):my(k.stateNode,!1)}catch(gt){fe(k,k.return,gt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=a.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,_f(a,l))));break;case 19:Xn(s,a),Yn(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,_f(a,h)));break;case 30:break;case 21:break;default:Xn(s,a),Yn(a)}}function Yn(a){var s=a.flags;if(s&2){try{for(var l,h=a.return;h!==null;){if(_m(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var v=l.stateNode,y=T1(a);yf(a,y,v);break;case 5:var x=l.stateNode;l.flags&32&&(Gn(x,""),l.flags&=-33);var C=T1(a);yf(a,C,x);break;case 3:case 4:var k=l.stateNode.containerInfo,K=T1(a);S1(a,K,k);break;default:throw Error(r(161))}}catch(nt){fe(a,a.return,nt)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function bm(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;bm(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function zi(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)xm(a,s.alternate,s),s=s.sibling}function ko(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:wa(4,s,s.return),ko(s);break;case 1:gi(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&mm(s,s.return,l),ko(s);break;case 27:xl(s.stateNode);case 26:case 5:gi(s,s.return),ko(s);break;case 22:s.memoizedState===null&&ko(s);break;case 30:ko(s);break;default:ko(s)}a=a.sibling}}function Hi(a,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,v=a,y=s,x=y.flags;switch(y.tag){case 0:case 11:case 15:Hi(v,y,l),hl(4,y);break;case 1:if(Hi(v,y,l),h=y,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(K){fe(h,h.return,K)}if(h=y,v=h.updateQueue,v!==null){var C=h.stateNode;try{var k=v.shared.hiddenCallbacks;if(k!==null)for(v.shared.hiddenCallbacks=null,v=0;v<k.length;v++)av(k[v],C)}catch(K){fe(h,h.return,K)}}l&&x&64&&vm(y),dl(y,y.return);break;case 27:Em(y);case 26:case 5:Hi(v,y,l),l&&h===null&&x&4&&ym(y),dl(y,y.return);break;case 12:Hi(v,y,l);break;case 31:Hi(v,y,l),l&&x&4&&Sm(v,y);break;case 13:Hi(v,y,l),l&&x&4&&Cm(v,y);break;case 22:y.memoizedState===null&&Hi(v,y,l),dl(y,y.return);break;case 30:break;default:Hi(v,y,l)}s=s.sibling}}function I1(a,s){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&Ju(l))}function b1(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Ju(a))}function zr(a,s,l,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Rm(a,s,l,h),s=s.sibling}function Rm(a,s,l,h){var v=s.flags;switch(s.tag){case 0:case 11:case 15:zr(a,s,l,h),v&2048&&hl(9,s);break;case 1:zr(a,s,l,h);break;case 3:zr(a,s,l,h),v&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Ju(a)));break;case 12:if(v&2048){zr(a,s,l,h),a=s.stateNode;try{var y=s.memoizedProps,x=y.id,C=y.onPostCommit;typeof C=="function"&&C(x,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(k){fe(s,s.return,k)}}else zr(a,s,l,h);break;case 31:zr(a,s,l,h);break;case 13:zr(a,s,l,h);break;case 23:break;case 22:y=s.stateNode,x=s.alternate,s.memoizedState!==null?y._visibility&2?zr(a,s,l,h):pl(a,s):y._visibility&2?zr(a,s,l,h):(y._visibility|=2,Ls(a,s,l,h,(s.subtreeFlags&10256)!==0||!1)),v&2048&&I1(x,s);break;case 24:zr(a,s,l,h),v&2048&&b1(s.alternate,s);break;default:zr(a,s,l,h)}}function Ls(a,s,l,h,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=a,x=s,C=l,k=h,K=x.flags;switch(x.tag){case 0:case 11:case 15:Ls(y,x,C,k,v),hl(8,x);break;case 23:break;case 22:var nt=x.stateNode;x.memoizedState!==null?nt._visibility&2?Ls(y,x,C,k,v):pl(y,x):(nt._visibility|=2,Ls(y,x,C,k,v)),v&&K&2048&&I1(x.alternate,x);break;case 24:Ls(y,x,C,k,v),v&&K&2048&&b1(x.alternate,x);break;default:Ls(y,x,C,k,v)}s=s.sibling}}function pl(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=a,h=s,v=h.flags;switch(h.tag){case 22:pl(l,h),v&2048&&I1(h.alternate,h);break;case 24:pl(l,h),v&2048&&b1(h.alternate,h);break;default:pl(l,h)}s=s.sibling}}var gl=8192;function Bs(a,s,l){if(a.subtreeFlags&gl)for(a=a.child;a!==null;)Om(a,s,l),a=a.sibling}function Om(a,s,l){switch(a.tag){case 26:Bs(a,s,l),a.flags&gl&&a.memoizedState!==null&&d3(l,Fr,a.memoizedState,a.memoizedProps);break;case 5:Bs(a,s,l);break;case 3:case 4:var h=Fr;Fr=Mf(a.stateNode.containerInfo),Bs(a,s,l),Fr=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=gl,gl=16777216,Bs(a,s,l),gl=h):Bs(a,s,l));break;default:Bs(a,s,l)}}function Dm(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function vl(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];fn=h,Mm(h,a)}Dm(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Nm(a),a=a.sibling}function Nm(a){switch(a.tag){case 0:case 11:case 15:vl(a),a.flags&2048&&wa(9,a,a.return);break;case 3:vl(a);break;case 12:vl(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Ef(a)):vl(a);break;default:vl(a)}}function Ef(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];fn=h,Mm(h,a)}Dm(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:wa(8,s,s.return),Ef(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Ef(s));break;default:Ef(s)}a=a.sibling}}function Mm(a,s){for(;fn!==null;){var l=fn;switch(l.tag){case 0:case 11:case 15:wa(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ju(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,fn=h;else t:for(l=a;fn!==null;){h=fn;var v=h.sibling,y=h.return;if(wm(h),h===l){fn=null;break t}if(v!==null){v.return=y,fn=v;break t}fn=y}}}var bw={getCacheForType:function(a){var s=En(Ge),l=s.data.get(a);return l===void 0&&(l=a(),s.data.set(a,l)),l},cacheSignal:function(){return En(Ge).controller.signal}},Rw=typeof WeakMap=="function"?WeakMap:Map,re=0,_e=null,Ft=null,Ht=0,ce=0,sr=null,Ta=!1,Vs=!1,R1=!1,ji=0,Me=0,Sa=0,Uo=0,O1=0,ur=0,ks=0,ml=null,Kn=null,D1=!1,Af=0,Pm=0,xf=1/0,wf=null,Ca=null,$e=0,Ia=null,Us=null,Gi=0,N1=0,M1=null,Lm=null,yl=0,P1=null;function lr(){return(re&2)!==0&&Ht!==0?Ht&-Ht:tt.T!==null?F1():wc()}function Bm(){if(ur===0)if((Ht&536870912)===0||Yt){var a=fo;fo<<=1,(fo&3932160)===0&&(fo=262144),ur=a}else ur=536870912;return a=ar.current,a!==null&&(a.flags|=32),ur}function Wn(a,s,l){(a===_e&&(ce===2||ce===9)||a.cancelPendingCommit!==null)&&(Fs(a,0),ba(a,Ht,ur,!1)),ho(a,l),((re&2)===0||a!==_e)&&(a===_e&&((re&2)===0&&(Uo|=l),Me===4&&ba(a,Ht,ur,!1)),vi(a))}function Vm(a,s,l){if((re&6)!==0)throw Error(r(327));var h=!l&&(s&127)===0&&(s&a.expiredLanes)===0||Dr(a,s),v=h?Nw(a,s):B1(a,s,!0),y=h;do{if(v===0){Vs&&!h&&ba(a,s,0,!1);break}else{if(l=a.current.alternate,y&&!Ow(l)){v=B1(a,s,!1),y=!1;continue}if(v===2){if(y=s,a.errorRecoveryDisabledLanes&y)var x=0;else x=a.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;t:{var C=a;v=ml;var k=C.current.memoizedState.isDehydrated;if(k&&(Fs(C,x).flags|=256),x=B1(C,x,!1),x!==2){if(R1&&!k){C.errorRecoveryDisabledLanes|=y,Uo|=y,v=4;break t}y=Kn,Kn=v,y!==null&&(Kn===null?Kn=y:Kn.push.apply(Kn,y))}v=x}if(y=!1,v!==2)continue}}if(v===1){Fs(a,0),ba(a,s,0,!0);break}t:{switch(h=a,y=v,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ba(h,s,ur,!Ta);break t;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(v=Af+300-Vn(),10<v)){if(ba(h,s,ur,!Ta),$r(h,0,!0)!==0)break t;Gi=s,h.timeoutHandle=py(km.bind(null,h,l,Kn,wf,D1,s,ur,Uo,ks,Ta,y,"Throttled",-0,0),v);break t}km(h,l,Kn,wf,D1,s,ur,Uo,ks,Ta,y,null,-0,0)}}break}while(!0);vi(a)}function km(a,s,l,h,v,y,x,C,k,K,nt,at,W,J){if(a.timeoutHandle=-1,at=s.subtreeFlags,at&8192||(at&16785408)===16785408){at={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pr},Om(s,y,at);var gt=(y&62914560)===y?Af-Vn():(y&4194048)===y?Pm-Vn():0;if(gt=p3(at,gt),gt!==null){Gi=y,a.cancelPendingCommit=gt(Xm.bind(null,a,s,y,l,h,v,x,C,k,nt,at,null,W,J)),ba(a,y,x,!K);return}}Xm(a,s,y,l,h,v,x,C,k)}function Ow(a){for(var s=a;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var v=l[h],y=v.getSnapshot;v=v.value;try{if(!rr(y(),v))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ba(a,s,l,h){s&=~O1,s&=~Uo,a.suspendedLanes|=s,a.pingedLanes&=~s,h&&(a.warmLanes|=s),h=a.expirationTimes;for(var v=s;0<v;){var y=31-Pe(v),x=1<<y;h[y]=-1,v&=~x}l!==0&&po(a,l,s)}function Tf(){return(re&6)===0?(_l(0),!1):!0}function L1(){if(Ft!==null){if(ce===0)var a=Ft.return;else a=Ft,Mi=Oo=null,Zd(a),Os=null,el=0,a=Ft;for(;a!==null;)gm(a.alternate,a),a=a.return;Ft=null}}function Fs(a,s){var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,Qw(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),Gi=0,L1(),_e=a,Ft=l=Di(a.current,null),Ht=s,ce=0,sr=null,Ta=!1,Vs=Dr(a,s),R1=!1,ks=ur=O1=Uo=Sa=Me=0,Kn=ml=null,D1=!1,(s&8)!==0&&(s|=s&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=s;0<h;){var v=31-Pe(h),y=1<<v;s|=a[v],h&=~y}return ji=s,Gc(),l}function Um(a,s){Pt=null,tt.H=ll,s===Rs||s===$c?(s=ev(),ce=3):s===Ud?(s=ev(),ce=4):ce=s===d1?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,sr=s,Ft===null&&(Me=1,df(a,yr(s,a.current)))}function Fm(){var a=ar.current;return a===null?!0:(Ht&4194048)===Ht?xr===null:(Ht&62914560)===Ht||(Ht&536870912)!==0?a===xr:!1}function zm(){var a=tt.H;return tt.H=ll,a===null?ll:a}function Hm(){var a=tt.A;return tt.A=bw,a}function Sf(){Me=4,Ta||(Ht&4194048)!==Ht&&ar.current!==null||(Vs=!0),(Sa&134217727)===0&&(Uo&134217727)===0||_e===null||ba(_e,Ht,ur,!1)}function B1(a,s,l){var h=re;re|=2;var v=zm(),y=Hm();(_e!==a||Ht!==s)&&(wf=null,Fs(a,s)),s=!1;var x=Me;t:do try{if(ce!==0&&Ft!==null){var C=Ft,k=sr;switch(ce){case 8:L1(),x=6;break t;case 3:case 2:case 9:case 6:ar.current===null&&(s=!0);var K=ce;if(ce=0,sr=null,zs(a,C,k,K),l&&Vs){x=0;break t}break;default:K=ce,ce=0,sr=null,zs(a,C,k,K)}}Dw(),x=Me;break}catch(nt){Um(a,nt)}while(!0);return s&&a.shellSuspendCounter++,Mi=Oo=null,re=h,tt.H=v,tt.A=y,Ft===null&&(_e=null,Ht=0,Gc()),x}function Dw(){for(;Ft!==null;)jm(Ft)}function Nw(a,s){var l=re;re|=2;var h=zm(),v=Hm();_e!==a||Ht!==s?(wf=null,xf=Vn()+500,Fs(a,s)):Vs=Dr(a,s);t:do try{if(ce!==0&&Ft!==null){s=Ft;var y=sr;e:switch(ce){case 1:ce=0,sr=null,zs(a,s,y,1);break;case 2:case 9:if(Jg(y)){ce=0,sr=null,Gm(s);break}s=function(){ce!==2&&ce!==9||_e!==a||(ce=7),vi(a)},y.then(s,s);break t;case 3:ce=7;break t;case 4:ce=5;break t;case 7:Jg(y)?(ce=0,sr=null,Gm(s)):(ce=0,sr=null,zs(a,s,y,7));break;case 5:var x=null;switch(Ft.tag){case 26:x=Ft.memoizedState;case 5:case 27:var C=Ft;if(x?Ry(x):C.stateNode.complete){ce=0,sr=null;var k=C.sibling;if(k!==null)Ft=k;else{var K=C.return;K!==null?(Ft=K,Cf(K)):Ft=null}break e}}ce=0,sr=null,zs(a,s,y,5);break;case 6:ce=0,sr=null,zs(a,s,y,6);break;case 8:L1(),Me=6;break t;default:throw Error(r(462))}}Mw();break}catch(nt){Um(a,nt)}while(!0);return Mi=Oo=null,tt.H=h,tt.A=v,re=l,Ft!==null?0:(_e=null,Ht=0,Gc(),Me)}function Mw(){for(;Ft!==null&&!hd();)jm(Ft)}function jm(a){var s=dm(a.alternate,a,ji);a.memoizedProps=a.pendingProps,s===null?Cf(a):Ft=s}function Gm(a){var s=a,l=s.alternate;switch(s.tag){case 15:case 0:s=sm(l,s,s.pendingProps,s.type,void 0,Ht);break;case 11:s=sm(l,s,s.pendingProps,s.type.render,s.ref,Ht);break;case 5:Zd(s);default:gm(l,s),s=Ft=Hg(s,ji),s=dm(l,s,ji)}a.memoizedProps=a.pendingProps,s===null?Cf(a):Ft=s}function zs(a,s,l,h){Mi=Oo=null,Zd(s),Os=null,el=0;var v=s.return;try{if(Aw(a,v,s,l,Ht)){Me=1,df(a,yr(l,a.current)),Ft=null;return}}catch(y){if(v!==null)throw Ft=v,y;Me=1,df(a,yr(l,a.current)),Ft=null;return}s.flags&32768?(Yt||h===1?a=!0:Vs||(Ht&536870912)!==0?a=!1:(Ta=a=!0,(h===2||h===9||h===3||h===6)&&(h=ar.current,h!==null&&h.tag===13&&(h.flags|=16384))),qm(s,a)):Cf(s)}function Cf(a){var s=a;do{if((s.flags&32768)!==0){qm(s,Ta);return}a=s.return;var l=Tw(s.alternate,s,ji);if(l!==null){Ft=l;return}if(s=s.sibling,s!==null){Ft=s;return}Ft=s=a}while(s!==null);Me===0&&(Me=5)}function qm(a,s){do{var l=Sw(a.alternate,a);if(l!==null){l.flags&=32767,Ft=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(a=a.sibling,a!==null)){Ft=a;return}Ft=a=l}while(a!==null);Me=6,Ft=null}function Xm(a,s,l,h,v,y,x,C,k){a.cancelPendingCommit=null;do If();while($e!==0);if((re&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=Td,gd(a,l,y,x,C,k),a===_e&&(Ft=_e=null,Ht=0),Us=s,Ia=a,Gi=l,N1=y,M1=v,Lm=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Vw(ia,function(){return Zm(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=tt.T,tt.T=null,v=lt.p,lt.p=2,x=re,re|=4;try{Cw(a,s,l)}finally{re=x,lt.p=v,tt.T=h}}$e=1,Ym(),Km(),Wm()}}function Ym(){if($e===1){$e=0;var a=Ia,s=Us,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=tt.T,tt.T=null;var h=lt.p;lt.p=2;var v=re;re|=4;try{Im(s,a);var y=K1,x=Mg(a.containerInfo),C=y.focusedElem,k=y.selectionRange;if(x!==C&&C&&C.ownerDocument&&Ng(C.ownerDocument.documentElement,C)){if(k!==null&&_d(C)){var K=k.start,nt=k.end;if(nt===void 0&&(nt=K),"selectionStart"in C)C.selectionStart=K,C.selectionEnd=Math.min(nt,C.value.length);else{var at=C.ownerDocument||document,W=at&&at.defaultView||window;if(W.getSelection){var J=W.getSelection(),gt=C.textContent.length,St=Math.min(k.start,gt),me=k.end===void 0?St:Math.min(k.end,gt);!J.extend&&St>me&&(x=me,me=St,St=x);var G=Dg(C,St),z=Dg(C,me);if(G&&z&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==z.node||J.focusOffset!==z.offset)){var Y=at.createRange();Y.setStart(G.node,G.offset),J.removeAllRanges(),St>me?(J.addRange(Y),J.extend(z.node,z.offset)):(Y.setEnd(z.node,z.offset),J.addRange(Y))}}}}for(at=[],J=C;J=J.parentNode;)J.nodeType===1&&at.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<at.length;C++){var rt=at[C];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}Uf=!!Y1,K1=Y1=null}finally{re=v,lt.p=h,tt.T=l}}a.current=s,$e=2}}function Km(){if($e===2){$e=0;var a=Ia,s=Us,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=tt.T,tt.T=null;var h=lt.p;lt.p=2;var v=re;re|=4;try{xm(a,s.alternate,s)}finally{re=v,lt.p=h,tt.T=l}}$e=3}}function Wm(){if($e===4||$e===3){$e=0,vc();var a=Ia,s=Us,l=Gi,h=Lm;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?$e=5:($e=0,Us=Ia=null,Qm(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Ca=null),Ii(l),s=s.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Or,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=tt.T,v=lt.p,lt.p=2,tt.T=null;try{for(var y=a.onRecoverableError,x=0;x<h.length;x++){var C=h[x];y(C.value,{componentStack:C.stack})}}finally{tt.T=s,lt.p=v}}(Gi&3)!==0&&If(),vi(a),v=a.pendingLanes,(l&261930)!==0&&(v&42)!==0?a===P1?yl++:(yl=0,P1=a):yl=0,_l(0)}}function Qm(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Ju(s)))}function If(){return Ym(),Km(),Wm(),Zm()}function Zm(){if($e!==5)return!1;var a=Ia,s=N1;N1=0;var l=Ii(Gi),h=tt.T,v=lt.p;try{lt.p=32>l?32:l,tt.T=null,l=M1,M1=null;var y=Ia,x=Gi;if($e=0,Us=Ia=null,Gi=0,(re&6)!==0)throw Error(r(331));var C=re;if(re|=4,Nm(y.current),Rm(y,y.current,x,l),re=C,_l(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Or,y)}catch{}return!0}finally{lt.p=v,tt.T=h,Qm(a,s)}}function $m(a,s,l){s=yr(l,s),s=h1(a.stateNode,s,2),a=Ea(a,s,2),a!==null&&(ho(a,2),vi(a))}function fe(a,s,l){if(a.tag===3)$m(a,a,l);else for(;s!==null;){if(s.tag===3){$m(s,a,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ca===null||!Ca.has(h))){a=yr(l,a),l=Jv(2),h=Ea(s,l,2),h!==null&&(tm(l,h,s,a),ho(h,2),vi(h));break}}s=s.return}}function V1(a,s,l){var h=a.pingCache;if(h===null){h=a.pingCache=new Rw;var v=new Set;h.set(s,v)}else v=h.get(s),v===void 0&&(v=new Set,h.set(s,v));v.has(l)||(R1=!0,v.add(l),a=Pw.bind(null,a,s,l),s.then(a,a))}function Pw(a,s,l){var h=a.pingCache;h!==null&&h.delete(s),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,_e===a&&(Ht&l)===l&&(Me===4||Me===3&&(Ht&62914560)===Ht&&300>Vn()-Af?(re&2)===0&&Fs(a,0):O1|=l,ks===Ht&&(ks=0)),vi(a)}function Jm(a,s){s===0&&(s=xc()),a=Io(a,s),a!==null&&(ho(a,s),vi(a))}function Lw(a){var s=a.memoizedState,l=0;s!==null&&(l=s.retryLane),Jm(a,l)}function Bw(a,s){var l=0;switch(a.tag){case 31:case 13:var h=a.stateNode,v=a.memoizedState;v!==null&&(l=v.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),Jm(a,l)}function Vw(a,s){return Ze(a,s)}var bf=null,Hs=null,k1=!1,Rf=!1,U1=!1,Ra=0;function vi(a){a!==Hs&&a.next===null&&(Hs===null?bf=Hs=a:Hs=Hs.next=a),Rf=!0,k1||(k1=!0,Uw())}function _l(a,s){if(!U1&&Rf){U1=!0;do for(var l=!1,h=bf;h!==null;){if(a!==0){var v=h.pendingLanes;if(v===0)var y=0;else{var x=h.suspendedLanes,C=h.pingedLanes;y=(1<<31-Pe(42|a)+1)-1,y&=v&~(x&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,ry(h,y))}else y=Ht,y=$r(h,h===_e?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||Dr(h,y)||(l=!0,ry(h,y));h=h.next}while(l);U1=!1}}function kw(){ty()}function ty(){Rf=k1=!1;var a=0;Ra!==0&&Ww()&&(a=Ra);for(var s=Vn(),l=null,h=bf;h!==null;){var v=h.next,y=ey(h,s);y===0?(h.next=null,l===null?bf=v:l.next=v,v===null&&(Hs=l)):(l=h,(a!==0||(y&3)!==0)&&(Rf=!0)),h=v}$e!==0&&$e!==5||_l(a),Ra!==0&&(Ra=0)}function ey(a,s){for(var l=a.suspendedLanes,h=a.pingedLanes,v=a.expirationTimes,y=a.pendingLanes&-62914561;0<y;){var x=31-Pe(y),C=1<<x,k=v[x];k===-1?((C&l)===0||(C&h)!==0)&&(v[x]=pd(C,s)):k<=s&&(a.expiredLanes|=C),y&=~C}if(s=_e,l=Ht,l=$r(a,a===s?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,l===0||a===s&&(ce===2||ce===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&ra(h),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||Dr(a,l)){if(s=l&-l,s===a.callbackPriority)return s;switch(h!==null&&ra(h),Ii(l)){case 2:case 8:l=Ru;break;case 32:l=ia;break;case 268435456:l=mc;break;default:l=ia}return h=ny.bind(null,a),l=Ze(l,h),a.callbackPriority=s,a.callbackNode=l,s}return h!==null&&h!==null&&ra(h),a.callbackPriority=2,a.callbackNode=null,2}function ny(a,s){if($e!==0&&$e!==5)return a.callbackNode=null,a.callbackPriority=0,null;var l=a.callbackNode;if(If()&&a.callbackNode!==l)return null;var h=Ht;return h=$r(a,a===_e?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(Vm(a,h,s),ey(a,Vn()),a.callbackNode!=null&&a.callbackNode===l?ny.bind(null,a):null)}function ry(a,s){if(If())return null;Vm(a,s,!0)}function Uw(){Zw(function(){(re&6)!==0?Ze(bu,kw):ty()})}function F1(){if(Ra===0){var a=Is;a===0&&(a=Qr,Qr<<=1,(Qr&261888)===0&&(Qr=256)),Ra=a}return Ra}function iy(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:hs(""+a)}function ay(a,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,a.id&&l.setAttribute("form",a.id),s.parentNode.insertBefore(l,s),a=new FormData(a),l.parentNode.removeChild(l),a}function Fw(a,s,l,h,v){if(s==="submit"&&l&&l.stateNode===v){var y=iy((v[ln]||null).action),x=h.submitter;x&&(s=(s=x[ln]||null)?iy(s.formAction):x.getAttribute("formAction"),s!==null&&(y=s,x=null));var C=new li("action","action",null,h,v);a.push({event:C,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ra!==0){var k=x?ay(v,x):new FormData(v);o1(l,{pending:!0,data:k,method:v.method,action:y},null,k)}}else typeof y=="function"&&(C.preventDefault(),k=x?ay(v,x):new FormData(v),o1(l,{pending:!0,data:k,method:v.method,action:y},y,k))},currentTarget:v}]})}}for(var z1=0;z1<wd.length;z1++){var H1=wd[z1],zw=H1.toLowerCase(),Hw=H1[0].toUpperCase()+H1.slice(1);Ur(zw,"on"+Hw)}Ur(Bg,"onAnimationEnd"),Ur(Vg,"onAnimationIteration"),Ur(kg,"onAnimationStart"),Ur("dblclick","onDoubleClick"),Ur("focusin","onFocus"),Ur("focusout","onBlur"),Ur(iw,"onTransitionRun"),Ur(aw,"onTransitionStart"),Ur(ow,"onTransitionCancel"),Ur(Ug,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function oy(a,s){s=(s&4)!==0;for(var l=0;l<a.length;l++){var h=a[l],v=h.event;h=h.listeners;t:{var y=void 0;if(s)for(var x=h.length-1;0<=x;x--){var C=h[x],k=C.instance,K=C.currentTarget;if(C=C.listener,k!==y&&v.isPropagationStopped())break t;y=C,v.currentTarget=K;try{y(v)}catch(nt){jc(nt)}v.currentTarget=null,y=k}else for(x=0;x<h.length;x++){if(C=h[x],k=C.instance,K=C.currentTarget,C=C.listener,k!==y&&v.isPropagationStopped())break t;y=C,v.currentTarget=K;try{y(v)}catch(nt){jc(nt)}v.currentTarget=null,y=k}}}}function zt(a,s){var l=s[ss];l===void 0&&(l=s[ss]=new Set);var h=a+"__bubble";l.has(h)||(sy(s,a,2,!1),l.add(h))}function j1(a,s,l){var h=0;s&&(h|=4),sy(l,a,h,s)}var Of="_reactListening"+Math.random().toString(36).slice(2);function G1(a){if(!a[Of]){a[Of]=!0,Nu.forEach(function(l){l!=="selectionchange"&&(jw.has(l)||j1(l,!1,a),j1(l,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Of]||(s[Of]=!0,j1("selectionchange",!1,s))}}function sy(a,s,l,h){switch(By(s)){case 2:var v=m3;break;case 8:v=y3;break;default:v=a0}l=v.bind(null,s,l,a),v=void 0,!_o||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),h?v!==void 0?a.addEventListener(s,l,{capture:!0,passive:v}):a.addEventListener(s,l,!0):v!==void 0?a.addEventListener(s,l,{passive:v}):a.addEventListener(s,l,!1)}function q1(a,s,l,h,v){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)t:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var C=h.stateNode.containerInfo;if(C===v)break;if(x===4)for(x=h.return;x!==null;){var k=x.tag;if((k===3||k===4)&&x.stateNode.containerInfo===v)return;x=x.return}for(;C!==null;){if(x=ni(C),x===null)return;if(k=x.tag,k===5||k===6||k===26||k===27){h=y=x;continue t}C=C.parentNode}}h=h.return}ca(function(){var K=y,nt=pr(l),at=[];t:{var W=Fg.get(a);if(W!==void 0){var J=li,gt=a;switch(a){case"keypress":if(Ao(l)===0)break t;case"keydown":case"keyup":J=Fc;break;case"focusin":gt="focus",J=wo;break;case"focusout":gt="blur",J=wo;break;case"beforeblur":case"afterblur":J=wo;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=qu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=A;break;case Bg:case Vg:case kg:J=Mc;break;case Ug:J=O;break;case"scroll":case"scrollend":J=Gu;break;case"wheel":J=$;break;case"copy":case"cut":case"paste":J=Pc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Oi;break;case"toggle":case"beforetoggle":J=Mt}var St=(s&4)!==0,me=!St&&(a==="scroll"||a==="scrollend"),G=St?W!==null?W+"Capture":null:W;St=[];for(var z=K,Y;z!==null;){var rt=z;if(Y=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||Y===null||G===null||(rt=Lr(z,G),rt!=null&&St.push(Al(z,rt,Y))),me)break;z=z.return}0<St.length&&(W=new J(W,gt,null,l,nt),at.push({event:W,listeners:St}))}}if((s&7)===0){t:{if(W=a==="mouseover"||a==="pointerover",J=a==="mouseout"||a==="pointerout",W&&l!==zu&&(gt=l.relatedTarget||l.fromElement)&&(ni(gt)||gt[ti]))break t;if((J||W)&&(W=nt.window===nt?nt:(W=nt.ownerDocument)?W.defaultView||W.parentWindow:window,J?(gt=l.relatedTarget||l.toElement,J=K,gt=gt?ni(gt):null,gt!==null&&(me=o(gt),St=gt.tag,gt!==me||St!==5&&St!==27&&St!==6)&&(gt=null)):(J=null,gt=K),J!==gt)){if(St=qu,rt="onMouseLeave",G="onMouseEnter",z="mouse",(a==="pointerout"||a==="pointerover")&&(St=Oi,rt="onPointerLeave",G="onPointerEnter",z="pointer"),me=J==null?W:er(J),Y=gt==null?W:er(gt),W=new St(rt,z+"leave",J,l,nt),W.target=me,W.relatedTarget=Y,rt=null,ni(nt)===K&&(St=new St(G,z+"enter",gt,l,nt),St.target=Y,St.relatedTarget=me,rt=St),me=rt,J&&gt)e:{for(St=Gw,G=J,z=gt,Y=0,rt=G;rt;rt=St(rt))Y++;rt=0;for(var At=z;At;At=St(At))rt++;for(;0<Y-rt;)G=St(G),Y--;for(;0<rt-Y;)z=St(z),rt--;for(;Y--;){if(G===z||z!==null&&G===z.alternate){St=G;break e}G=St(G),z=St(z)}St=null}else St=null;J!==null&&uy(at,W,J,St,!1),gt!==null&&me!==null&&uy(at,me,gt,St,!0)}}t:{if(W=K?er(K):window,J=W.nodeName&&W.nodeName.toLowerCase(),J==="select"||J==="input"&&W.type==="file")var Jt=Sg;else if(wg(W))if(Cg)Jt=ew;else{Jt=Jx;var mt=$x}else J=W.nodeName,!J||J.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?K&&fs(K.elementType)&&(Jt=Sg):Jt=tw;if(Jt&&(Jt=Jt(a,K))){Tg(at,Jt,l,nt);break t}mt&&mt(a,W,K),a==="focusout"&&K&&W.type==="number"&&K.memoizedProps.value!=null&&ku(W,"number",W.value)}switch(mt=K?er(K):window,a){case"focusin":(wg(mt)||mt.contentEditable==="true")&&(_s=mt,Ed=K,Qu=null);break;case"focusout":Qu=Ed=_s=null;break;case"mousedown":Ad=!0;break;case"contextmenu":case"mouseup":case"dragend":Ad=!1,Pg(at,l,nt);break;case"selectionchange":if(rw)break;case"keydown":case"keyup":Pg(at,l,nt)}var Vt;if(ne)t:{switch(a){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else ys?To(a,l)&&(jt="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(jt="onCompositionStart");jt&&(hi&&l.locale!=="ko"&&(ys||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&ys&&(Vt=ju()):(ui=nt,Hu="value"in ui?ui.value:ui.textContent,ys=!0)),mt=Df(K,jt),0<mt.length&&(jt=new fi(jt,a,null,l,nt),at.push({event:jt,listeners:mt}),Vt?jt.data=Vt:(Vt=ms(l),Vt!==null&&(jt.data=Vt)))),(Vt=vr?Kx(a,l):Wx(a,l))&&(jt=Df(K,"onBeforeInput"),0<jt.length&&(mt=new fi("onBeforeInput","beforeinput",null,l,nt),at.push({event:mt,listeners:jt}),mt.data=Vt)),Fw(at,a,K,l,nt)}oy(at,s)})}function Al(a,s,l){return{instance:a,listener:s,currentTarget:l}}function Df(a,s){for(var l=s+"Capture",h=[];a!==null;){var v=a,y=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||y===null||(v=Lr(a,l),v!=null&&h.unshift(Al(a,v,y)),v=Lr(a,s),v!=null&&h.push(Al(a,v,y))),a.tag===3)return h;a=a.return}return[]}function Gw(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function uy(a,s,l,h,v){for(var y=s._reactName,x=[];l!==null&&l!==h;){var C=l,k=C.alternate,K=C.stateNode;if(C=C.tag,k!==null&&k===h)break;C!==5&&C!==26&&C!==27||K===null||(k=K,v?(K=Lr(l,y),K!=null&&x.unshift(Al(l,K,k))):v||(K=Lr(l,y),K!=null&&x.push(Al(l,K,k)))),l=l.return}x.length!==0&&a.push({event:s,listeners:x})}var qw=/\r\n?/g,Xw=/\u0000|\uFFFD/g;function ly(a){return(typeof a=="string"?a:""+a).replace(qw,`
`).replace(Xw,"")}function cy(a,s){return s=ly(s),ly(a)===s}function ve(a,s,l,h,v,y){switch(l){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||Gn(a,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&Gn(a,""+h);break;case"className":nr(a,"class",h);break;case"tabIndex":nr(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(a,l,h);break;case"style":Fu(a,h,y);break;case"data":if(s!=="object"){nr(a,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||l!=="href")){a.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(l);break}h=hs(""+h),a.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&ve(a,s,"name",v.name,v,null),ve(a,s,"formEncType",v.formEncType,v,null),ve(a,s,"formMethod",v.formMethod,v,null),ve(a,s,"formTarget",v.formTarget,v,null)):(ve(a,s,"encType",v.encType,v,null),ve(a,s,"method",v.method,v,null),ve(a,s,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(l);break}h=hs(""+h),a.setAttribute(l,h);break;case"onClick":h!=null&&(a.onclick=Pr);break;case"onScroll":h!=null&&zt("scroll",a);break;case"onScrollEnd":h!=null&&zt("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=l}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}l=hs(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(l,""+h):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":h===!0?a.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(l,h):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(l,h):a.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(l):a.setAttribute(l,h);break;case"popover":zt("beforetoggle",a),zt("toggle",a),ls(a,"popover",h);break;case"xlinkActuate":je(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":je(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":je(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":je(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":je(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":je(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":je(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":je(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":je(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":ls(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Oc.get(l)||l,ls(a,l,h))}}function X1(a,s,l,h,v,y){switch(l){case"style":Fu(a,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=l}}break;case"children":typeof h=="string"?Gn(a,h):(typeof h=="number"||typeof h=="bigint")&&Gn(a,""+h);break;case"onScroll":h!=null&&zt("scroll",a);break;case"onScrollEnd":h!=null&&zt("scrollend",a);break;case"onClick":h!=null&&(a.onclick=Pr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mu.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),s=l.slice(2,v?l.length-7:void 0),y=a[ln]||null,y=y!=null?y[l]:null,typeof y=="function"&&a.removeEventListener(s,y,v),typeof h=="function")){typeof y!="function"&&y!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(s,h,v);break t}l in a?a[l]=h:h===!0?a.setAttribute(l,""):ls(a,l,h)}}}function xn(a,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",a),zt("load",a);var h=!1,v=!1,y;for(y in l)if(l.hasOwnProperty(y)){var x=l[y];if(x!=null)switch(y){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ve(a,s,y,x,l,null)}}v&&ve(a,s,"srcSet",l.srcSet,l,null),h&&ve(a,s,"src",l.src,l,null);return;case"input":zt("invalid",a);var C=y=x=v=null,k=null,K=null;for(h in l)if(l.hasOwnProperty(h)){var nt=l[h];if(nt!=null)switch(h){case"name":v=nt;break;case"type":x=nt;break;case"checked":k=nt;break;case"defaultChecked":K=nt;break;case"value":y=nt;break;case"defaultValue":C=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(r(137,s));break;default:ve(a,s,h,nt,l,null)}}Ic(a,y,C,k,K,x,v,!1);return;case"select":zt("invalid",a),h=x=y=null;for(v in l)if(l.hasOwnProperty(v)&&(C=l[v],C!=null))switch(v){case"value":y=C;break;case"defaultValue":x=C;break;case"multiple":h=C;default:ve(a,s,v,C,l,null)}s=y,l=x,a.multiple=!!h,s!=null?oa(a,!!h,s,!1):l!=null&&oa(a,!!h,l,!0);return;case"textarea":zt("invalid",a),y=v=h=null;for(x in l)if(l.hasOwnProperty(x)&&(C=l[x],C!=null))switch(x){case"value":h=C;break;case"defaultValue":v=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:ve(a,s,x,C,l,null)}sa(a,h,v,y);return;case"option":for(k in l)if(l.hasOwnProperty(k)&&(h=l[k],h!=null))switch(k){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ve(a,s,k,h,l,null)}return;case"dialog":zt("beforetoggle",a),zt("toggle",a),zt("cancel",a),zt("close",a);break;case"iframe":case"object":zt("load",a);break;case"video":case"audio":for(h=0;h<El.length;h++)zt(El[h],a);break;case"image":zt("error",a),zt("load",a);break;case"details":zt("toggle",a);break;case"embed":case"source":case"link":zt("error",a),zt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(h=l[K],h!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ve(a,s,K,h,l,null)}return;default:if(fs(s)){for(nt in l)l.hasOwnProperty(nt)&&(h=l[nt],h!==void 0&&X1(a,s,nt,h,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(h=l[C],h!=null&&ve(a,s,C,h,l,null))}function Yw(a,s,l,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,y=null,x=null,C=null,k=null,K=null,nt=null;for(J in l){var at=l[J];if(l.hasOwnProperty(J)&&at!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":k=at;default:h.hasOwnProperty(J)||ve(a,s,J,null,h,at)}}for(var W in h){var J=h[W];if(at=l[W],h.hasOwnProperty(W)&&(J!=null||at!=null))switch(W){case"type":y=J;break;case"name":v=J;break;case"checked":K=J;break;case"defaultChecked":nt=J;break;case"value":x=J;break;case"defaultValue":C=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:J!==at&&ve(a,s,W,J,h,at)}}cs(a,x,C,k,K,nt,y,v);return;case"select":J=x=C=W=null;for(y in l)if(k=l[y],l.hasOwnProperty(y)&&k!=null)switch(y){case"value":break;case"multiple":J=k;default:h.hasOwnProperty(y)||ve(a,s,y,null,h,k)}for(v in h)if(y=h[v],k=l[v],h.hasOwnProperty(v)&&(y!=null||k!=null))switch(v){case"value":W=y;break;case"defaultValue":C=y;break;case"multiple":x=y;default:y!==k&&ve(a,s,v,y,h,k)}s=C,l=x,h=J,W!=null?oa(a,!!l,W,!1):!!h!=!!l&&(s!=null?oa(a,!!l,s,!0):oa(a,!!l,l?[]:"",!1));return;case"textarea":J=W=null;for(C in l)if(v=l[C],l.hasOwnProperty(C)&&v!=null&&!h.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ve(a,s,C,null,h,v)}for(x in h)if(v=h[x],y=l[x],h.hasOwnProperty(x)&&(v!=null||y!=null))switch(x){case"value":W=v;break;case"defaultValue":J=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==y&&ve(a,s,x,v,h,y)}bc(a,W,J);return;case"option":for(var gt in l)if(W=l[gt],l.hasOwnProperty(gt)&&W!=null&&!h.hasOwnProperty(gt))switch(gt){case"selected":a.selected=!1;break;default:ve(a,s,gt,null,h,W)}for(k in h)if(W=h[k],J=l[k],h.hasOwnProperty(k)&&W!==J&&(W!=null||J!=null))switch(k){case"selected":a.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:ve(a,s,k,W,h,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in l)W=l[St],l.hasOwnProperty(St)&&W!=null&&!h.hasOwnProperty(St)&&ve(a,s,St,null,h,W);for(K in h)if(W=h[K],J=l[K],h.hasOwnProperty(K)&&W!==J&&(W!=null||J!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:ve(a,s,K,W,h,J)}return;default:if(fs(s)){for(var me in l)W=l[me],l.hasOwnProperty(me)&&W!==void 0&&!h.hasOwnProperty(me)&&X1(a,s,me,void 0,h,W);for(nt in h)W=h[nt],J=l[nt],!h.hasOwnProperty(nt)||W===J||W===void 0&&J===void 0||X1(a,s,nt,W,h,J);return}}for(var G in l)W=l[G],l.hasOwnProperty(G)&&W!=null&&!h.hasOwnProperty(G)&&ve(a,s,G,null,h,W);for(at in h)W=h[at],J=l[at],!h.hasOwnProperty(at)||W===J||W==null&&J==null||ve(a,s,at,W,h,J)}function fy(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kw(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var v=l[h],y=v.transferSize,x=v.initiatorType,C=v.duration;if(y&&C&&fy(x)){for(x=0,C=v.responseEnd,h+=1;h<l.length;h++){var k=l[h],K=k.startTime;if(K>C)break;var nt=k.transferSize,at=k.initiatorType;nt&&fy(at)&&(k=k.responseEnd,x+=nt*(k<C?1:(C-K)/(k-K)))}if(--h,s+=8*(y+x)/(v.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Y1=null,K1=null;function Nf(a){return a.nodeType===9?a:a.ownerDocument}function hy(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dy(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function W1(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Q1=null;function Ww(){var a=window.event;return a&&a.type==="popstate"?a===Q1?!1:(Q1=a,!0):(Q1=null,!1)}var py=typeof setTimeout=="function"?setTimeout:void 0,Qw=typeof clearTimeout=="function"?clearTimeout:void 0,gy=typeof Promise=="function"?Promise:void 0,Zw=typeof queueMicrotask=="function"?queueMicrotask:typeof gy<"u"?function(a){return gy.resolve(null).then(a).catch($w)}:py;function $w(a){setTimeout(function(){throw a})}function Oa(a){return a==="head"}function vy(a,s){var l=s,h=0;do{var v=l.nextSibling;if(a.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"||l==="/&"){if(h===0){a.removeChild(v),Xs(s);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")xl(a.ownerDocument.documentElement);else if(l==="head"){l=a.ownerDocument.head,xl(l);for(var y=l.firstChild;y;){var x=y.nextSibling,C=y.nodeName;y[ei]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=x}}else l==="body"&&xl(a.ownerDocument.body);l=v}while(l);Xs(s)}function my(a,s){var l=a;a=0;do{var h=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(a===0)break;a--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||a++;l=h}while(l)}function Z1(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Z1(l),us(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function Jw(a,s,l,h){for(;a.nodeType===1;){var v=l;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[ei])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(y=a.getAttribute("rel"),y==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(y!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(y=a.getAttribute("src"),(y!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&y&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var y=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===y)return a}else return a;if(a=wr(a.nextSibling),a===null)break}return null}function t3(a,s,l){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=wr(a.nextSibling),a===null))return null;return a}function yy(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=wr(a.nextSibling),a===null))return null;return a}function $1(a){return a.data==="$?"||a.data==="$~"}function J1(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function e3(a,s){var l=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||l.readyState!=="loading")s();else{var h=function(){s(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function wr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var t0=null;function _y(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var l=a.data;if(l==="/$"||l==="/&"){if(s===0)return wr(a.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}a=a.nextSibling}return null}function Ey(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return a;s--}else l!=="/$"&&l!=="/&"||s++}a=a.previousSibling}return null}function Ay(a,s,l){switch(s=Nf(l),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function xl(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);us(a)}var Tr=new Map,xy=new Set;function Mf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var qi=lt.d;lt.d={f:n3,r:r3,D:i3,C:a3,L:o3,m:s3,X:l3,S:u3,M:c3};function n3(){var a=qi.f(),s=Tf();return a||s}function r3(a){var s=dr(a);s!==null&&s.tag===5&&s.type==="form"?Uv(s):qi.r(a)}var js=typeof document>"u"?null:document;function wy(a,s,l){var h=js;if(h&&typeof s=="string"&&s){var v=jn(s);v='link[rel="'+a+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),xy.has(v)||(xy.add(v),a={rel:a,crossOrigin:l,href:s},h.querySelector(v)===null&&(s=h.createElement("link"),xn(s,"link",a),He(s),h.head.appendChild(s)))}}function i3(a){qi.D(a),wy("dns-prefetch",a,null)}function a3(a,s){qi.C(a,s),wy("preconnect",a,s)}function o3(a,s,l){qi.L(a,s,l);var h=js;if(h&&a&&s){var v='link[rel="preload"][as="'+jn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+jn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+jn(l.imageSizes)+'"]')):v+='[href="'+jn(a)+'"]';var y=v;switch(s){case"style":y=Gs(a);break;case"script":y=qs(a)}Tr.has(y)||(a=m({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:a,as:s},l),Tr.set(y,a),h.querySelector(v)!==null||s==="style"&&h.querySelector(wl(y))||s==="script"&&h.querySelector(Tl(y))||(s=h.createElement("link"),xn(s,"link",a),He(s),h.head.appendChild(s)))}}function s3(a,s){qi.m(a,s);var l=js;if(l&&a){var h=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+jn(h)+'"][href="'+jn(a)+'"]',y=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=qs(a)}if(!Tr.has(y)&&(a=m({rel:"modulepreload",href:a},s),Tr.set(y,a),l.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Tl(y)))return}h=l.createElement("link"),xn(h,"link",a),He(h),l.head.appendChild(h)}}}function u3(a,s,l){qi.S(a,s,l);var h=js;if(h&&a){var v=ri(h).hoistableStyles,y=Gs(a);s=s||"default";var x=v.get(y);if(!x){var C={loading:0,preload:null};if(x=h.querySelector(wl(y)))C.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":s},l),(l=Tr.get(y))&&e0(a,l);var k=x=h.createElement("link");He(k),xn(k,"link",a),k._p=new Promise(function(K,nt){k.onload=K,k.onerror=nt}),k.addEventListener("load",function(){C.loading|=1}),k.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Pf(x,s,h)}x={type:"stylesheet",instance:x,count:1,state:C},v.set(y,x)}}}function l3(a,s){qi.X(a,s);var l=js;if(l&&a){var h=ri(l).hoistableScripts,v=qs(a),y=h.get(v);y||(y=l.querySelector(Tl(v)),y||(a=m({src:a,async:!0},s),(s=Tr.get(v))&&n0(a,s),y=l.createElement("script"),He(y),xn(y,"link",a),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(v,y))}}function c3(a,s){qi.M(a,s);var l=js;if(l&&a){var h=ri(l).hoistableScripts,v=qs(a),y=h.get(v);y||(y=l.querySelector(Tl(v)),y||(a=m({src:a,async:!0,type:"module"},s),(s=Tr.get(v))&&n0(a,s),y=l.createElement("script"),He(y),xn(y,"link",a),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(v,y))}}function Ty(a,s,l,h){var v=(v=Bt.current)?Mf(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Gs(l.href),l=ri(v).hoistableStyles,h=l.get(s),h||(h={type:"style",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=Gs(l.href);var y=ri(v).hoistableStyles,x=y.get(a);if(x||(v=v.ownerDocument||v,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(a,x),(y=v.querySelector(wl(a)))&&!y._p&&(x.instance=y,x.state.loading=5),Tr.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Tr.set(a,l),y||f3(v,a,l,x.state))),s&&h===null)throw Error(r(528,""));return x}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=qs(l),l=ri(v).hoistableScripts,h=l.get(s),h||(h={type:"script",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Gs(a){return'href="'+jn(a)+'"'}function wl(a){return'link[rel="stylesheet"]['+a+"]"}function Sy(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function f3(a,s,l,h){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=a.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),xn(s,"link",l),He(s),a.head.appendChild(s))}function qs(a){return'[src="'+jn(a)+'"]'}function Tl(a){return"script[async]"+a}function Cy(a,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var h=a.querySelector('style[data-href~="'+jn(l.href)+'"]');if(h)return s.instance=h,He(h),h;var v=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),He(h),xn(h,"style",v),Pf(h,l.precedence,a),s.instance=h;case"stylesheet":v=Gs(l.href);var y=a.querySelector(wl(v));if(y)return s.state.loading|=4,s.instance=y,He(y),y;h=Sy(l),(v=Tr.get(v))&&e0(h,v),y=(a.ownerDocument||a).createElement("link"),He(y);var x=y;return x._p=new Promise(function(C,k){x.onload=C,x.onerror=k}),xn(y,"link",h),s.state.loading|=4,Pf(y,l.precedence,a),s.instance=y;case"script":return y=qs(l.src),(v=a.querySelector(Tl(y)))?(s.instance=v,He(v),v):(h=l,(v=Tr.get(y))&&(h=m({},l),n0(h,v)),a=a.ownerDocument||a,v=a.createElement("script"),He(v),xn(v,"link",h),a.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Pf(h,l.precedence,a));return s.instance}function Pf(a,s,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,y=v,x=0;x<h.length;x++){var C=h[x];if(C.dataset.precedence===s)y=C;else if(y!==v)break}y?y.parentNode.insertBefore(a,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(a,s.firstChild))}function e0(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function n0(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Lf=null;function Iy(a,s,l){if(Lf===null){var h=new Map,v=Lf=new Map;v.set(l,h)}else v=Lf,h=v.get(l),h||(h=new Map,v.set(l,h));if(h.has(a))return h;for(h.set(a,null),l=l.getElementsByTagName(a),v=0;v<l.length;v++){var y=l[v];if(!(y[ei]||y[ze]||a==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(s)||"";x=a+x;var C=h.get(x);C?C.push(y):h.set(x,[y])}}return h}function by(a,s,l){a=a.ownerDocument||a,a.head.insertBefore(l,s==="title"?a.querySelector("head > title"):null)}function h3(a,s,l){if(l===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Ry(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function d3(a,s,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=Gs(h.href),y=s.querySelector(wl(v));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=Bf.bind(a),s.then(a,a)),l.state.loading|=4,l.instance=y,He(y);return}y=s.ownerDocument||s,h=Sy(h),(v=Tr.get(v))&&e0(h,v),y=y.createElement("link"),He(y);var x=y;x._p=new Promise(function(C,k){x.onload=C,x.onerror=k}),xn(y,"link",h),l.instance=y}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(a.count++,l=Bf.bind(a),s.addEventListener("load",l),s.addEventListener("error",l))}}var r0=0;function p3(a,s){return a.stylesheets&&a.count===0&&kf(a,a.stylesheets),0<a.count||0<a.imgCount?function(l){var h=setTimeout(function(){if(a.stylesheets&&kf(a,a.stylesheets),a.unsuspend){var y=a.unsuspend;a.unsuspend=null,y()}},6e4+s);0<a.imgBytes&&r0===0&&(r0=62500*Kw());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&kf(a,a.stylesheets),a.unsuspend)){var y=a.unsuspend;a.unsuspend=null,y()}},(a.imgBytes>r0?50:800)+s);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function Bf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kf(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Vf=null;function kf(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Vf=new Map,s.forEach(g3,a),Vf=null,Bf.call(a))}function g3(a,s){if(!(s.state.loading&4)){var l=Vf.get(a);if(l)var h=l.get(null);else{l=new Map,Vf.set(a,l);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<v.length;y++){var x=v[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),h=x)}h&&l.set(null,h)}v=s.instance,x=v.getAttribute("data-precedence"),y=l.get(x)||h,y===h&&l.set(null,v),l.set(x,v),this.count++,h=Bf.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),y?y.parentNode.insertBefore(v,y.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),s.state.loading|=4}}var Sl={$$typeof:V,Provider:null,Consumer:null,_currentValue:Et,_currentValue2:Et,_threadCount:0};function v3(a,s,l,h,v,y,x,C,k){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jr(0),this.hiddenUpdates=Jr(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Oy(a,s,l,h,v,y,x,C,k,K,nt,at){return a=new v3(a,s,l,x,k,K,nt,at,C),s=1,y===!0&&(s|=24),y=ir(3,null,null,s),a.current=y,y.stateNode=a,s=Bd(),s.refCount++,a.pooledCache=s,s.refCount++,y.memoizedState={element:h,isDehydrated:l,cache:s},Fd(y),a}function Dy(a){return a?(a=xs,a):xs}function Ny(a,s,l,h,v,y){v=Dy(v),h.context===null?h.context=v:h.pendingContext=v,h=_a(s),h.payload={element:l},y=y===void 0?null:y,y!==null&&(h.callback=y),l=Ea(a,h,s),l!==null&&(Wn(l,a,s),rl(l,a,s))}function My(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<s?l:s}}function i0(a,s){My(a,s),(a=a.alternate)&&My(a,s)}function Py(a){if(a.tag===13||a.tag===31){var s=Io(a,67108864);s!==null&&Wn(s,a,67108864),i0(a,67108864)}}function Ly(a){if(a.tag===13||a.tag===31){var s=lr();s=go(s);var l=Io(a,s);l!==null&&Wn(l,a,s),i0(a,s)}}var Uf=!0;function m3(a,s,l,h){var v=tt.T;tt.T=null;var y=lt.p;try{lt.p=2,a0(a,s,l,h)}finally{lt.p=y,tt.T=v}}function y3(a,s,l,h){var v=tt.T;tt.T=null;var y=lt.p;try{lt.p=8,a0(a,s,l,h)}finally{lt.p=y,tt.T=v}}function a0(a,s,l,h){if(Uf){var v=o0(h);if(v===null)q1(a,s,h,Ff,l),Vy(a,h);else if(E3(v,a,s,l,h))h.stopPropagation();else if(Vy(a,h),s&4&&-1<_3.indexOf(a)){for(;v!==null;){var y=dr(v);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=Zr(y.pendingLanes);if(x!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;x;){var k=1<<31-Pe(x);C.entanglements[1]|=k,x&=~k}vi(y),(re&6)===0&&(xf=Vn()+500,_l(0))}}break;case 31:case 13:C=Io(y,2),C!==null&&Wn(C,y,2),Tf(),i0(y,2)}if(y=o0(h),y===null&&q1(a,s,h,Ff,l),y===v)break;v=y}v!==null&&h.stopPropagation()}else q1(a,s,h,null,l)}}function o0(a){return a=pr(a),s0(a)}var Ff=null;function s0(a){if(Ff=null,a=ni(a),a!==null){var s=o(a);if(s===null)a=null;else{var l=s.tag;if(l===13){if(a=u(s),a!==null)return a;a=null}else if(l===31){if(a=c(s),a!==null)return a;a=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Ff=a,null}function By(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(co()){case bu:return 2;case Ru:return 8;case ia:case dd:return 32;case mc:return 268435456;default:return 32}default:return 32}}var u0=!1,Da=null,Na=null,Ma=null,Cl=new Map,Il=new Map,Pa=[],_3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vy(a,s){switch(a){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":Cl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(s.pointerId)}}function bl(a,s,l,h,v,y){return a===null||a.nativeEvent!==y?(a={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[v]},s!==null&&(s=dr(s),s!==null&&Py(s)),a):(a.eventSystemFlags|=h,s=a.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),a)}function E3(a,s,l,h,v){switch(s){case"focusin":return Da=bl(Da,a,s,l,h,v),!0;case"dragenter":return Na=bl(Na,a,s,l,h,v),!0;case"mouseover":return Ma=bl(Ma,a,s,l,h,v),!0;case"pointerover":var y=v.pointerId;return Cl.set(y,bl(Cl.get(y)||null,a,s,l,h,v)),!0;case"gotpointercapture":return y=v.pointerId,Il.set(y,bl(Il.get(y)||null,a,s,l,h,v)),!0}return!1}function ky(a){var s=ni(a.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){a.blockedOn=s,Nr(a.priority,function(){Ly(l)});return}}else if(s===31){if(s=c(l),s!==null){a.blockedOn=s,Nr(a.priority,function(){Ly(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function zf(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var l=o0(a.nativeEvent);if(l===null){l=a.nativeEvent;var h=new l.constructor(l.type,l);zu=h,l.target.dispatchEvent(h),zu=null}else return s=dr(l),s!==null&&Py(s),a.blockedOn=l,!1;s.shift()}return!0}function Uy(a,s,l){zf(a)&&l.delete(s)}function A3(){u0=!1,Da!==null&&zf(Da)&&(Da=null),Na!==null&&zf(Na)&&(Na=null),Ma!==null&&zf(Ma)&&(Ma=null),Cl.forEach(Uy),Il.forEach(Uy)}function Hf(a,s){a.blockedOn===s&&(a.blockedOn=null,u0||(u0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,A3)))}var jf=null;function Fy(a){jf!==a&&(jf=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){jf===a&&(jf=null);for(var s=0;s<a.length;s+=3){var l=a[s],h=a[s+1],v=a[s+2];if(typeof h!="function"){if(s0(h||l)===null)continue;break}var y=dr(l);y!==null&&(a.splice(s,3),s-=3,o1(y,{pending:!0,data:v,method:l.method,action:h},h,v))}}))}function Xs(a){function s(k){return Hf(k,a)}Da!==null&&Hf(Da,a),Na!==null&&Hf(Na,a),Ma!==null&&Hf(Ma,a),Cl.forEach(s),Il.forEach(s);for(var l=0;l<Pa.length;l++){var h=Pa[l];h.blockedOn===a&&(h.blockedOn=null)}for(;0<Pa.length&&(l=Pa[0],l.blockedOn===null);)ky(l),l.blockedOn===null&&Pa.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var v=l[h],y=l[h+1],x=v[ln]||null;if(typeof y=="function")x||Fy(l);else if(x){var C=null;if(y&&y.hasAttribute("formAction")){if(v=y,x=y[ln]||null)C=x.formAction;else if(s0(v)!==null)continue}else C=x.action;typeof C=="function"?l[h+1]=C:(l.splice(h,3),h-=3),Fy(l)}}}function zy(){function a(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(x){return v=x})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function l0(a){this._internalRoot=a}Gf.prototype.render=l0.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,h=lr();Ny(l,h,a,s,null,null)},Gf.prototype.unmount=l0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;Ny(a.current,2,null,a,null,null),Tf(),s[ti]=null}};function Gf(a){this._internalRoot=a}Gf.prototype.unstable_scheduleHydration=function(a){if(a){var s=wc();a={blockedOn:null,target:a,priority:s};for(var l=0;l<Pa.length&&s!==0&&s<Pa[l].priority;l++);Pa.splice(l,0,a),l===0&&ky(a)}};var Hy=t.version;if(Hy!=="19.2.0")throw Error(r(527,Hy,"19.2.0"));lt.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(s),a=a!==null?g(a):null,a=a===null?null:a.stateNode,a};var x3={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:tt,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qf.isDisabled&&qf.supportsFiber)try{Or=qf.inject(x3),mn=qf}catch{}}return Ol.createRoot=function(a,s){if(!i(a))throw Error(r(299));var l=!1,h="",v=Wv,y=Qv,x=Zv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=Oy(a,1,!1,null,null,l,h,null,v,y,x,zy),a[ti]=s.current,G1(a),new l0(s)},Ol.hydrateRoot=function(a,s,l){if(!i(a))throw Error(r(299));var h=!1,v="",y=Wv,x=Qv,C=Zv,k=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.formState!==void 0&&(k=l.formState)),s=Oy(a,1,!0,s,l??null,h,v,k,y,x,C,zy),s.context=Dy(null),l=s.current,h=lr(),h=go(h),v=_a(h),v.callback=null,Ea(l,v,h),l=h,s.current.lanes=l,ho(s,l),vi(s),a[ti]=s.current,G1(a),new Gf(s)},Ol.version="19.2.0",Ol}var $y;function M3(){if($y)return h0.exports;$y=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),h0.exports=N3(),h0.exports}var P3=M3();const L3=()=>{};var Jy={};const fE=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=i&63|128):(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=i&63|128)}return t},B3=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const i=n[e++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[e++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[e++],u=n[e++],c=n[e++],f=((i&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],u=n[e++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return t.join("")},hE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],u=i+1<n.length,c=u?n[i+1]:0,f=i+2<n.length,d=f?n[i+2]:0,g=o>>2,m=(o&3)<<4|c>>4;let _=(c&15)<<2|d>>6,E=d&63;f||(E=64,u||(_=64)),r.push(e[g],e[m],e[_],e[E])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(fE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):B3(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=e[n.charAt(i++)],c=i<n.length?e[n.charAt(i)]:0;++i;const d=i<n.length?e[n.charAt(i)]:64;++i;const m=i<n.length?e[n.charAt(i)]:64;if(++i,o==null||c==null||d==null||m==null)throw new V3;const _=o<<2|c>>4;if(r.push(_),d!==64){const E=c<<4&240|d>>2;if(r.push(E),m!==64){const w=d<<6&192|m;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class V3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k3=function(n){const t=fE(n);return hE.encodeByteArray(t,!0)},yh=function(n){return k3(n).replace(/\./g,"")},dE=function(n){try{return hE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function U3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const F3=()=>U3().__FIREBASE_DEFAULTS__,z3=()=>{if(typeof process>"u"||typeof Jy>"u")return;const n=Jy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},H3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&dE(n[1]);return t&&JSON.parse(t)},Hh=()=>{try{return L3()||F3()||z3()||H3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},pE=n=>Hh()?.emulatorHosts?.[n],j3=n=>{const t=pE(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},gE=()=>Hh()?.config,vE=n=>Hh()?.[`_${n}`];class G3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}function vu(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mE(n){return(await fetch(n,{credentials:"include"})).ok}function q3(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[yh(JSON.stringify(e)),yh(JSON.stringify(u)),""].join(".")}const Gl={};function X3(){const n={prod:[],emulator:[]};for(const t of Object.keys(Gl))Gl[t]?n.emulator.push(t):n.prod.push(t);return n}function Y3(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let t2=!1;function yE(n,t){if(typeof window>"u"||typeof document>"u"||!vu(window.location.host)||Gl[n]===t||Gl[n]||t2)return;Gl[n]=t;function e(_){return`__firebase__banner__${_}`}const r="__firebase__banner",o=X3().prod.length>0;function u(){const _=document.getElementById(r);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,E){_.setAttribute("width","24"),_.setAttribute("id",E),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{t2=!0,u()},_}function g(_,E){_.setAttribute("id",E),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function m(){const _=Y3(r),E=e("text"),w=document.getElementById(E)||document.createElement("span"),S=e("learnmore"),I=document.getElementById(S)||document.createElement("a"),N=e("preprendIcon"),L=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const V=_.element;c(V),g(I,S);const j=d();f(L,N),V.append(L,w,I,j),document.body.appendChild(V)}o?(w.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function W3(){const n=Hh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Q3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z3(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function J3(){const n=Ln();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function tT(){return!W3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eT(){try{return typeof indexedDB=="object"}catch{return!1}}function nT(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(e){t(e)}})}const rT="FirebaseError";class ea extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=rT,Object.setPrototypeOf(this,ea.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ac.prototype.create)}}class ac{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},i=`${this.service}/${t}`,o=this.errors[t],u=o?iT(o,r):"Error",c=`${this.serviceName}: ${u} (${i}).`;return new ea(i,c,r)}}function iT(n,t){return n.replace(aT,(e,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const aT=/\{\$([^}]+)}/g;function oT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Qo(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const i of e){if(!r.includes(i))return!1;const o=n[i],u=t[i];if(e2(o)&&e2(u)){if(!Qo(o,u))return!1}else if(o!==u)return!1}for(const i of r)if(!e.includes(i))return!1;return!0}function e2(n){return n!==null&&typeof n=="object"}function oc(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Pl(n){const t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function Ll(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function sT(n,t){const e=new uT(n,t);return e.subscribe.bind(e)}class uT{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let i;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");lT(t,["next","error","complete"])?i=t:i={next:t,error:e,complete:r},i.next===void 0&&(i.next=v0),i.error===void 0&&(i.error=v0),i.complete===void 0&&(i.complete=v0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lT(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function v0(){}function bn(n){return n&&n._delegate?n._delegate:n}class Zo{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ho="[DEFAULT]";class cT{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new G3;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:e});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(hT(t))try{this.getOrInitializeService({instanceIdentifier:Ho})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Ho){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ho){return this.instances.has(t)}getOptions(t=Ho){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[o,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&u.resolve(i)}return i}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&t(o,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const i of r)try{i(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fT(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ho){return this.component?this.component.multipleInstances?t:Ho:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fT(n){return n===Ho?void 0:n}function hT(n){return n.instantiationMode==="EAGER"}class dT{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new cT(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Gt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Gt||(Gt={}));const pT={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},gT=Gt.INFO,vT={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},mT=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),i=vT[t];if(i)console[i](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Tp{constructor(t){this.name=t,this._logLevel=gT,this._logHandler=mT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Gt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?pT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...t),this._logHandler(this,Gt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...t),this._logHandler(this,Gt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...t),this._logHandler(this,Gt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...t),this._logHandler(this,Gt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...t),this._logHandler(this,Gt.ERROR,...t)}}const yT=(n,t)=>t.some(e=>n instanceof e);let n2,r2;function _T(){return n2||(n2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ET(){return r2||(r2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _E=new WeakMap,V0=new WeakMap,EE=new WeakMap,m0=new WeakMap,Sp=new WeakMap;function AT(n){const t=new Promise((e,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{e(Ga(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&_E.set(e,n)}).catch(()=>{}),Sp.set(t,n),t}function xT(n){if(V0.has(n))return;const t=new Promise((e,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{e(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});V0.set(n,t)}let k0={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return V0.get(n);if(t==="objectStoreNames")return n.objectStoreNames||EE.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ga(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function wT(n){k0=n(k0)}function TT(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(y0(this),t,...e);return EE.set(r,t.sort?t.sort():[t]),Ga(r)}:ET().includes(n)?function(...t){return n.apply(y0(this),t),Ga(_E.get(this))}:function(...t){return Ga(n.apply(y0(this),t))}}function ST(n){return typeof n=="function"?TT(n):(n instanceof IDBTransaction&&xT(n),yT(n,_T())?new Proxy(n,k0):n)}function Ga(n){if(n instanceof IDBRequest)return AT(n);if(m0.has(n))return m0.get(n);const t=ST(n);return t!==n&&(m0.set(n,t),Sp.set(t,n)),t}const y0=n=>Sp.get(n);function CT(n,t,{blocked:e,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(n,t),c=Ga(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ga(u.result),f.oldVersion,f.newVersion,Ga(u.transaction),f)}),e&&u.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const IT=["get","getKey","getAll","getAllKeys","count"],bT=["put","add","delete","clear"],_0=new Map;function i2(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(_0.get(t))return _0.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,i=bT.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(i||IT.includes(e)))return;const o=async function(u,...c){const f=this.transaction(u,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[e](...c),i&&f.done]))[0]};return _0.set(t,o),o}wT(n=>({...n,get:(t,e,r)=>i2(t,e)||n.get(t,e,r),has:(t,e)=>!!i2(t,e)||n.has(t,e)}));class RT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(OT(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function OT(n){return n.getComponent()?.type==="VERSION"}const U0="@firebase/app",a2="0.14.6";const Qi=new Tp("@firebase/app"),DT="@firebase/app-compat",NT="@firebase/analytics-compat",MT="@firebase/analytics",PT="@firebase/app-check-compat",LT="@firebase/app-check",BT="@firebase/auth",VT="@firebase/auth-compat",kT="@firebase/database",UT="@firebase/data-connect",FT="@firebase/database-compat",zT="@firebase/functions",HT="@firebase/functions-compat",jT="@firebase/installations",GT="@firebase/installations-compat",qT="@firebase/messaging",XT="@firebase/messaging-compat",YT="@firebase/performance",KT="@firebase/performance-compat",WT="@firebase/remote-config",QT="@firebase/remote-config-compat",ZT="@firebase/storage",$T="@firebase/storage-compat",JT="@firebase/firestore",tS="@firebase/ai",eS="@firebase/firestore-compat",nS="firebase",rS="12.6.0";const F0="[DEFAULT]",iS={[U0]:"fire-core",[DT]:"fire-core-compat",[MT]:"fire-analytics",[NT]:"fire-analytics-compat",[LT]:"fire-app-check",[PT]:"fire-app-check-compat",[BT]:"fire-auth",[VT]:"fire-auth-compat",[kT]:"fire-rtdb",[UT]:"fire-data-connect",[FT]:"fire-rtdb-compat",[zT]:"fire-fn",[HT]:"fire-fn-compat",[jT]:"fire-iid",[GT]:"fire-iid-compat",[qT]:"fire-fcm",[XT]:"fire-fcm-compat",[YT]:"fire-perf",[KT]:"fire-perf-compat",[WT]:"fire-rc",[QT]:"fire-rc-compat",[ZT]:"fire-gcs",[$T]:"fire-gcs-compat",[JT]:"fire-fst",[eS]:"fire-fst-compat",[tS]:"fire-vertex","fire-js":"fire-js",[nS]:"fire-js-all"};const _h=new Map,aS=new Map,z0=new Map;function o2(n,t){try{n.container.addComponent(t)}catch(e){Qi.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function ou(n){const t=n.name;if(z0.has(t))return Qi.debug(`There were multiple attempts to register component ${t}.`),!1;z0.set(t,n);for(const e of _h.values())o2(e,n);for(const e of aS.values())o2(e,n);return!0}function Cp(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function cr(n){return n==null?!1:n.settings!==void 0}const oS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qa=new ac("app","Firebase",oS);class sS{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qa.create("app-deleted",{appName:this._name})}}const mu=rS;function AE(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:F0,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw qa.create("bad-app-name",{appName:String(i)});if(e||(e=gE()),!e)throw qa.create("no-options");const o=_h.get(i);if(o){if(Qo(e,o.options)&&Qo(r,o.config))return o;throw qa.create("duplicate-app",{appName:i})}const u=new dT(i);for(const f of z0.values())u.addComponent(f);const c=new sS(e,r,u);return _h.set(i,c),c}function xE(n=F0){const t=_h.get(n);if(!t&&n===F0&&gE())return AE();if(!t)throw qa.create("no-app",{appName:n});return t}function Xa(n,t,e){let r=iS[n]??n;e&&(r+=`-${e}`);const i=r.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const u=[`Unable to register library "${r}" with version "${t}":`];i&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&u.push("and"),o&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Qi.warn(u.join(" "));return}ou(new Zo(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const uS="firebase-heartbeat-database",lS=1,Zl="firebase-heartbeat-store";let E0=null;function wE(){return E0||(E0=CT(uS,lS,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Zl)}catch(e){console.warn(e)}}}}).catch(n=>{throw qa.create("idb-open",{originalErrorMessage:n.message})})),E0}async function cS(n){try{const e=(await wE()).transaction(Zl),r=await e.objectStore(Zl).get(TE(n));return await e.done,r}catch(t){if(t instanceof ea)Qi.warn(t.message);else{const e=qa.create("idb-get",{originalErrorMessage:t?.message});Qi.warn(e.message)}}}async function s2(n,t){try{const r=(await wE()).transaction(Zl,"readwrite");await r.objectStore(Zl).put(t,TE(n)),await r.done}catch(e){if(e instanceof ea)Qi.warn(e.message);else{const r=qa.create("idb-set",{originalErrorMessage:e?.message});Qi.warn(r.message)}}}function TE(n){return`${n.name}!${n.options.appId}`}const fS=1024,hS=30;class dS{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new gS(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=u2();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>hS){const i=vS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Qi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=u2(),{heartbeatsToSend:e,unsentEntries:r}=pS(this._heartbeatsCache.heartbeats),i=yh(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Qi.warn(t),""}}}function u2(){return new Date().toISOString().substring(0,10)}function pS(n,t=fS){const e=[];let r=n.slice();for(const i of n){const o=e.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),l2(e)>t){o.dates.pop();break}}else if(e.push({agent:i.agent,dates:[i.date]}),l2(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class gS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eT()?nT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await cS(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return s2(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return s2(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function l2(n){return yh(JSON.stringify({version:2,heartbeats:n})).length}function vS(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}function mS(n){ou(new Zo("platform-logger",t=>new RT(t),"PRIVATE")),ou(new Zo("heartbeat",t=>new dS(t),"PRIVATE")),Xa(U0,a2,n),Xa(U0,a2,"esm2020"),Xa("fire-js","")}mS("");var yS="firebase",_S="12.6.0";Xa(yS,_S,"app");function SE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ES=SE,CE=new ac("auth","Firebase",SE());const Eh=new Tp("@firebase/auth");function AS(n,...t){Eh.logLevel<=Gt.WARN&&Eh.warn(`Auth (${mu}): ${n}`,...t)}function ih(n,...t){Eh.logLevel<=Gt.ERROR&&Eh.error(`Auth (${mu}): ${n}`,...t)}function Rr(n,...t){throw bp(n,...t)}function Yr(n,...t){return bp(n,...t)}function Ip(n,t,e){const r={...ES(),[t]:e};return new ac("auth","Firebase",r).create(t,{appName:n.name})}function Wi(n){return Ip(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xS(n,t,e){const r=e;if(!(t instanceof r))throw r.name!==t.constructor.name&&Rr(n,"argument-error"),Ip(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bp(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return CE.create(n,...t)}function Ct(n,t,...e){if(!n)throw bp(t,...e)}function Yi(n){const t="INTERNAL ASSERTION FAILED: "+n;throw ih(t),new Error(t)}function Zi(n,t){n||Yi(t)}function H0(){return typeof self<"u"&&self.location?.href||""}function wS(){return c2()==="http:"||c2()==="https:"}function c2(){return typeof self<"u"&&self.location?.protocol||null}function TS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wS()||Z3()||"connection"in navigator)?navigator.onLine:!0}function SS(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class sc{constructor(t,e){this.shortDelay=t,this.longDelay=e,Zi(e>t,"Short delay should be less than long delay!"),this.isMobile=K3()||$3()}get(){return TS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rp(n,t){Zi(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class IE{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const CS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const IS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bS=new sc(3e4,6e4);function io(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function na(n,t,e,r,i={}){return bE(n,i,async()=>{let o={},u={};r&&(t==="GET"?u=r:o={body:JSON.stringify(r)});const c=oc({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:t,headers:f,...o};return Q3()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&vu(n.emulatorConfig.host)&&(d.credentials="include"),IE.fetch()(await RE(n,n.config.apiHost,e,c),d)})}async function bE(n,t,e){n._canInitEmulator=!1;const r={...CS,...t};try{const i=new OS(n),o=await Promise.race([e(),i.promise]);i.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Xf(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const c=o.ok?u.errorMessage:u.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xf(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Xf(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Xf(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Ip(n,g,d);Rr(n,g)}}catch(i){if(i instanceof ea)throw i;Rr(n,"network-request-failed",{message:String(i)})}}async function uc(n,t,e,r,i={}){const o=await na(n,t,e,r,i);return"mfaPendingCredential"in o&&Rr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function RE(n,t,e,r){const i=`${t}${e}?${r}`,o=n,u=o.config.emulator?Rp(n.config,i):`${n.config.apiScheme}://${i}`;return IS.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function RS(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Yr(this.auth,"network-request-failed")),bS.get())})}}function Xf(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const i=Yr(n,t,r);return i.customData._tokenResponse=e,i}function f2(n){return n!==void 0&&n.enterprise!==void 0}class DS{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return RS(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NS(n,t){return na(n,"GET","/v2/recaptchaConfig",io(n,t))}async function MS(n,t){return na(n,"POST","/v1/accounts:delete",t)}async function Ah(n,t){return na(n,"POST","/v1/accounts:lookup",t)}function ql(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function PS(n,t=!1){const e=bn(n),r=await e.getIdToken(t),i=Op(r);Ct(i&&i.exp&&i.auth_time&&i.iat,e.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,u=o?.sign_in_provider;return{claims:i,token:r,authTime:ql(A0(i.auth_time)),issuedAtTime:ql(A0(i.iat)),expirationTime:ql(A0(i.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function A0(n){return Number(n)*1e3}function Op(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const i=dE(e);return i?JSON.parse(i):(ih("Failed to decode base64 JWT payload"),null)}catch(i){return ih("Caught error parsing JWT payload as JSON",i?.toString()),null}}function h2(n){const t=Op(n);return Ct(t,"internal-error"),Ct(typeof t.exp<"u","internal-error"),Ct(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function su(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof ea&&LS(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function LS({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class BS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class j0{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=ql(this.lastLoginAt),this.creationTime=ql(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xh(n){const t=n.auth,e=await n.getIdToken(),r=await su(n,Ah(t,{idToken:e}));Ct(r?.users.length,t,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const o=i.providerUserInfo?.length?OE(i.providerUserInfo):[],u=kS(n.providerData,o),c=n.isAnonymous,f=!(n.email&&i.passwordHash)&&!u?.length,d=c?f:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new j0(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(n,g)}async function VS(n){const t=bn(n);await xh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function kS(n,t){return[...n.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function OE(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function US(n,t){const e=await bE(n,{},async()=>{const r=oc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,u=await RE(n,i,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return n.emulatorConfig&&vu(n.emulatorConfig.host)&&(f.credentials="include"),IE.fetch()(u,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function FS(n,t){return na(n,"POST","/v2/accounts:revokeToken",io(n,t))}class tu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ct(t.idToken,"internal-error"),Ct(typeof t.idToken<"u","internal-error"),Ct(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):h2(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ct(t.length!==0,"internal-error");const e=h2(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ct(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:i,expiresIn:o}=await US(t,e);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:i,expirationTime:o}=e,u=new tu;return r&&(Ct(typeof r=="string","internal-error",{appName:t}),u.refreshToken=r),i&&(Ct(typeof i=="string","internal-error",{appName:t}),u.accessToken=i),o&&(Ct(typeof o=="number","internal-error",{appName:t}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new tu,this.toJSON())}_performRefresh(){return Yi("not implemented")}}function Ba(n,t){Ct(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Xr{constructor({uid:t,auth:e,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new BS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new j0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await su(this,this.stsTokenManager.getToken(this.auth,t));return Ct(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return PS(this,t)}reload(){return VS(this)}_assign(t){this!==t&&(Ct(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Xr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await xh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(Wi(this.auth));const t=await this.getIdToken();return await su(this,MS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,i=e.email??void 0,o=e.phoneNumber??void 0,u=e.photoURL??void 0,c=e.tenantId??void 0,f=e._redirectEventId??void 0,d=e.createdAt??void 0,g=e.lastLoginAt??void 0,{uid:m,emailVerified:_,isAnonymous:E,providerData:w,stsTokenManager:S}=e;Ct(m&&S,t,"internal-error");const I=tu.fromJSON(this.name,S);Ct(typeof m=="string",t,"internal-error"),Ba(r,t.name),Ba(i,t.name),Ct(typeof _=="boolean",t,"internal-error"),Ct(typeof E=="boolean",t,"internal-error"),Ba(o,t.name),Ba(u,t.name),Ba(c,t.name),Ba(f,t.name),Ba(d,t.name),Ba(g,t.name);const N=new Xr({uid:m,auth:t,email:i,emailVerified:_,displayName:r,isAnonymous:E,photoURL:u,phoneNumber:o,tenantId:c,stsTokenManager:I,createdAt:d,lastLoginAt:g});return w&&Array.isArray(w)&&(N.providerData=w.map(L=>({...L}))),f&&(N._redirectEventId=f),N}static async _fromIdTokenResponse(t,e,r=!1){const i=new tu;i.updateFromServerResponse(e);const o=new Xr({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await xh(o),o}static async _fromGetAccountInfoResponse(t,e,r){const i=e.users[0];Ct(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?OE(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!o?.length,c=new tu;c.updateFromIdToken(r);const f=new Xr({uid:i.localId,auth:t,stsTokenManager:c,isAnonymous:u}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new j0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(f,d),f}}const d2=new Map;function Ki(n){Zi(n instanceof Function,"Expected a class definition");let t=d2.get(n);return t?(Zi(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,d2.set(n,t),t)}class DE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}DE.type="NONE";const p2=DE;function ah(n,t,e){return`firebase:${n}:${t}:${e}`}class eu{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ah(this.userKey,i.apiKey,o),this.fullPersistenceKey=ah("persistence",i.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Ah(this.auth,{idToken:t}).catch(()=>{});return e?Xr._fromGetAccountInfoResponse(this.auth,e,t):null}return Xr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new eu(Ki(p2),t,r);const i=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||Ki(p2);const u=ah(r,t.config.apiKey,t.name);let c=null;for(const d of e)try{const g=await d._get(u);if(g){let m;if(typeof g=="string"){const _=await Ah(t,{idToken:g}).catch(()=>{});if(!_)break;m=await Xr._fromGetAccountInfoResponse(t,_,g)}else m=Xr._fromJSON(t,g);d!==o&&(c=m),o=d;break}}catch{}const f=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new eu(o,t,r):(o=f[0],c&&await o._set(u,c.toJSON()),await Promise.all(e.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new eu(o,t,r))}}function g2(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(LE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(NE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(VE(t))return"Blackberry";if(kE(t))return"Webos";if(ME(t))return"Safari";if((t.includes("chrome/")||PE(t))&&!t.includes("edge/"))return"Chrome";if(BE(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function NE(n=Ln()){return/firefox\//i.test(n)}function ME(n=Ln()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function PE(n=Ln()){return/crios\//i.test(n)}function LE(n=Ln()){return/iemobile/i.test(n)}function BE(n=Ln()){return/android/i.test(n)}function VE(n=Ln()){return/blackberry/i.test(n)}function kE(n=Ln()){return/webos/i.test(n)}function Dp(n=Ln()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function zS(n=Ln()){return Dp(n)&&!!window.navigator?.standalone}function HS(){return J3()&&document.documentMode===10}function UE(n=Ln()){return Dp(n)||BE(n)||kE(n)||VE(n)||/windows phone/i.test(n)||LE(n)}function FE(n,t=[]){let e;switch(n){case"Browser":e=g2(Ln());break;case"Worker":e=`${g2(Ln())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${mu}/${r}`}class jS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=o=>new Promise((u,c)=>{try{const f=t(o);u(f)}catch(f){c(f)}});r.onAbort=e,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const i of e)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function GS(n,t={}){return na(n,"GET","/v2/passwordPolicy",io(n,t))}const qS=6;class XS{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??qS,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class YS{constructor(t,e,r,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v2(this),this.idTokenSubscription=new v2(this),this.beforeStateQueue=new jS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ki(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await eu.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Ah(this,{idToken:t}),r=await Xr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(cr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,c=await this.tryRedirectSignIn(t);(!o||o===u)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await xh(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=SS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(cr(this.app))return Promise.reject(Wi(this));const e=t?bn(t):null;return e&&Ct(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ct(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return cr(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await GS(this),e=new XS(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ac("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await FS(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ki(t)||this._popupRedirectResolver;Ct(e,this,"argument-error"),this.redirectPersistenceManager=await eu.create(this,[Ki(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,i){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(c,this,"internal-error"),c.then(()=>{u||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,r,i);return()=>{u=!0,f()}}else{const f=t.addObserver(e);return()=>{u=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=FE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&AS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ao(n){return bn(n)}class v2{constructor(t){this.auth=t,this.observer=null,this.addObserver=sT(e=>this.observer=e)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KS(n){jh=n}function zE(n){return jh.loadJS(n)}function WS(){return jh.recaptchaEnterpriseScript}function QS(){return jh.gapiScript}function ZS(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class $S{constructor(){this.enterprise=new JS}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class JS{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const tC="recaptcha-enterprise",HE="NO_RECAPTCHA";class eC{constructor(t){this.type=tC,this.auth=ao(t)}async verify(t="verify",e=!1){async function r(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,c)=>{NS(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new DS(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{c(f)})})}function i(o,u,c){const f=window.grecaptcha;f2(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(d=>{u(d)}).catch(()=>{u(HE)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $S().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(c=>{if(!e&&f2(window.grecaptcha))i(c,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=WS();f.length!==0&&(f+=c),zE(f).then(()=>{i(c,o,u)}).catch(d=>{u(d)})}}).catch(c=>{u(c)})})}}async function m2(n,t,e,r=!1,i=!1){const o=new eC(n);let u;if(i)u=HE;else try{u=await o.verify(e)}catch{u=await o.verify(e,!0)}const c={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function G0(n,t,e,r,i){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await m2(n,t,e,e==="getOobCode");return r(n,o)}else return r(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await m2(n,t,e,e==="getOobCode");return r(n,u)}else return Promise.reject(o)})}function nC(n,t){const e=Cp(n,"auth");if(e.isInitialized()){const i=e.getImmediate(),o=e.getOptions();if(Qo(o,t??{}))return i;Rr(i,"already-initialized")}return e.initialize({options:t})}function rC(n,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(Ki);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function iC(n,t,e){const r=ao(n);Ct(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,o=jE(t),{host:u,port:c}=aC(t),f=c===null?"":`:${c}`,d={url:`${o}//${u}${f}/`},g=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ct(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ct(Qo(d,r.config.emulator)&&Qo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,vu(u)?(mE(`${o}//${u}${f}`),yE("Auth",!0)):oC()}function jE(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function aC(n){const t=jE(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:y2(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:y2(u)}}}function y2(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function oC(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Np{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Yi("not implemented")}_getIdTokenResponse(t){return Yi("not implemented")}_linkToIdToken(t,e){return Yi("not implemented")}_getReauthenticationResolver(t){return Yi("not implemented")}}async function sC(n,t){return na(n,"POST","/v1/accounts:signUp",t)}async function uC(n,t){return uc(n,"POST","/v1/accounts:signInWithPassword",io(n,t))}async function lC(n,t){return uc(n,"POST","/v1/accounts:signInWithEmailLink",io(n,t))}async function cC(n,t){return uc(n,"POST","/v1/accounts:signInWithEmailLink",io(n,t))}class $l extends Np{constructor(t,e,r,i=null){super("password",r),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new $l(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new $l(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return G0(t,e,"signInWithPassword",uC);case"emailLink":return lC(t,{email:this._email,oobCode:this._password});default:Rr(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const r={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return G0(t,r,"signUpPassword",sC);case"emailLink":return cC(t,{idToken:e,email:this._email,oobCode:this._password});default:Rr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function nu(n,t){return uc(n,"POST","/v1/accounts:signInWithIdp",io(n,t))}const fC="http://localhost";class $i extends Np{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new $i(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Rr("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,...o}=e;if(!r||!i)return null;const u=new $i(r,i);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(t){const e=this.buildRequest();return nu(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,nu(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,nu(t,e)}buildRequest(){const t={requestUri:fC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=oc(e)}return t}}function hC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dC(n){const t=Pl(Ll(n)).link,e=t?Pl(Ll(t)).deep_link_id:null,r=Pl(Ll(n)).deep_link_id;return(r?Pl(Ll(r)).link:null)||r||e||t||n}class Mp{constructor(t){const e=Pl(Ll(t)),r=e.apiKey??null,i=e.oobCode??null,o=hC(e.mode??null);Ct(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=dC(t);try{return new Mp(e)}catch{return null}}}class yu{constructor(){this.providerId=yu.PROVIDER_ID}static credential(t,e){return $l._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const r=Mp.parseLink(e);return Ct(r,"argument-error"),$l._fromEmailAndCode(t,r.code,r.tenantId)}}yu.PROVIDER_ID="password";yu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Pp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class _u extends Pp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Xl extends _u{static credentialFromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;return Ct("providerId"in e&&"signInMethod"in e,"argument-error"),$i._fromParams(e)}credential(t){return this._credential({...t,nonce:t.rawNonce})}_credential(t){return Ct(t.idToken||t.accessToken,"argument-error"),$i._fromParams({...t,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(t){return Xl.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return Xl.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:u,providerId:c}=t;if(!r&&!i&&!e&&!o||!c)return null;try{return new Xl(c)._credential({idToken:e,accessToken:r,nonce:u,pendingToken:o})}catch{return null}}}class Fa extends _u{constructor(){super("facebook.com")}static credential(t){return $i._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fa.credentialFromTaggedObject(t)}static credentialFromError(t){return Fa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fa.credential(t.oauthAccessToken)}catch{return null}}}Fa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fa.PROVIDER_ID="facebook.com";class Xi extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return $i._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Xi.credentialFromTaggedObject(t)}static credentialFromError(t){return Xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return Xi.credential(e,r)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";class za extends _u{constructor(){super("github.com")}static credential(t){return $i._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return za.credentialFromTaggedObject(t)}static credentialFromError(t){return za.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return za.credential(t.oauthAccessToken)}catch{return null}}}za.GITHUB_SIGN_IN_METHOD="github.com";za.PROVIDER_ID="github.com";class Ha extends _u{constructor(){super("twitter.com")}static credential(t,e){return $i._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Ha.credentialFromTaggedObject(t)}static credentialFromError(t){return Ha.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return Ha.credential(e,r)}catch{return null}}}Ha.TWITTER_SIGN_IN_METHOD="twitter.com";Ha.PROVIDER_ID="twitter.com";async function pC(n,t){return uc(n,"POST","/v1/accounts:signUp",io(n,t))}class $o{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,i=!1){const o=await Xr._fromIdTokenResponse(t,r,i),u=_2(r);return new $o({user:o,providerId:u,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const i=_2(r);return new $o({user:t,providerId:i,_tokenResponse:r,operationType:e})}}function _2(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class wh extends ea{constructor(t,e,r,i){super(e.code,e.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,i){return new wh(t,e,r,i)}}function GE(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(n,o,t,r):o})}async function gC(n,t,e=!1){const r=await su(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return $o._forOperation(n,"link",r)}async function vC(n,t,e=!1){const{auth:r}=n;if(cr(r.app))return Promise.reject(Wi(r));const i="reauthenticate";try{const o=await su(n,GE(r,i,t,n),e);Ct(o.idToken,r,"internal-error");const u=Op(o.idToken);Ct(u,r,"internal-error");const{sub:c}=u;return Ct(n.uid===c,r,"user-mismatch"),$o._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Rr(r,"user-mismatch"),o}}async function qE(n,t,e=!1){if(cr(n.app))return Promise.reject(Wi(n));const r="signIn",i=await GE(n,r,t),o=await $o._fromIdTokenResponse(n,r,i);return e||await n._updateCurrentUser(o.user),o}async function mC(n,t){return qE(ao(n),t)}async function XE(n){const t=ao(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function yC(n,t,e){if(cr(n.app))return Promise.reject(Wi(n));const r=ao(n),u=await G0(r,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pC).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&XE(n),f}),c=await $o._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(c.user),c}function _C(n,t,e){return cr(n.app)?Promise.reject(Wi(n)):mC(bn(n),yu.credential(t,e)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XE(n),r})}async function EC(n,t){return na(n,"POST","/v1/accounts:update",t)}async function AC(n,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const r=bn(n),o={idToken:await r.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},u=await su(r,EC(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const c=r.providerData.find(({providerId:f})=>f==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function xC(n,t,e,r){return bn(n).onIdTokenChanged(t,e,r)}function wC(n,t,e){return bn(n).beforeAuthStateChanged(t,e)}const Th="__sak";class YE{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const TC=1e3,SC=10;class KE extends YE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),i=this.localCache[e];r!==i&&t(e,i,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((u,c,f)=>{this.notifyListeners(u,f)});return}const r=t.key;e?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!e&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);HS()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,SC):i()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},TC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}KE.type="LOCAL";const CC=KE;class WE extends YE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}WE.type="SESSION";const QE=WE;function IC(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Gh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(i=>i.isListeningto(t));if(e)return e;const r=new Gh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:i,data:o}=e.data,u=this.handlersMap[i];if(!u?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(u).map(async d=>d(e.origin,o)),f=await IC(c);e.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];function Lp(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}class bC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,u;return new Promise((c,f)=>{const d=Lp("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(m){const _=m;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function _i(){return window}function RC(n){_i().location.href=n}function ZE(){return typeof _i().WorkerGlobalScope<"u"&&typeof _i().importScripts=="function"}async function OC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DC(){return navigator?.serviceWorker?.controller||null}function NC(){return ZE()?self:null}const $E="firebaseLocalStorageDb",MC=1,Sh="firebaseLocalStorage",JE="fbase_key";class lc{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function qh(n,t){return n.transaction([Sh],t?"readwrite":"readonly").objectStore(Sh)}function PC(){const n=indexedDB.deleteDatabase($E);return new lc(n).toPromise()}function q0(){const n=indexedDB.open($E,MC);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Sh,{keyPath:JE})}catch(i){e(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Sh)?t(r):(r.close(),await PC(),t(await q0()))})})}async function E2(n,t,e){const r=qh(n,!0).put({[JE]:t,value:e});return new lc(r).toPromise()}async function LC(n,t){const e=qh(n,!1).get(t),r=await new lc(e).toPromise();return r===void 0?null:r.value}function A2(n,t){const e=qh(n,!0).delete(t);return new lc(e).toPromise()}const BC=800,VC=3;class tA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await q0(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>VC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(NC()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OC(),!this.activeServiceWorker)return;this.sender=new bC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||DC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await q0();return await E2(t,Th,"1"),await A2(t,Th),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>E2(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>LC(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>A2(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=qh(i,!1).getAll();return new lc(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),e.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),e.push(i));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tA.type="LOCAL";const kC=tA;new sc(3e4,6e4);function eA(n,t){return t?Ki(t):(Ct(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Bp extends Np{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return nu(t,this._buildIdpRequest())}_linkToIdToken(t,e){return nu(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return nu(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function UC(n){return qE(n.auth,new Bp(n),n.bypassAuthState)}function FC(n){const{auth:t,user:e}=n;return Ct(e,t,"internal-error"),vC(e,new Bp(n),n.bypassAuthState)}async function zC(n){const{auth:t,user:e}=n;return Ct(e,t,"internal-error"),gC(e,new Bp(n),n.bypassAuthState)}class nA{constructor(t,e,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:i,tenantId:o,error:u,type:c}=t;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:e,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return UC;case"linkViaPopup":case"linkViaRedirect":return zC;case"reauthViaPopup":case"reauthViaRedirect":return FC;default:Rr(this.auth,"internal-error")}}resolve(t){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const HC=new sc(2e3,1e4);async function Ch(n,t,e){if(cr(n.app))return Promise.reject(Yr(n,"operation-not-supported-in-this-environment"));const r=ao(n);xS(n,t,Pp);const i=eA(r,e);return new Go(r,"signInViaPopup",t,i).executeNotNull()}class Go extends nA{constructor(t,e,r,i,o){super(t,e,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Go.currentPopupAction&&Go.currentPopupAction.cancel(),Go.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ct(t,this.auth,"internal-error"),t}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const t=Lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Go.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,HC.get())};t()}}Go.currentPopupAction=null;const jC="pendingRedirect",oh=new Map;class GC extends nA{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=oh.get(this.auth._key());if(!t){try{const r=await qC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}oh.set(this.auth._key(),t)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qC(n,t){const e=KC(t),r=YC(n);if(!await r._isAvailable())return!1;const i=await r._get(e)==="true";return await r._remove(e),i}function XC(n,t){oh.set(n._key(),t)}function YC(n){return Ki(n._redirectPersistence)}function KC(n){return ah(jC,n.config.apiKey,n.name)}async function WC(n,t,e=!1){if(cr(n.app))return Promise.reject(Wi(n));const r=ao(n),i=eA(r,t),u=await new GC(r,i,e).execute();return u&&!e&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,t)),u}const QC=600*1e3;class ZC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!$C(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!rA(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Yr(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=QC&&this.cachedEventUids.clear(),this.cachedEventUids.has(x2(t))}saveEventToCache(t){this.cachedEventUids.add(x2(t)),this.lastProcessedEventTime=Date.now()}}function x2(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function rA({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function $C(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rA(n);default:return!1}}async function JC(n,t={}){return na(n,"GET","/v1/projects",t)}const t4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e4=/^https?/;async function n4(n){if(n.config.emulator)return;const{authorizedDomains:t}=await JC(n);for(const e of t)try{if(r4(e))return}catch{}Rr(n,"unauthorized-domain")}function r4(n){const t=H0(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&u.hostname===r}if(!e4.test(e))return!1;if(t4.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const i4=new sc(3e4,6e4);function w2(){const n=_i().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function a4(n){return new Promise((t,e)=>{function r(){w2(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{w2(),e(Yr(n,"network-request-failed"))},timeout:i4.get()})}if(_i().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(_i().gapi?.load)r();else{const i=ZS("iframefcb");return _i()[i]=()=>{gapi.load?r():e(Yr(n,"network-request-failed"))},zE(`${QS()}?onload=${i}`).catch(o=>e(o))}}).catch(t=>{throw sh=null,t})}let sh=null;function o4(n){return sh=sh||a4(n),sh}const s4=new sc(5e3,15e3),u4="__/auth/iframe",l4="emulator/auth/iframe",c4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h4(n){const t=n.config;Ct(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Rp(t,l4):`https://${n.config.authDomain}/${u4}`,r={apiKey:t.apiKey,appName:n.name,v:mu},i=f4.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${e}?${oc(r).slice(1)}`}async function d4(n){const t=await o4(n),e=_i().gapi;return Ct(e,n,"internal-error"),t.open({where:document.body,url:h4(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c4,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const u=Yr(n,"network-request-failed"),c=_i().setTimeout(()=>{o(u)},s4.get());function f(){_i().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{o(u)})}))}const p4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},g4=500,v4=600,m4="_blank",y4="http://localhost";class T2{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _4(n,t,e,r=g4,i=v4){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...p4,width:r.toString(),height:i.toString(),top:o,left:u},d=Ln().toLowerCase();e&&(c=PE(d)?m4:e),NE(d)&&(t=t||y4,f.scrollbars="yes");const g=Object.entries(f).reduce((_,[E,w])=>`${_}${E}=${w},`,"");if(zS(d)&&c!=="_self")return E4(t||"",c),new T2(null);const m=window.open(t||"",c,g);Ct(m,n,"popup-blocked");try{m.focus()}catch{}return new T2(m)}function E4(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}const A4="__/auth/handler",x4="emulator/auth/handler",w4=encodeURIComponent("fac");async function S2(n,t,e,r,i,o){Ct(n.config.authDomain,n,"auth-domain-config-required"),Ct(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:mu,eventId:i};if(t instanceof Pp){t.setDefaultLanguage(n.languageCode),u.providerId=t.providerId||"",oT(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[g,m]of Object.entries({}))u[g]=m}if(t instanceof _u){const g=t.getScopes().filter(m=>m!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const c=u;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await n._getAppCheckToken(),d=f?`#${w4}=${encodeURIComponent(f)}`:"";return`${T4(n)}?${oc(c).slice(1)}${d}`}function T4({config:n}){return n.emulator?Rp(n,x4):`https://${n.authDomain}/${A4}`}const x0="webStorageSupport";class S4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QE,this._completeRedirectFn=WC,this._overrideRedirectResult=XC}async _openPopup(t,e,r,i){Zi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await S2(t,e,r,H0(),i);return _4(t,o,Lp())}async _openRedirect(t,e,r,i){await this._originValidation(t);const o=await S2(t,e,r,H0(),i);return RC(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:i,promise:o}=this.eventManagers[e];return i?Promise.resolve(i):(Zi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await d4(t),r=new ZC(t);return e.register("authEvent",i=>(Ct(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(x0,{type:x0},i=>{const o=i?.[0]?.[x0];o!==void 0&&e(!!o),Rr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=n4(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return UE()||ME()||Dp()}}const C4=S4;var C2="@firebase/auth",I2="1.11.1";class I4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function b4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R4(n){ou(new Zo("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;Ct(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FE(n)},d=new YS(r,i,o,f);return rC(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),ou(new Zo("auth-internal",t=>{const e=ao(t.getProvider("auth").getImmediate());return(r=>new I4(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xa(C2,I2,b4(n)),Xa(C2,I2,"esm2020")}const O4=300,D4=vE("authIdTokenMaxAge")||O4;let b2=null;const N4=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>D4)return;const i=e?.token;b2!==i&&(b2=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function M4(n=xE()){const t=Cp(n,"auth");if(t.isInitialized())return t.getImmediate();const e=nC(n,{popupRedirectResolver:C4,persistence:[kC,CC,QE]}),r=vE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=N4(o.toString());wC(e,u,()=>u(e.currentUser)),xC(e,c=>u(c))}}const i=pE("auth");return i&&iC(e,`http://${i}`),e}function P4(){return document.getElementsByTagName("head")?.[0]??document}KS({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=i=>{const o=Yr("internal-error");o.customData=i,e(o)},r.type="text/javascript",r.charset="UTF-8",P4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R4("Browser");var R2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ya,iA;(function(){var n;function t(b,R){function P(){}P.prototype=R.prototype,b.F=R.prototype,b.prototype=new P,b.prototype.constructor=b,b.D=function(B,U,F){for(var D=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)D[yt-2]=arguments[yt];return R.prototype[U].apply(B,D)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,R,P){P||(P=0);const B=Array(16);if(typeof R=="string")for(var U=0;U<16;++U)B[U]=R.charCodeAt(P++)|R.charCodeAt(P++)<<8|R.charCodeAt(P++)<<16|R.charCodeAt(P++)<<24;else for(U=0;U<16;++U)B[U]=R[P++]|R[P++]<<8|R[P++]<<16|R[P++]<<24;R=b.g[0],P=b.g[1],U=b.g[2];let F=b.g[3],D;D=R+(F^P&(U^F))+B[0]+3614090360&4294967295,R=P+(D<<7&4294967295|D>>>25),D=F+(U^R&(P^U))+B[1]+3905402710&4294967295,F=R+(D<<12&4294967295|D>>>20),D=U+(P^F&(R^P))+B[2]+606105819&4294967295,U=F+(D<<17&4294967295|D>>>15),D=P+(R^U&(F^R))+B[3]+3250441966&4294967295,P=U+(D<<22&4294967295|D>>>10),D=R+(F^P&(U^F))+B[4]+4118548399&4294967295,R=P+(D<<7&4294967295|D>>>25),D=F+(U^R&(P^U))+B[5]+1200080426&4294967295,F=R+(D<<12&4294967295|D>>>20),D=U+(P^F&(R^P))+B[6]+2821735955&4294967295,U=F+(D<<17&4294967295|D>>>15),D=P+(R^U&(F^R))+B[7]+4249261313&4294967295,P=U+(D<<22&4294967295|D>>>10),D=R+(F^P&(U^F))+B[8]+1770035416&4294967295,R=P+(D<<7&4294967295|D>>>25),D=F+(U^R&(P^U))+B[9]+2336552879&4294967295,F=R+(D<<12&4294967295|D>>>20),D=U+(P^F&(R^P))+B[10]+4294925233&4294967295,U=F+(D<<17&4294967295|D>>>15),D=P+(R^U&(F^R))+B[11]+2304563134&4294967295,P=U+(D<<22&4294967295|D>>>10),D=R+(F^P&(U^F))+B[12]+1804603682&4294967295,R=P+(D<<7&4294967295|D>>>25),D=F+(U^R&(P^U))+B[13]+4254626195&4294967295,F=R+(D<<12&4294967295|D>>>20),D=U+(P^F&(R^P))+B[14]+2792965006&4294967295,U=F+(D<<17&4294967295|D>>>15),D=P+(R^U&(F^R))+B[15]+1236535329&4294967295,P=U+(D<<22&4294967295|D>>>10),D=R+(U^F&(P^U))+B[1]+4129170786&4294967295,R=P+(D<<5&4294967295|D>>>27),D=F+(P^U&(R^P))+B[6]+3225465664&4294967295,F=R+(D<<9&4294967295|D>>>23),D=U+(R^P&(F^R))+B[11]+643717713&4294967295,U=F+(D<<14&4294967295|D>>>18),D=P+(F^R&(U^F))+B[0]+3921069994&4294967295,P=U+(D<<20&4294967295|D>>>12),D=R+(U^F&(P^U))+B[5]+3593408605&4294967295,R=P+(D<<5&4294967295|D>>>27),D=F+(P^U&(R^P))+B[10]+38016083&4294967295,F=R+(D<<9&4294967295|D>>>23),D=U+(R^P&(F^R))+B[15]+3634488961&4294967295,U=F+(D<<14&4294967295|D>>>18),D=P+(F^R&(U^F))+B[4]+3889429448&4294967295,P=U+(D<<20&4294967295|D>>>12),D=R+(U^F&(P^U))+B[9]+568446438&4294967295,R=P+(D<<5&4294967295|D>>>27),D=F+(P^U&(R^P))+B[14]+3275163606&4294967295,F=R+(D<<9&4294967295|D>>>23),D=U+(R^P&(F^R))+B[3]+4107603335&4294967295,U=F+(D<<14&4294967295|D>>>18),D=P+(F^R&(U^F))+B[8]+1163531501&4294967295,P=U+(D<<20&4294967295|D>>>12),D=R+(U^F&(P^U))+B[13]+2850285829&4294967295,R=P+(D<<5&4294967295|D>>>27),D=F+(P^U&(R^P))+B[2]+4243563512&4294967295,F=R+(D<<9&4294967295|D>>>23),D=U+(R^P&(F^R))+B[7]+1735328473&4294967295,U=F+(D<<14&4294967295|D>>>18),D=P+(F^R&(U^F))+B[12]+2368359562&4294967295,P=U+(D<<20&4294967295|D>>>12),D=R+(P^U^F)+B[5]+4294588738&4294967295,R=P+(D<<4&4294967295|D>>>28),D=F+(R^P^U)+B[8]+2272392833&4294967295,F=R+(D<<11&4294967295|D>>>21),D=U+(F^R^P)+B[11]+1839030562&4294967295,U=F+(D<<16&4294967295|D>>>16),D=P+(U^F^R)+B[14]+4259657740&4294967295,P=U+(D<<23&4294967295|D>>>9),D=R+(P^U^F)+B[1]+2763975236&4294967295,R=P+(D<<4&4294967295|D>>>28),D=F+(R^P^U)+B[4]+1272893353&4294967295,F=R+(D<<11&4294967295|D>>>21),D=U+(F^R^P)+B[7]+4139469664&4294967295,U=F+(D<<16&4294967295|D>>>16),D=P+(U^F^R)+B[10]+3200236656&4294967295,P=U+(D<<23&4294967295|D>>>9),D=R+(P^U^F)+B[13]+681279174&4294967295,R=P+(D<<4&4294967295|D>>>28),D=F+(R^P^U)+B[0]+3936430074&4294967295,F=R+(D<<11&4294967295|D>>>21),D=U+(F^R^P)+B[3]+3572445317&4294967295,U=F+(D<<16&4294967295|D>>>16),D=P+(U^F^R)+B[6]+76029189&4294967295,P=U+(D<<23&4294967295|D>>>9),D=R+(P^U^F)+B[9]+3654602809&4294967295,R=P+(D<<4&4294967295|D>>>28),D=F+(R^P^U)+B[12]+3873151461&4294967295,F=R+(D<<11&4294967295|D>>>21),D=U+(F^R^P)+B[15]+530742520&4294967295,U=F+(D<<16&4294967295|D>>>16),D=P+(U^F^R)+B[2]+3299628645&4294967295,P=U+(D<<23&4294967295|D>>>9),D=R+(U^(P|~F))+B[0]+4096336452&4294967295,R=P+(D<<6&4294967295|D>>>26),D=F+(P^(R|~U))+B[7]+1126891415&4294967295,F=R+(D<<10&4294967295|D>>>22),D=U+(R^(F|~P))+B[14]+2878612391&4294967295,U=F+(D<<15&4294967295|D>>>17),D=P+(F^(U|~R))+B[5]+4237533241&4294967295,P=U+(D<<21&4294967295|D>>>11),D=R+(U^(P|~F))+B[12]+1700485571&4294967295,R=P+(D<<6&4294967295|D>>>26),D=F+(P^(R|~U))+B[3]+2399980690&4294967295,F=R+(D<<10&4294967295|D>>>22),D=U+(R^(F|~P))+B[10]+4293915773&4294967295,U=F+(D<<15&4294967295|D>>>17),D=P+(F^(U|~R))+B[1]+2240044497&4294967295,P=U+(D<<21&4294967295|D>>>11),D=R+(U^(P|~F))+B[8]+1873313359&4294967295,R=P+(D<<6&4294967295|D>>>26),D=F+(P^(R|~U))+B[15]+4264355552&4294967295,F=R+(D<<10&4294967295|D>>>22),D=U+(R^(F|~P))+B[6]+2734768916&4294967295,U=F+(D<<15&4294967295|D>>>17),D=P+(F^(U|~R))+B[13]+1309151649&4294967295,P=U+(D<<21&4294967295|D>>>11),D=R+(U^(P|~F))+B[4]+4149444226&4294967295,R=P+(D<<6&4294967295|D>>>26),D=F+(P^(R|~U))+B[11]+3174756917&4294967295,F=R+(D<<10&4294967295|D>>>22),D=U+(R^(F|~P))+B[2]+718787259&4294967295,U=F+(D<<15&4294967295|D>>>17),D=P+(F^(U|~R))+B[9]+3951481745&4294967295,b.g[0]=b.g[0]+R&4294967295,b.g[1]=b.g[1]+(U+(D<<21&4294967295|D>>>11))&4294967295,b.g[2]=b.g[2]+U&4294967295,b.g[3]=b.g[3]+F&4294967295}r.prototype.v=function(b,R){R===void 0&&(R=b.length);const P=R-this.blockSize,B=this.C;let U=this.h,F=0;for(;F<R;){if(U==0)for(;F<=P;)i(this,b,F),F+=this.blockSize;if(typeof b=="string"){for(;F<R;)if(B[U++]=b.charCodeAt(F++),U==this.blockSize){i(this,B),U=0;break}}else for(;F<R;)if(B[U++]=b[F++],U==this.blockSize){i(this,B),U=0;break}}this.h=U,this.o+=R},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var R=1;R<b.length-8;++R)b[R]=0;R=this.o*8;for(var P=b.length-8;P<b.length;++P)b[P]=R&255,R/=256;for(this.v(b),b=Array(16),R=0,P=0;P<4;++P)for(let B=0;B<32;B+=8)b[R++]=this.g[P]>>>B&255;return b};function o(b,R){var P=c;return Object.prototype.hasOwnProperty.call(P,b)?P[b]:P[b]=R(b)}function u(b,R){this.h=R;const P=[];let B=!0;for(let U=b.length-1;U>=0;U--){const F=b[U]|0;B&&F==R||(P[U]=F,B=!1)}this.g=P}var c={};function f(b){return-128<=b&&b<128?o(b,function(R){return new u([R|0],R<0?-1:0)}):new u([b|0],b<0?-1:0)}function d(b){if(isNaN(b)||!isFinite(b))return m;if(b<0)return I(d(-b));const R=[];let P=1;for(let B=0;b>=P;B++)R[B]=b/P|0,P*=4294967296;return new u(R,0)}function g(b,R){if(b.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(b.charAt(0)=="-")return I(g(b.substring(1),R));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=d(Math.pow(R,8));let B=m;for(let F=0;F<b.length;F+=8){var U=Math.min(8,b.length-F);const D=parseInt(b.substring(F,F+U),R);U<8?(U=d(Math.pow(R,U)),B=B.j(U).add(d(D))):(B=B.j(P),B=B.add(d(D)))}return B}var m=f(0),_=f(1),E=f(16777216);n=u.prototype,n.m=function(){if(S(this))return-I(this).m();let b=0,R=1;for(let P=0;P<this.g.length;P++){const B=this.i(P);b+=(B>=0?B:4294967296+B)*R,R*=4294967296}return b},n.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(w(this))return"0";if(S(this))return"-"+I(this).toString(b);const R=d(Math.pow(b,6));var P=this;let B="";for(;;){const U=j(P,R).g;P=N(P,U.j(R));let F=((P.g.length>0?P.g[0]:P.h)>>>0).toString(b);if(P=U,w(P))return F+B;for(;F.length<6;)F="0"+F;B=F+B}},n.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function w(b){if(b.h!=0)return!1;for(let R=0;R<b.g.length;R++)if(b.g[R]!=0)return!1;return!0}function S(b){return b.h==-1}n.l=function(b){return b=N(this,b),S(b)?-1:w(b)?0:1};function I(b){const R=b.g.length,P=[];for(let B=0;B<R;B++)P[B]=~b.g[B];return new u(P,~b.h).add(_)}n.abs=function(){return S(this)?I(this):this},n.add=function(b){const R=Math.max(this.g.length,b.g.length),P=[];let B=0;for(let U=0;U<=R;U++){let F=B+(this.i(U)&65535)+(b.i(U)&65535),D=(F>>>16)+(this.i(U)>>>16)+(b.i(U)>>>16);B=D>>>16,F&=65535,D&=65535,P[U]=D<<16|F}return new u(P,P[P.length-1]&-2147483648?-1:0)};function N(b,R){return b.add(I(R))}n.j=function(b){if(w(this)||w(b))return m;if(S(this))return S(b)?I(this).j(I(b)):I(I(this).j(b));if(S(b))return I(this.j(I(b)));if(this.l(E)<0&&b.l(E)<0)return d(this.m()*b.m());const R=this.g.length+b.g.length,P=[];for(var B=0;B<2*R;B++)P[B]=0;for(B=0;B<this.g.length;B++)for(let U=0;U<b.g.length;U++){const F=this.i(B)>>>16,D=this.i(B)&65535,yt=b.i(U)>>>16,bt=b.i(U)&65535;P[2*B+2*U]+=D*bt,L(P,2*B+2*U),P[2*B+2*U+1]+=F*bt,L(P,2*B+2*U+1),P[2*B+2*U+1]+=D*yt,L(P,2*B+2*U+1),P[2*B+2*U+2]+=F*yt,L(P,2*B+2*U+2)}for(b=0;b<R;b++)P[b]=P[2*b+1]<<16|P[2*b];for(b=R;b<2*R;b++)P[b]=0;return new u(P,0)};function L(b,R){for(;(b[R]&65535)!=b[R];)b[R+1]+=b[R]>>>16,b[R]&=65535,R++}function V(b,R){this.g=b,this.h=R}function j(b,R){if(w(R))throw Error("division by zero");if(w(b))return new V(m,m);if(S(b))return R=j(I(b),R),new V(I(R.g),I(R.h));if(S(R))return R=j(b,I(R)),new V(I(R.g),R.h);if(b.g.length>30){if(S(b)||S(R))throw Error("slowDivide_ only works with positive integers.");for(var P=_,B=R;B.l(b)<=0;)P=Q(P),B=Q(B);var U=Z(P,1),F=Z(B,1);for(B=Z(B,2),P=Z(P,2);!w(B);){var D=F.add(B);D.l(b)<=0&&(U=U.add(P),F=D),B=Z(B,1),P=Z(P,1)}return R=N(b,U.j(R)),new V(U,R)}for(U=m;b.l(R)>=0;){for(P=Math.max(1,Math.floor(b.m()/R.m())),B=Math.ceil(Math.log(P)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),F=d(P),D=F.j(R);S(D)||D.l(b)>0;)P-=B,F=d(P),D=F.j(R);w(F)&&(F=_),U=U.add(F),b=N(b,D)}return new V(U,b)}n.B=function(b){return j(this,b).h},n.and=function(b){const R=Math.max(this.g.length,b.g.length),P=[];for(let B=0;B<R;B++)P[B]=this.i(B)&b.i(B);return new u(P,this.h&b.h)},n.or=function(b){const R=Math.max(this.g.length,b.g.length),P=[];for(let B=0;B<R;B++)P[B]=this.i(B)|b.i(B);return new u(P,this.h|b.h)},n.xor=function(b){const R=Math.max(this.g.length,b.g.length),P=[];for(let B=0;B<R;B++)P[B]=this.i(B)^b.i(B);return new u(P,this.h^b.h)};function Q(b){const R=b.g.length+1,P=[];for(let B=0;B<R;B++)P[B]=b.i(B)<<1|b.i(B-1)>>>31;return new u(P,b.h)}function Z(b,R){const P=R>>5;R%=32;const B=b.g.length-P,U=[];for(let F=0;F<B;F++)U[F]=R>0?b.i(F+P)>>>R|b.i(F+P+1)<<32-R:b.i(F+P);return new u(U,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,iA=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,Ya=u}).apply(typeof R2<"u"?R2:typeof self<"u"?self:typeof window<"u"?window:{});var Yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var aA,Bl,oA,uh,X0,sA,uA,lA;(function(){var n,t=Object.defineProperty;function e(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yf=="object"&&Yf];for(var A=0;A<p.length;++A){var T=p[A];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=e(this);function i(p,A){if(A)t:{var T=r;p=p.split(".");for(var O=0;O<p.length-1;O++){var q=p[O];if(!(q in T))break t;T=T[q]}p=p[p.length-1],O=T[p],A=A(O),A!=O&&A!=null&&t(T,p,{configurable:!0,writable:!0,value:A})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(A){var T=[],O;for(O in A)Object.prototype.hasOwnProperty.call(A,O)&&T.push([O,A[O]]);return T}});var o=o||{},u=this||self;function c(p){var A=typeof p;return A=="object"&&p!=null||A=="function"}function f(p,A,T){return p.call.apply(p.bind,arguments)}function d(p,A,T){return d=f,d.apply(null,arguments)}function g(p,A){var T=Array.prototype.slice.call(arguments,1);return function(){var O=T.slice();return O.push.apply(O,arguments),p.apply(this,O)}}function m(p,A){function T(){}T.prototype=A.prototype,p.Z=A.prototype,p.prototype=new T,p.prototype.constructor=p,p.Ob=function(O,q,$){for(var ct=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)ct[Mt-2]=arguments[Mt];return A.prototype[q].apply(O,ct)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function E(p){const A=p.length;if(A>0){const T=Array(A);for(let O=0;O<A;O++)T[O]=p[O];return T}return[]}function w(p,A){for(let O=1;O<arguments.length;O++){const q=arguments[O];var T=typeof q;if(T=T!="object"?T:q?Array.isArray(q)?"array":T:"null",T=="array"||T=="object"&&typeof q.length=="number"){T=p.length||0;const $=q.length||0;p.length=T+$;for(let ct=0;ct<$;ct++)p[T+ct]=q[ct]}else p.push(q)}}class S{constructor(A,T){this.i=A,this.j=T,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function I(p){u.setTimeout(()=>{throw p},0)}function N(){var p=b;let A=null;return p.g&&(A=p.g,p.g=p.g.next,p.g||(p.h=null),A.next=null),A}class L{constructor(){this.h=this.g=null}add(A,T){const O=V.get();O.set(A,T),this.h?this.h.next=O:this.g=O,this.h=O}}var V=new S(()=>new j,p=>p.reset());class j{constructor(){this.next=this.g=this.h=null}set(A,T){this.h=A,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,Z=!1,b=new L,R=()=>{const p=Promise.resolve(void 0);Q=()=>{p.then(P)}};function P(){for(var p;p=N();){try{p.h.call(p.g)}catch(T){I(T)}var A=V;A.j(p),A.h<100&&(A.h++,p.next=A.g,A.g=p)}Z=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(p,A){this.type=p,this.g=this.target=A,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,A=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const T=()=>{};u.addEventListener("test",T,A),u.removeEventListener("test",T,A)}catch{}return p})();function D(p){return/^[\s\xa0]*$/.test(p)}function yt(p,A){U.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,A)}m(yt,U),yt.prototype.init=function(p,A){const T=this.type=p.type,O=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=A,A=p.relatedTarget,A||(T=="mouseover"?A=p.fromElement:T=="mouseout"&&(A=p.toElement)),this.relatedTarget=A,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&yt.Z.h.call(this)},yt.prototype.h=function(){yt.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),tt=0;function lt(p,A,T,O,q){this.listener=p,this.proxy=null,this.src=A,this.type=T,this.capture=!!O,this.ha=q,this.key=++tt,this.da=this.fa=!1}function Et(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Zt(p,A,T){for(const O in p)A.call(T,p[O],O,p)}function ue(p,A){for(const T in p)A.call(void 0,p[T],T,p)}function H(p){const A={};for(const T in p)A[T]=p[T];return A}const ot="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ht(p,A){let T,O;for(let q=1;q<arguments.length;q++){O=arguments[q];for(T in O)p[T]=O[T];for(let $=0;$<ot.length;$++)T=ot[$],Object.prototype.hasOwnProperty.call(O,T)&&(p[T]=O[T])}}function pt(p){this.src=p,this.g={},this.h=0}pt.prototype.add=function(p,A,T,O,q){const $=p.toString();p=this.g[$],p||(p=this.g[$]=[],this.h++);const ct=Bt(p,A,O,q);return ct>-1?(A=p[ct],T||(A.fa=!1)):(A=new lt(A,this.src,$,!!O,q),A.fa=T,p.push(A)),A};function Rt(p,A){const T=A.type;if(T in p.g){var O=p.g[T],q=Array.prototype.indexOf.call(O,A,void 0),$;($=q>=0)&&Array.prototype.splice.call(O,q,1),$&&(Et(A),p.g[T].length==0&&(delete p.g[T],p.h--))}}function Bt(p,A,T,O){for(let q=0;q<p.length;++q){const $=p[q];if(!$.da&&$.listener==A&&$.capture==!!T&&$.ha==O)return q}return-1}var Kt="closure_lm_"+(Math.random()*1e6|0),Qe={};function be(p,A,T,O,q){if(Array.isArray(A)){for(let $=0;$<A.length;$++)be(p,A[$],T,O,q);return null}return T=Iu(T),p&&p[bt]?p.J(A,T,c(O)?!!O.capture:!1,q):uo(p,A,T,!1,O,q)}function uo(p,A,T,O,q,$){if(!A)throw Error("Invalid event type");const ct=c(q)?!!q.capture:!!q;let Mt=lo(p);if(Mt||(p[Kt]=Mt=new pt(p)),T=Mt.add(A,T,O,ct,$),T.proxy)return T;if(O=rs(),T.proxy=O,O.src=p,O.listener=T,p.addEventListener)F||(q=ct),q===void 0&&(q=!1),p.addEventListener(A.toString(),O,q);else if(p.attachEvent)p.attachEvent(Wr(A.toString()),O);else if(p.addListener&&p.removeListener)p.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return T}function rs(){function p(T){return A.call(p.src,p.listener,T)}const A=Su;return p}function is(p,A,T,O,q){if(Array.isArray(A))for(var $=0;$<A.length;$++)is(p,A[$],T,O,q);else O=c(O)?!!O.capture:!!O,T=Iu(T),p&&p[bt]?(p=p.i,$=String(A).toString(),$ in p.g&&(A=p.g[$],T=Bt(A,T,O,q),T>-1&&(Et(A[T]),Array.prototype.splice.call(A,T,1),A.length==0&&(delete p.g[$],p.h--)))):p&&(p=lo(p))&&(A=p.g[A.toString()],p=-1,A&&(p=Bt(A,T,O,q)),(T=p>-1?A[p]:null)&&as(T))}function as(p){if(typeof p!="number"&&p&&!p.da){var A=p.src;if(A&&A[bt])Rt(A.i,p);else{var T=p.type,O=p.proxy;A.removeEventListener?A.removeEventListener(T,O,p.capture):A.detachEvent?A.detachEvent(Wr(T),O):A.addListener&&A.removeListener&&A.removeListener(O),(T=lo(A))?(Rt(T,p),T.h==0&&(T.src=null,A[Kt]=null)):Et(p)}}}function Wr(p){return p in Qe?Qe[p]:Qe[p]="on"+p}function Su(p,A){if(p.da)p=!0;else{A=new yt(A,this);const T=p.listener,O=p.ha||p.src;p.fa&&as(p),p=T.call(O,A)}return p}function lo(p){return p=p[Kt],p instanceof pt?p:null}var Cu="__closure_events_fn_"+(Math.random()*1e9>>>0);function Iu(p){return typeof p=="function"?p:(p[Cu]||(p[Cu]=function(A){return p.handleEvent(A)}),p[Cu])}function Ue(){B.call(this),this.i=new pt(this),this.M=this,this.G=null}m(Ue,B),Ue.prototype[bt]=!0,Ue.prototype.removeEventListener=function(p,A,T,O){is(this,p,A,T,O)};function Ze(p,A){var T,O=p.G;if(O)for(T=[];O;O=O.G)T.push(O);if(p=p.M,O=A.type||A,typeof A=="string")A=new U(A,p);else if(A instanceof U)A.target=A.target||p;else{var q=A;A=new U(O,p),ht(A,q)}q=!0;let $,ct;if(T)for(ct=T.length-1;ct>=0;ct--)$=A.g=T[ct],q=ra($,O,!0,A)&&q;if($=A.g=p,q=ra($,O,!0,A)&&q,q=ra($,O,!1,A)&&q,T)for(ct=0;ct<T.length;ct++)$=A.g=T[ct],q=ra($,O,!1,A)&&q}Ue.prototype.N=function(){if(Ue.Z.N.call(this),this.i){var p=this.i;for(const A in p.g){const T=p.g[A];for(let O=0;O<T.length;O++)Et(T[O]);delete p.g[A],p.h--}}this.G=null},Ue.prototype.J=function(p,A,T,O){return this.i.add(String(p),A,!1,T,O)},Ue.prototype.K=function(p,A,T,O){return this.i.add(String(p),A,!0,T,O)};function ra(p,A,T,O){if(A=p.i.g[String(A)],!A)return!0;A=A.concat();let q=!0;for(let $=0;$<A.length;++$){const ct=A[$];if(ct&&!ct.da&&ct.capture==T){const Mt=ct.listener,Le=ct.ha||ct.src;ct.fa&&Rt(p.i,ct),q=Mt.call(Le,O)!==!1&&q}}return q&&!O.defaultPrevented}function hd(p,A){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=d(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:u.setTimeout(p,A||0)}function vc(p){p.g=hd(()=>{p.g=null,p.i&&(p.i=!1,vc(p))},p.l);const A=p.h;p.h=null,p.m.apply(null,A)}class Vn extends B{constructor(A,T){super(),this.m=A,this.l=T,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:vc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function co(p){B.call(this),this.h=p,this.g={}}m(co,B);var bu=[];function Ru(p){Zt(p.g,function(A,T){this.g.hasOwnProperty(T)&&as(A)},p),p.g={}}co.prototype.N=function(){co.Z.N.call(this),Ru(this)},co.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ia=u.JSON.stringify,dd=u.JSON.parse,mc=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function yc(){}function _c(){}var Or={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function mn(){U.call(this,"d")}m(mn,U);function hr(){U.call(this,"c")}m(hr,U);var Pe={},Ec=null;function os(){return Ec=Ec||new Ue}Pe.Ia="serverreachability";function Ac(p){U.call(this,Pe.Ia,p)}m(Ac,U);function Qr(p){const A=os();Ze(A,new Ac(A))}Pe.STAT_EVENT="statevent";function fo(p,A){U.call(this,Pe.STAT_EVENT,p),this.stat=A}m(fo,U);function Fe(p){const A=os();Ze(A,new fo(A,p))}Pe.Ja="timingevent";function Zr(p,A){U.call(this,Pe.Ja,p),this.size=A}m(Zr,U);function $r(p,A){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},A)}function Dr(){this.g=!0}Dr.prototype.ua=function(){this.g=!1};function pd(p,A,T,O,q,$){p.info(function(){if(p.g)if($){var ct="",Mt=$.split("&");for(let ne=0;ne<Mt.length;ne++){var Le=Mt[ne].split("=");if(Le.length>1){const Re=Le[0];Le=Le[1];const vr=Re.split("_");ct=vr.length>=2&&vr[1]=="type"?ct+(Re+"="+Le+"&"):ct+(Re+"=redacted&")}}}else ct=null;else ct=$;return"XMLHTTP REQ ("+O+") [attempt "+q+"]: "+A+`
`+T+`
`+ct})}function xc(p,A,T,O,q,$,ct){p.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+q+"]: "+A+`
`+T+`
`+$+" "+ct})}function Jr(p,A,T,O){p.info(function(){return"XMLHTTP TEXT ("+A+"): "+gd(p,T)+(O?" "+O:"")})}function ho(p,A){p.info(function(){return"TIMEOUT: "+A})}Dr.prototype.info=function(){};function gd(p,A){if(!p.g)return A;if(!A)return null;try{const $=JSON.parse(A);if($){for(p=0;p<$.length;p++)if(Array.isArray($[p])){var T=$[p];if(!(T.length<2)){var O=T[1];if(Array.isArray(O)&&!(O.length<1)){var q=O[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ct=1;ct<O.length;ct++)O[ct]=""}}}}return ia($)}catch{return A}}var po={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ou={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Du;function go(){}m(go,yc),go.prototype.g=function(){return new XMLHttpRequest},Du=new go;function Ii(p){return encodeURIComponent(String(p))}function wc(p){var A=1;p=p.split(":");const T=[];for(;A>0&&p.length;)T.push(p.shift()),A--;return p.length&&T.push(p.join(":")),T}function Nr(p,A,T,O){this.j=p,this.i=A,this.l=T,this.S=O||1,this.V=new co(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Mr}function Mr(){this.i=null,this.g="",this.h=!1}var ze={},ln={};function ti(p,A,T){p.M=1,p.A=vo(je(A)),p.u=T,p.R=!0,ss(p,null)}function ss(p,A){p.F=Date.now(),ei(p),p.B=je(p.A);var T=p.B,O=p.S;Array.isArray(O)||(O=[String(O)]),fs(T.i,"t",O),p.C=0,T=p.j.L,p.h=new Mr,p.g=kc(p.j,T?A:null,!p.u),p.P>0&&(p.O=new Vn(d(p.Y,p,p.g),p.P)),A=p.V,T=p.g,O=p.ba;var q="readystatechange";Array.isArray(q)||(q&&(bu[0]=q.toString()),q=bu);for(let $=0;$<q.length;$++){const ct=be(T,q[$],O||A.handleEvent,!1,A.h||A);if(!ct)break;A.g[ct.key]=ct}A=p.J?H(p.J):{},p.u?(p.v||(p.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,A)):(p.v="GET",p.g.ea(p.B,p.v,null,A)),Qr(),pd(p.i,p.v,p.B,p.l,p.S,p.u)}Nr.prototype.ba=function(p){p=p.target;const A=this.O;A&&Br(p)==3?A.j():this.Y(p)},Nr.prototype.Y=function(p){try{if(p==this.g)t:{const Mt=Br(this.g),Le=this.g.ya(),ne=this.g.ca();if(!(Mt<3)&&(Mt!=3||this.g&&(this.h.h||this.g.la()||yn(this.g)))){this.K||Mt!=4||Le==7||(Le==8||ne<=0?Qr(3):Qr(2)),ni(this);var A=this.g.ca();this.X=A;var T=vd(this);if(this.o=A==200,xc(this.i,this.v,this.B,this.l,this.S,Mt,A),this.o){if(this.U&&!this.L){e:{if(this.g){var O,q=this.g;if((O=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(O)){var $=O;break e}}$=null}if(p=$)Jr(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,p);else{this.o=!1,this.m=3,Fe(12),er(this),dr(this);break t}}if(this.R){p=!0;let Re;for(;!this.K&&this.C<T.length;)if(Re=Sc(this,T),Re==ln){Mt==4&&(this.m=4,Fe(14),p=!1),Jr(this.i,this.l,null,"[Incomplete Response]");break}else if(Re==ze){this.m=4,Fe(15),Jr(this.i,this.l,T,"[Invalid Chunk]"),p=!1;break}else Jr(this.i,this.l,Re,null),ri(this,Re);if(Tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||T.length!=0||this.h.h||(this.m=1,Fe(16),p=!1),this.o=this.o&&p,!p)Jr(this.i,this.l,T,"[Invalid Chunked Response]"),er(this),dr(this);else if(T.length>0&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.aa&&!ct.P&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Xu(ct),ct.P=!0,Fe(11))}}else Jr(this.i,this.l,T,null),ri(this,T);Mt==4&&er(this),this.o&&!this.K&&(Mt==4?Pc(this.j,this):(this.o=!1,ei(this)))}else Ri(this.g),A==400&&T.indexOf("Unknown SID")>0?(this.m=3,Fe(12)):(this.m=0,Fe(13)),er(this),dr(this)}}}catch{}finally{}};function vd(p){if(!Tc(p))return p.g.la();const A=yn(p.g);if(A==="")return"";let T="";const O=A.length,q=Br(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return er(p),dr(p),"";p.h.i=new u.TextDecoder}for(let $=0;$<O;$++)p.h.h=!0,T+=p.h.i.decode(A[$],{stream:!(q&&$==O-1)});return A.length=0,p.h.g+=T,p.C=0,p.h.g}function Tc(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function Sc(p,A){var T=p.C,O=A.indexOf(`
`,T);return O==-1?ln:(T=Number(A.substring(T,O)),isNaN(T)?ze:(O+=1,O+T>A.length?ln:(A=A.slice(O,O+T),p.C=O+T,A)))}Nr.prototype.cancel=function(){this.K=!0,er(this)};function ei(p){p.T=Date.now()+p.H,us(p,p.H)}function us(p,A){if(p.D!=null)throw Error("WatchDog timer not null");p.D=$r(d(p.aa,p),A)}function ni(p){p.D&&(u.clearTimeout(p.D),p.D=null)}Nr.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(ho(this.i,this.B),this.M!=2&&(Qr(),Fe(17)),er(this),this.m=2,dr(this)):us(this,this.T-p)};function dr(p){p.j.I==0||p.K||Pc(p.j,p)}function er(p){ni(p);var A=p.O;A&&typeof A.dispose=="function"&&A.dispose(),p.O=null,Ru(p.V),p.g&&(A=p.g,p.g=null,A.abort(),A.dispose())}function ri(p,A){try{var T=p.j;if(T.I!=0&&(T.g==p||ai(T.h,p))){if(!p.L&&ai(T.h,p)&&T.I==3){try{var O=T.Ba.g.parse(A)}catch{O=null}if(Array.isArray(O)&&O.length==3){var q=O;if(q[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<p.F)vs(T),ha(T);else break t;wo(T),Fe(18)}}else T.xa=q[1],0<T.xa-T.K&&q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=$r(d(T.Va,T),6e3));ii(T.h)<=1&&T.ta&&(T.ta=void 0)}else fi(T,11)}else if((p.L||T.g==p)&&vs(T),!D(A))for(q=T.Ba.g.parse(A),A=0;A<q.length;A++){let ne=q[A];const Re=ne[0];if(!(Re<=T.K))if(T.K=Re,ne=ne[1],T.I==2)if(ne[0]=="c"){T.M=ne[1],T.ba=ne[2];const vr=ne[3];vr!=null&&(T.ka=vr,T.j.info("VER="+T.ka));const hi=ne[4];hi!=null&&(T.za=hi,T.j.info("SVER="+T.za));const Vr=ne[5];Vr!=null&&typeof Vr=="number"&&Vr>0&&(O=1.5*Vr,T.O=O,T.j.info("backChannelRequestTimeoutMs_="+O)),O=T;const kr=p.g;if(kr){const To=kr.g?kr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(To){var $=O.h;$.g||To.indexOf("spdy")==-1&&To.indexOf("quic")==-1&&To.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Pu($,$.h),$.h=null))}if(O.G){const ms=kr.g?kr.g.getResponseHeader("X-HTTP-Session-Id"):null;ms&&(O.wa=ms,le(O.J,O.G,ms))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-p.F,T.j.info("Handshake RTT: "+T.T+"ms")),O=T;var ct=p;if(O.na=Vc(O,O.L?O.ba:null,O.W),ct.L){Lu(O.h,ct);var Mt=ct,Le=O.O;Le&&(Mt.H=Le),Mt.D&&(ni(Mt),ei(Mt)),O.g=ct}else Nc(O);T.i.length>0&&ci(T)}else ne[0]!="stop"&&ne[0]!="close"||fi(T,7);else T.I==3&&(ne[0]=="stop"||ne[0]=="close"?ne[0]=="stop"?fi(T,7):Gu(T):ne[0]!="noop"&&T.l&&T.l.qa(ne),T.A=0)}}Qr(4)}catch{}}var He=class{constructor(p,A){this.g=p,this.map=A}};function Nu(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mu(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function ii(p){return p.h?1:p.g?p.g.size:0}function ai(p,A){return p.h?p.h==A:p.g?p.g.has(A):!1}function Pu(p,A){p.g?p.g.add(A):p.h=A}function Lu(p,A){p.h&&p.h==A?p.h=null:p.g&&p.g.has(A)&&p.g.delete(A)}Nu.prototype.cancel=function(){if(this.i=Bu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Bu(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let A=p.i;for(const T of p.g.values())A=A.concat(T.G);return A}return E(p.i)}var Cc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ls(p,A){if(p){p=p.split("&");for(let T=0;T<p.length;T++){const O=p[T].indexOf("=");let q,$=null;O>=0?(q=p[T].substring(0,O),$=p[T].substring(O+1)):q=p[T],A(q,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function nr(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;p instanceof nr?(this.l=p.l,cn(this,p.j),this.o=p.o,this.g=p.g,aa(this,p.u),this.h=p.h,Vu(this,Oc(p.i)),this.m=p.m):p&&(A=String(p).match(Cc))?(this.l=!1,cn(this,A[1]||"",!0),this.o=oi(A[2]||""),this.g=oi(A[3]||"",!0),aa(this,A[4]),this.h=oi(A[5]||"",!0),Vu(this,A[6]||"",!0),this.m=oi(A[7]||"")):(this.l=!1,this.i=new sa(null,this.l))}nr.prototype.toString=function(){const p=[];var A=this.j;A&&p.push(mo(A,cs,!0),":");var T=this.g;return(T||A=="file")&&(p.push("//"),(A=this.o)&&p.push(mo(A,cs,!0),"@"),p.push(Ii(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&p.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&p.push("/"),p.push(mo(T,T.charAt(0)=="/"?ku:Ic,!0))),(T=this.i.toString())&&p.push("?",T),(T=this.m)&&p.push("#",mo(T,bc)),p.join("")},nr.prototype.resolve=function(p){const A=je(this);let T=!!p.j;T?cn(A,p.j):T=!!p.o,T?A.o=p.o:T=!!p.g,T?A.g=p.g:T=p.u!=null;var O=p.h;if(T)aa(A,p.u);else if(T=!!p.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var q=A.h.lastIndexOf("/");q!=-1&&(O=A.h.slice(0,q+1)+O)}if(q=O,q==".."||q==".")O="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){O=q.lastIndexOf("/",0)==0,q=q.split("/");const $=[];for(let ct=0;ct<q.length;){const Mt=q[ct++];Mt=="."?O&&ct==q.length&&$.push(""):Mt==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),O&&ct==q.length&&$.push("")):($.push(Mt),O=!0)}O=$.join("/")}else O=q}return T?A.h=O:T=p.i.toString()!=="",T?Vu(A,Oc(p.i)):T=!!p.m,T&&(A.m=p.m),A};function je(p){return new nr(p)}function cn(p,A,T){p.j=T?oi(A,!0):A,p.j&&(p.j=p.j.replace(/:$/,""))}function aa(p,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);p.u=A}else p.u=null}function Vu(p,A,T){A instanceof sa?(p.i=A,hs(p.i,p.l)):(T||(A=mo(A,oa)),p.i=new sa(A,p.l))}function le(p,A,T){p.i.set(A,T)}function vo(p){return le(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function oi(p,A){return p?A?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function mo(p,A,T){return typeof p=="string"?(p=encodeURI(p).replace(A,jn),T&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function jn(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var cs=/[#\/\?@]/g,Ic=/[#\?:]/g,ku=/[#\?]/g,oa=/[#\?@]/g,bc=/#/g;function sa(p,A){this.h=this.g=null,this.i=p||null,this.j=!!A}function Gn(p){p.g||(p.g=new Map,p.h=0,p.i&&ls(p.i,function(A,T){p.add(decodeURIComponent(A.replace(/\+/g," ")),T)}))}n=sa.prototype,n.add=function(p,A){Gn(this),this.i=null,p=ua(this,p);let T=this.g.get(p);return T||this.g.set(p,T=[]),T.push(A),this.h+=1,this};function Rc(p,A){Gn(p),A=ua(p,A),p.g.has(A)&&(p.i=null,p.h-=p.g.get(A).length,p.g.delete(A))}function Uu(p,A){return Gn(p),A=ua(p,A),p.g.has(A)}n.forEach=function(p,A){Gn(this),this.g.forEach(function(T,O){T.forEach(function(q){p.call(A,q,O,this)},this)},this)};function Fu(p,A){Gn(p);let T=[];if(typeof A=="string")Uu(p,A)&&(T=T.concat(p.g.get(ua(p,A))));else for(p=Array.from(p.g.values()),A=0;A<p.length;A++)T=T.concat(p[A]);return T}n.set=function(p,A){return Gn(this),this.i=null,p=ua(this,p),Uu(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[A]),this.h+=1,this},n.get=function(p,A){return p?(p=Fu(this,p),p.length>0?String(p[0]):A):A};function fs(p,A,T){Rc(p,A),T.length>0&&(p.i=null,p.g.set(ua(p,A),E(T)),p.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],A=Array.from(this.g.keys());for(let O=0;O<A.length;O++){var T=A[O];const q=Ii(T);T=Fu(this,T);for(let $=0;$<T.length;$++){let ct=q;T[$]!==""&&(ct+="="+Ii(T[$])),p.push(ct)}}return this.i=p.join("&")};function Oc(p){const A=new sa;return A.i=p.i,p.g&&(A.g=new Map(p.g),A.h=p.h),A}function ua(p,A){return A=String(A),p.j&&(A=A.toLowerCase()),A}function hs(p,A){A&&!p.j&&(Gn(p),p.i=null,p.g.forEach(function(T,O){const q=O.toLowerCase();O!=q&&(Rc(this,O),fs(this,q,T))},p)),p.j=A}function Pr(p,A){const T=new Dr;if(u.Image){const O=new Image;O.onload=g(pr,T,"TestLoadImage: loaded",!0,A,O),O.onerror=g(pr,T,"TestLoadImage: error",!1,A,O),O.onabort=g(pr,T,"TestLoadImage: abort",!1,A,O),O.ontimeout=g(pr,T,"TestLoadImage: timeout",!1,A,O),u.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=p}else A(!1)}function zu(p,A){const T=new Dr,O=new AbortController,q=setTimeout(()=>{O.abort(),pr(T,"TestPingServer: timeout",!1,A)},1e4);fetch(p,{signal:O.signal}).then($=>{clearTimeout(q),$.ok?pr(T,"TestPingServer: ok",!0,A):pr(T,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(q),pr(T,"TestPingServer: error",!1,A)})}function pr(p,A,T,O,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),O(T)}catch{}}function la(){this.g=new mc}function si(p){this.i=p.Sb||null,this.h=p.ab||!1}m(si,yc),si.prototype.g=function(){return new yo(this.i,this.h)};function yo(p,A){Ue.call(this),this.H=p,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(yo,Ue),n=yo.prototype,n.open=function(p,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=A,this.readyState=1,Lr(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(A.body=p),(this.H||u).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ca(this)),this.readyState=0},n.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ds(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function ds(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}n.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var A=p.value?p.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!p.done}))&&(this.response=this.responseText+=A)}p.done?ca(this):Lr(this),this.readyState==3&&ds(this)}},n.Oa=function(p){this.g&&(this.response=this.responseText=p,ca(this))},n.Na=function(p){this.g&&(this.response=p,ca(this))},n.ga=function(){this.g&&ca(this)};function ca(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Lr(p)}n.setRequestHeader=function(p,A){this.A.append(p,A)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],A=this.h.entries();for(var T=A.next();!T.done;)T=T.value,p.push(T[0]+": "+T[1]),T=A.next();return p.join(`\r
`)};function Lr(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(yo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function gr(p){let A="";return Zt(p,function(T,O){A+=O,A+=":",A+=T,A+=`\r
`}),A}function _o(p,A,T){t:{for(O in T){var O=!1;break t}O=!0}O||(T=gr(T),typeof p=="string"?T!=null&&Ii(T):le(p,A,T))}function pe(p){Ue.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(pe,Ue);var ui=/^https?$/i,Hu=["POST","PUT"];n=pe.prototype,n.Fa=function(p){this.H=p},n.ea=function(p,A,T,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);A=A?A.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Du.g(),this.g.onreadystatechange=_(d(this.Ca,this));try{this.B=!0,this.g.open(A,String(p),!0),this.B=!1}catch($){Eo(this,$);return}if(p=T||"",T=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var q in O)T.set(q,O[q]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const $ of O.keys())T.set($,O.get($));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(T.keys()).find($=>$.toLowerCase()=="content-type"),q=u.FormData&&p instanceof u.FormData,!(Array.prototype.indexOf.call(Hu,A,void 0)>=0)||O||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ct]of T)this.g.setRequestHeader($,ct);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch($){Eo(this,$)}};function Eo(p,A){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=A,p.o=5,ju(p),bi(p)}function ju(p){p.A||(p.A=!0,Ze(p,"complete"),Ze(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Ze(this,"complete"),Ze(this,"abort"),bi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bi(this,!0)),pe.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ao(this):this.Xa())},n.Xa=function(){Ao(this)};function Ao(p){if(p.h&&typeof o<"u"){if(p.v&&Br(p)==4)setTimeout(p.Ca.bind(p),0);else if(Ze(p,"readystatechange"),Br(p)==4){p.h=!1;try{const $=p.ca();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break t;default:A=!1}var T;if(!(T=A)){var O;if(O=$===0){let ct=String(p.D).match(Cc)[1]||null;!ct&&u.self&&u.self.location&&(ct=u.self.location.protocol.slice(0,-1)),O=!ui.test(ct?ct.toLowerCase():"")}T=O}if(T)Ze(p,"complete"),Ze(p,"success");else{p.o=6;try{var q=Br(p)>2?p.g.statusText:""}catch{q=""}p.l=q+" ["+p.ca()+"]",ju(p)}}finally{bi(p)}}}}function bi(p,A){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const T=p.g;p.g=null,A||Ze(p,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Br(p){return p.g?p.g.readyState:0}n.ca=function(){try{return Br(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(p){if(this.g){var A=this.g.responseText;return p&&A.indexOf(p)==0&&(A=A.substring(p.length)),dd(A)}};function yn(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Ri(p){const A={};p=(p.g&&Br(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<p.length;O++){if(D(p[O]))continue;var T=wc(p[O]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const $=A[q]||[];A[q]=$,$.push(T)}ue(A,function(O){return O.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(p,A,T){return T&&T.internalChannelParams&&T.internalChannelParams[p]||A}function fa(p){this.za=0,this.i=[],this.j=new Dr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=li("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=li("baseRetryDelayMs",5e3,p),this.Za=li("retryDelaySeedMs",1e4,p),this.Ta=li("forwardChannelMaxRetries",2,p),this.va=li("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new Nu(p&&p.concurrentRequestLimit),this.Ba=new la,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=fa.prototype,n.ka=8,n.I=1,n.connect=function(p,A,T,O){Fe(0),this.W=p,this.H=A||{},T&&O!==void 0&&(this.H.OSID=T,this.H.OAID=O),this.F=this.X,this.J=Vc(this,null,this.W),ci(this)};function Gu(p){if(ps(p),p.I==3){var A=p.V++,T=je(p.J);if(le(T,"SID",p.M),le(T,"RID",A),le(T,"TYPE","terminate"),xo(p,T),A=new Nr(p,p.j,A),A.M=2,A.A=vo(je(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(A.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=A.A,T=!0),T||(A.g=kc(A.j,null),A.g.ea(A.A)),A.F=Date.now(),ei(A)}Bc(p)}function ha(p){p.g&&(Xu(p),p.g.cancel(),p.g=null)}function ps(p){ha(p),p.v&&(u.clearTimeout(p.v),p.v=null),vs(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&u.clearTimeout(p.m),p.m=null)}function ci(p){if(!Mu(p.h)&&!p.m){p.m=!0;var A=p.Ea;Q||R(),Z||(Q(),Z=!0),b.add(A,p),p.D=0}}function gs(p,A){return ii(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=A.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=$r(d(p.Ea,p,A),Lc(p,p.D)),p.D++,!0)}n.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const q=new Nr(this,this.j,p);let $=this.o;if(this.U&&($?($=H($),ht($,this.U)):$=this.U),this.u!==null||this.R||(q.J=$,$=null),this.S)t:{for(var A=0,T=0;T<this.i.length;T++){e:{var O=this.i[T];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break e}O=void 0}if(O===void 0)break;if(A+=O,A>4096){A=T;break t}if(A===4096||T===this.i.length-1){A=T+1;break t}}A=1e3}else A=1e3;A=Dc(this,q,A),T=je(this.J),le(T,"RID",p),le(T,"CVER",22),this.G&&le(T,"X-HTTP-Session-Id",this.G),xo(this,T),$&&(this.R?A="headers="+Ii(gr($))+"&"+A:this.u&&_o(T,this.u,$)),Pu(this.h,q),this.Ra&&le(T,"TYPE","init"),this.S?(le(T,"$req",A),le(T,"SID","null"),q.U=!0,ti(q,T,null)):ti(q,T,A),this.I=2}}else this.I==3&&(p?qu(this,p):this.i.length==0||Mu(this.h)||qu(this))};function qu(p,A){var T;A?T=A.l:T=p.V++;const O=je(p.J);le(O,"SID",p.M),le(O,"RID",T),le(O,"AID",p.K),xo(p,O),p.u&&p.o&&_o(O,p.u,p.o),T=new Nr(p,p.j,T,p.D+1),p.u===null&&(T.J=p.o),A&&(p.i=A.G.concat(p.i)),A=Dc(p,T,1e3),T.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Pu(p.h,T),ti(T,O,A)}function xo(p,A){p.H&&Zt(p.H,function(T,O){le(A,O,T)}),p.l&&Zt({},function(T,O){le(A,O,T)})}function Dc(p,A,T){T=Math.min(p.i.length,T);const O=p.l?d(p.l.Ka,p.l,p):null;t:{var q=p.i;let Mt=-1;for(;;){const Le=["count="+T];Mt==-1?T>0?(Mt=q[0].g,Le.push("ofs="+Mt)):Mt=0:Le.push("ofs="+Mt);let ne=!0;for(let Re=0;Re<T;Re++){var $=q[Re].g;const vr=q[Re].map;if($-=Mt,$<0)Mt=Math.max(0,q[Re].g-100),ne=!1;else try{$="req"+$+"_"||"";try{var ct=vr instanceof Map?vr:Object.entries(vr);for(const[hi,Vr]of ct){let kr=Vr;c(Vr)&&(kr=ia(Vr)),Le.push($+hi+"="+encodeURIComponent(kr))}}catch(hi){throw Le.push($+"type="+encodeURIComponent("_badmap")),hi}}catch{O&&O(vr)}}if(ne){ct=Le.join("&");break t}}ct=void 0}return p=p.i.splice(0,T),A.G=p,ct}function Nc(p){if(!p.g&&!p.v){p.Y=1;var A=p.Da;Q||R(),Z||(Q(),Z=!0),b.add(A,p),p.A=0}}function wo(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=$r(d(p.Da,p),Lc(p,p.A)),p.A++,!0)}n.Da=function(){if(this.v=null,Mc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=$r(d(this.Wa,this),p)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Fe(10),ha(this),Mc(this))};function Xu(p){p.B!=null&&(u.clearTimeout(p.B),p.B=null)}function Mc(p){p.g=new Nr(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var A=je(p.na);le(A,"RID","rpc"),le(A,"SID",p.M),le(A,"AID",p.K),le(A,"CI",p.F?"0":"1"),!p.F&&p.ia&&le(A,"TO",p.ia),le(A,"TYPE","xmlhttp"),xo(p,A),p.u&&p.o&&_o(A,p.u,p.o),p.O&&(p.g.H=p.O);var T=p.g;p=p.ba,T.M=1,T.A=vo(je(A)),T.u=null,T.R=!0,ss(T,p)}n.Va=function(){this.C!=null&&(this.C=null,ha(this),wo(this),Fe(19))};function vs(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function Pc(p,A){var T=null;if(p.g==A){vs(p),Xu(p),p.g=null;var O=2}else if(ai(p.h,A))T=A.G,Lu(p.h,A),O=1;else return;if(p.I!=0){if(A.o)if(O==1){T=A.u?A.u.length:0,A=Date.now()-A.F;var q=p.D;O=os(),Ze(O,new Zr(O,T)),ci(p)}else Nc(p);else if(q=A.m,q==3||q==0&&A.X>0||!(O==1&&gs(p,A)||O==2&&wo(p)))switch(T&&T.length>0&&(A=p.h,A.i=A.i.concat(T)),q){case 1:fi(p,5);break;case 4:fi(p,10);break;case 3:fi(p,6);break;default:fi(p,2)}}}function Lc(p,A){let T=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(T*=2),T*A}function fi(p,A){if(p.j.info("Error code "+A),A==2){var T=d(p.bb,p),O=p.Ua;const q=!O;O=new nr(O||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||cn(O,"https"),vo(O),q?Pr(O.toString(),T):zu(O.toString(),T)}else Fe(2);p.I=0,p.l&&p.l.pa(A),Bc(p),ps(p)}n.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Fe(2)):(this.j.info("Failed to ping google.com"),Fe(1))};function Bc(p){if(p.I=0,p.ja=[],p.l){const A=Bu(p.h);(A.length!=0||p.i.length!=0)&&(w(p.ja,A),w(p.ja,p.i),p.h.i.length=0,E(p.i),p.i.length=0),p.l.oa()}}function Vc(p,A,T){var O=T instanceof nr?je(T):new nr(T);if(O.g!="")A&&(O.g=A+"."+O.g),aa(O,O.u);else{var q=u.location;O=q.protocol,A=A?A+"."+q.hostname:q.hostname,q=+q.port;const $=new nr(null);O&&cn($,O),A&&($.g=A),q&&aa($,q),T&&($.h=T),O=$}return T=p.G,A=p.wa,T&&A&&le(O,T,A),le(O,"VER",p.ka),xo(p,O),O}function kc(p,A,T){if(A&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=p.Aa&&!p.ma?new pe(new si({ab:T})):new pe(p.ma),A.Fa(p.L),A}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uc(){}n=Uc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function da(){}da.prototype.g=function(p,A){return new kn(p,A)};function kn(p,A){Ue.call(this),this.g=new fa(A),this.l=p,this.h=A&&A.messageUrlParams||null,p=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(p?p["X-WebChannel-Content-Type"]=A.messageContentType:p={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(p?p["X-WebChannel-Client-Profile"]=A.sa:p={"X-WebChannel-Client-Profile":A.sa}),this.g.U=p,(p=A&&A.Qb)&&!D(p)&&(this.g.u=p),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!D(A)&&(this.g.G=A,p=this.h,p!==null&&A in p&&(p=this.h,A in p&&delete p[A])),this.j=new Oi(this)}m(kn,Ue),kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){Gu(this.g)},kn.prototype.o=function(p){var A=this.g;if(typeof p=="string"){var T={};T.__data__=p,p=T}else this.v&&(T={},T.__data__=ia(p),p=T);A.i.push(new He(A.Ya++,p)),A.I==3&&ci(A)},kn.prototype.N=function(){this.g.l=null,delete this.j,Gu(this.g),delete this.g,kn.Z.N.call(this)};function Fc(p){mn.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var A=p.__sm__;if(A){t:{for(const T in A){p=T;break t}p=void 0}(this.i=p)&&(p=this.i,A=A!==null&&p in A?A[p]:void 0),this.data=A}else this.data=p}m(Fc,mn);function zc(){hr.call(this),this.status=1}m(zc,hr);function Oi(p){this.g=p}m(Oi,Uc),Oi.prototype.ra=function(){Ze(this.g,"a")},Oi.prototype.qa=function(p){Ze(this.g,new Fc(p))},Oi.prototype.pa=function(p){Ze(this.g,new zc)},Oi.prototype.oa=function(){Ze(this.g,"b")},da.prototype.createWebChannel=da.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,lA=function(){return new da},uA=function(){return os()},sA=Pe,X0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},po.NO_ERROR=0,po.TIMEOUT=8,po.HTTP_ERROR=6,uh=po,Ou.COMPLETE="complete",oA=Ou,_c.EventType=Or,Or.OPEN="a",Or.CLOSE="b",Or.ERROR="c",Or.MESSAGE="d",Ue.prototype.listen=Ue.prototype.J,Bl=_c,pe.prototype.listenOnce=pe.prototype.K,pe.prototype.getLastError=pe.prototype.Ha,pe.prototype.getLastErrorCode=pe.prototype.ya,pe.prototype.getStatus=pe.prototype.ca,pe.prototype.getResponseJson=pe.prototype.La,pe.prototype.getResponseText=pe.prototype.la,pe.prototype.send=pe.prototype.ea,pe.prototype.setWithCredentials=pe.prototype.Fa,aA=pe}).apply(typeof Yf<"u"?Yf:typeof self<"u"?self:typeof window<"u"?window:{});const O2="@firebase/firestore",D2="4.9.2";class Mn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");let Eu="12.3.0";const Jo=new Tp("@firebase/firestore");function Ks(){return Jo.logLevel}function dt(n,...t){if(Jo.logLevel<=Gt.DEBUG){const e=t.map(Vp);Jo.debug(`Firestore (${Eu}): ${n}`,...e)}}function Ji(n,...t){if(Jo.logLevel<=Gt.ERROR){const e=t.map(Vp);Jo.error(`Firestore (${Eu}): ${n}`,...e)}}function uu(n,...t){if(Jo.logLevel<=Gt.WARN){const e=t.map(Vp);Jo.warn(`Firestore (${Eu}): ${n}`,...e)}}function Vp(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function It(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,cA(n,r,e)}function cA(n,t,e){let r=`FIRESTORE (${Eu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Ji(r),new Error(r)}function se(n,t,e,r){let i="Unexpected state";typeof e=="string"?i=e:r=e,n||cA(t,i,r)}function Nt(n,t){return n}const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends ea{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yo{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class fA{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class L4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Mn.UNAUTHENTICATED)))}shutdown(){}}class B4{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class V4{constructor(t){this.t=t,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){se(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,e(f)):Promise.resolve();let o=new Yo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Yo,t.enqueueRetryable((()=>i(this.currentUser)))};const u=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},c=f=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Yo)}}),0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(se(typeof r.accessToken=="string",31837,{l:r}),new fA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return se(t===null||typeof t=="string",2055,{h:t}),new Mn(t)}}class k4{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class U4{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new k4(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(Mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N2{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F4{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){se(this.o===void 0,3512);const r=o=>{o.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,dt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>r(o)))};const i=o=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new N2(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(se(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new N2(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function z4(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class kp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=z4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<e&&(r+=t.charAt(i[o]%62))}return r}}function qt(n,t){return n<t?-1:n>t?1:0}function Y0(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const i=n.charAt(r),o=t.charAt(r);if(i!==o)return w0(i)===w0(o)?qt(i,o):w0(i)?1:-1}return qt(n.length,t.length)}const H4=55296,j4=57343;function w0(n){const t=n.charCodeAt(0);return t>=H4&&t<=j4}function lu(n,t,e){return n.length===t.length&&n.every(((r,i)=>e(r,t[i])))}const M2="__name__";class mi{constructor(t,e,r){e===void 0?e=0:e>t.length&&It(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&It(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return mi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof mi?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let i=0;i<r;i++){const o=mi.compareSegments(t.get(i),e.get(i));if(o!==0)return o}return qt(t.length,e.length)}static compareSegments(t,e){const r=mi.isNumericId(t),i=mi.isNumericId(e);return r&&!i?-1:!r&&i?1:r&&i?mi.extractNumericId(t).compare(mi.extractNumericId(e)):Y0(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ya.fromString(t.substring(4,t.length-2))}}class Se extends mi{construct(t,e,r){return new Se(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new _t(ut.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((i=>i.length>0)))}return new Se(e)}static emptyPath(){return new Se([])}}const G4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends mi{construct(t,e,r){return new Cn(t,e,r)}static isValidIdentifier(t){return G4.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M2}static keyField(){return new Cn([M2])}static fromServerFormat(t){const e=[];let r="",i=0;const o=()=>{if(r.length===0)throw new _t(ut.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let u=!1;for(;i<t.length;){const c=t[i];if(c==="\\"){if(i+1===t.length)throw new _t(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new _t(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=f,i+=2}else c==="`"?(u=!u,i++):c!=="."||u?(r+=c,i++):(o(),i++)}if(o(),u)throw new _t(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Cn(e)}static emptyPath(){return new Cn([])}}class wt{constructor(t){this.path=t}static fromPath(t){return new wt(Se.fromString(t))}static fromName(t){return new wt(Se.fromString(t).popFirst(5))}static empty(){return new wt(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Se.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new wt(new Se(t.slice()))}}function hA(n,t,e){if(!e)throw new _t(ut.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function q4(n,t,e,r){if(t===!0&&r===!0)throw new _t(ut.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function P2(n){if(!wt.isDocumentKey(n))throw new _t(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function L2(n){if(wt.isDocumentKey(n))throw new _t(ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Up(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":It(12329,{type:typeof n})}function Ka(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new _t(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Up(n);throw new _t(ut.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function We(n,t){const e={typeString:n};return t&&(e.value=t),e}function cc(n,t){if(!dA(n))throw new _t(ut.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const u=n[r];if(i&&typeof u!==i){e=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&u!==o.value){e=`Expected '${r}' field to equal '${o.value}'`;break}}if(e)throw new _t(ut.INVALID_ARGUMENT,e);return!0}const B2=-62135596800,V2=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(t){return Ce.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*V2);return new Ce(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new _t(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new _t(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<B2)throw new _t(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _t(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V2}_compareTo(t){return this.seconds===t.seconds?qt(this.nanoseconds,t.nanoseconds):qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(cc(t,Ce._jsonSchema))return new Ce(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-B2;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ce._jsonSchemaVersion="firestore/timestamp/1.0",Ce._jsonSchema={type:We("string",Ce._jsonSchemaVersion),seconds:We("number"),nanoseconds:We("number")};class Ot{static fromTimestamp(t){return new Ot(t)}static min(){return new Ot(new Ce(0,0))}static max(){return new Ot(new Ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Jl=-1;function X4(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ot.fromTimestamp(r===1e9?new Ce(e+1,0):new Ce(e,r));return new $a(i,wt.empty(),t)}function Y4(n){return new $a(n.readTime,n.key,Jl)}class $a{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new $a(Ot.min(),wt.empty(),Jl)}static max(){return new $a(Ot.max(),wt.empty(),Jl)}}function K4(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=wt.comparator(n.documentKey,t.documentKey),e!==0?e:qt(n.largestBatchId,t.largestBatchId))}const W4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Au(n){if(n.code!==ut.FAILED_PRECONDITION||n.message!==W4)throw n;dt("LocalStore","Unexpectedly lost primary lease")}class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&It(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new st(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(e,o).next(r,i)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof st?e:st.resolve(e)}catch(e){return st.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):st.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):st.reject(e)}static resolve(t){return new st(((e,r)=>{e(t)}))}static reject(t){return new st(((e,r)=>{r(t)}))}static waitFor(t){return new st(((e,r)=>{let i=0,o=0,u=!1;t.forEach((c=>{++i,c.next((()=>{++o,u&&o===i&&e()}),(f=>r(f)))})),u=!0,o===i&&e()}))}static or(t){let e=st.resolve(!1);for(const r of t)e=e.next((i=>i?st.resolve(i):r()));return e}static forEach(t,e){const r=[];return t.forEach(((i,o)=>{r.push(e.call(this,i,o))})),this.waitFor(r)}static mapArray(t,e){return new st(((r,i)=>{const o=t.length,u=new Array(o);let c=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next((g=>{u[d]=g,++c,c===o&&r(u)}),(g=>i(g)))}}))}static doWhile(t,e){return new st(((r,i)=>{const o=()=>{t()===!0?e().next((()=>{o()}),i):r()};o()}))}}function Z4(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function xu(n){return n.name==="IndexedDbTransactionError"}class Xh{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Xh.ce=-1;const Fp=-1;function Yh(n){return n==null}function Ih(n){return n===0&&1/n==-1/0}function $4(n){return typeof n=="number"&&Number.isInteger(n)&&!Ih(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const pA="";function J4(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=k2(t)),t=tI(n.get(e),t);return k2(t)}function tI(n,t){let e=t;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":e+="";break;case pA:e+="";break;default:e+=o}}return e}function k2(n){return n+pA+""}function U2(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function oo(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function gA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class De{constructor(t,e){this.comparator=t,this.root=e||Sn.EMPTY}insert(t,e){return new De(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(t){return new De(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return e+r.left.size;i<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Kf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Kf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Kf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Kf(this.root,t,this.comparator,!0)}}class Kf{constructor(t,e,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?r(t.key,e):1,e&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Sn{constructor(t,e,r,i,o){this.key=t,this.value=e,this.color=r??Sn.RED,this.left=i??Sn.EMPTY,this.right=o??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,i,o){return new Sn(t??this.key,e??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,e,r),null):o===0?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),e(t,i.key)===0){if(i.right.isEmpty())return Sn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw It(43730,{key:this.key,value:this.value});if(this.right.isRed())throw It(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw It(27949);return t+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw It(57766)}get value(){throw It(16141)}get color(){throw It(16727)}get left(){throw It(29726)}get right(){throw It(36894)}copy(t,e,r,i,o){return this}insert(t,e,r){return new Sn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class un{constructor(t){this.comparator=t,this.data=new De(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new F2(this.data.getIterator())}getIteratorFrom(t){return new F2(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof un)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new un(this.comparator);return e.data=t,e}}class F2{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fr{constructor(t){this.fields=t,t.sort(Cn.comparator)}static empty(){return new fr([])}unionWith(t){let e=new un(Cn.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new fr(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return lu(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}class vA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Rn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new vA("Invalid base64 string: "+o):o}})(t);return new Rn(e)}static fromUint8Array(t){const e=(function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o})(t);return new Rn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const eI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ja(n){if(se(!!n,39018),typeof n=="string"){let t=0;const e=eI.exec(n);if(se(!!e,46558,{timestamp:n}),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ke(n.seconds),nanos:ke(n.nanos)}}function ke(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function to(n){return typeof n=="string"?Rn.fromBase64String(n):Rn.fromUint8Array(n)}const mA="server_timestamp",yA="__type__",_A="__previous_value__",EA="__local_write_time__";function zp(n){return(n?.mapValue?.fields||{})[yA]?.stringValue===mA}function Kh(n){const t=n.mapValue.fields[_A];return zp(t)?Kh(t):t}function tc(n){const t=Ja(n.mapValue.fields[EA].timestampValue);return new Ce(t.seconds,t.nanos)}class nI{constructor(t,e,r,i,o,u,c,f,d,g){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g}}const bh="(default)";class ec{constructor(t,e){this.projectId=t,this.database=e||bh}static empty(){return new ec("","")}get isDefaultDatabase(){return this.database===bh}isEqual(t){return t instanceof ec&&t.projectId===this.projectId&&t.database===this.database}}const AA="__type__",rI="__max__",Wf={mapValue:{}},xA="__vector__",Rh="value";function eo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zp(n)?4:aI(n)?9007199254740991:iI(n)?10:11:It(28295,{value:n})}function Ti(n,t){if(n===t)return!0;const e=eo(n);if(e!==eo(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return tc(n).isEqual(tc(t));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=Ja(i.timestampValue),c=Ja(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(i,o){return to(i.bytesValue).isEqual(to(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(i,o){return ke(i.geoPointValue.latitude)===ke(o.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(o.geoPointValue.longitude)})(n,t);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return ke(i.integerValue)===ke(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=ke(i.doubleValue),c=ke(o.doubleValue);return u===c?Ih(u)===Ih(c):isNaN(u)&&isNaN(c)}return!1})(n,t);case 9:return lu(n.arrayValue.values||[],t.arrayValue.values||[],Ti);case 10:case 11:return(function(i,o){const u=i.mapValue.fields||{},c=o.mapValue.fields||{};if(U2(u)!==U2(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(c[f]===void 0||!Ti(u[f],c[f])))return!1;return!0})(n,t);default:return It(52216,{left:n})}}function nc(n,t){return(n.values||[]).find((e=>Ti(e,t)))!==void 0}function cu(n,t){if(n===t)return 0;const e=eo(n),r=eo(t);if(e!==r)return qt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return qt(n.booleanValue,t.booleanValue);case 2:return(function(o,u){const c=ke(o.integerValue||o.doubleValue),f=ke(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(n,t);case 3:return z2(n.timestampValue,t.timestampValue);case 4:return z2(tc(n),tc(t));case 5:return Y0(n.stringValue,t.stringValue);case 6:return(function(o,u){const c=to(o),f=to(u);return c.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,u){const c=o.split("/"),f=u.split("/");for(let d=0;d<c.length&&d<f.length;d++){const g=qt(c[d],f[d]);if(g!==0)return g}return qt(c.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,u){const c=qt(ke(o.latitude),ke(u.latitude));return c!==0?c:qt(ke(o.longitude),ke(u.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return H2(n.arrayValue,t.arrayValue);case 10:return(function(o,u){const c=o.fields||{},f=u.fields||{},d=c[Rh]?.arrayValue,g=f[Rh]?.arrayValue,m=qt(d?.values?.length||0,g?.values?.length||0);return m!==0?m:H2(d,g)})(n.mapValue,t.mapValue);case 11:return(function(o,u){if(o===Wf.mapValue&&u===Wf.mapValue)return 0;if(o===Wf.mapValue)return 1;if(u===Wf.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let m=0;m<f.length&&m<g.length;++m){const _=Y0(f[m],g[m]);if(_!==0)return _;const E=cu(c[f[m]],d[g[m]]);if(E!==0)return E}return qt(f.length,g.length)})(n.mapValue,t.mapValue);default:throw It(23264,{he:e})}}function z2(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return qt(n,t);const e=Ja(n),r=Ja(t),i=qt(e.seconds,r.seconds);return i!==0?i:qt(e.nanos,r.nanos)}function H2(n,t){const e=n.values||[],r=t.values||[];for(let i=0;i<e.length&&i<r.length;++i){const o=cu(e[i],r[i]);if(o)return o}return qt(e.length,r.length)}function fu(n){return K0(n)}function K0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=Ja(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return to(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return wt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",i=!0;for(const o of e.values||[])i?i=!1:r+=",",r+=K0(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let i="{",o=!0;for(const u of r)o?o=!1:i+=",",i+=`${u}:${K0(e.fields[u])}`;return i+"}"})(n.mapValue):It(61005,{value:n})}function lh(n){switch(eo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Kh(n);return t?16+lh(t):16;case 5:return 2*n.stringValue.length;case 6:return to(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+lh(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return oo(r.fields,((o,u)=>{i+=o.length+lh(u)})),i})(n.mapValue);default:throw It(13486,{value:n})}}function W0(n){return!!n&&"integerValue"in n}function Hp(n){return!!n&&"arrayValue"in n}function j2(n){return!!n&&"nullValue"in n}function G2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ch(n){return!!n&&"mapValue"in n}function iI(n){return(n?.mapValue?.fields||{})[AA]?.stringValue===xA}function Yl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return oo(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=Yl(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Yl(n.arrayValue.values[e]);return t}return{...n}}function aI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===rI}class $n{constructor(t){this.value=t}static empty(){return new $n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!ch(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Yl(e)}setAll(t){let e=Cn.emptyPath(),r={},i=[];t.forEach(((u,c)=>{if(!e.isImmediateParentOf(c)){const f=this.getFieldsMap(e);this.applyChanges(f,r,i),r={},i=[],e=c.popLast()}u?r[c.lastSegment()]=Yl(u):i.push(c.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,r,i)}delete(t){const e=this.field(t.popLast());ch(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ti(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=e.mapValue.fields[t.get(r)];ch(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,r){oo(e,((i,o)=>t[i]=o));for(const i of r)delete t[i]}clone(){return new $n(Yl(this.value))}}function wA(n){const t=[];return oo(n.fields,((e,r)=>{const i=new Cn([e]);if(ch(r)){const o=wA(r.mapValue).fields;if(o.length===0)t.push(i);else for(const u of o)t.push(i.child(u))}else t.push(i)})),new fr(t)}class Pn{constructor(t,e,r,i,o,u,c){this.key=t,this.documentType=e,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=c}static newInvalidDocument(t){return new Pn(t,0,Ot.min(),Ot.min(),Ot.min(),$n.empty(),0)}static newFoundDocument(t,e,r,i){return new Pn(t,1,e,Ot.min(),r,i,0)}static newNoDocument(t,e){return new Pn(t,2,e,Ot.min(),Ot.min(),$n.empty(),0)}static newUnknownDocument(t,e){return new Pn(t,3,e,Ot.min(),Ot.min(),$n.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Pn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oh{constructor(t,e){this.position=t,this.inclusive=e}}function q2(n,t,e){let r=0;for(let i=0;i<n.position.length;i++){const o=t[i],u=n.position[i];if(o.field.isKeyField()?r=wt.comparator(wt.fromName(u.referenceValue),e.key):r=cu(u,e.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function X2(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ti(n.position[e],t.position[e]))return!1;return!0}class Dh{constructor(t,e="asc"){this.field=t,this.dir=e}}function oI(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class TA{}class rn extends TA{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new uI(t,e,r):e==="array-contains"?new fI(t,r):e==="in"?new hI(t,r):e==="not-in"?new dI(t,r):e==="array-contains-any"?new pI(t,r):new rn(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new lI(t,r):new cI(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(cu(e,this.value)):e!==null&&eo(this.value)===eo(e)&&this.matchesComparison(cu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return It(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends TA{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Si(t,e)}matches(t){return SA(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function SA(n){return n.op==="and"}function CA(n){return sI(n)&&SA(n)}function sI(n){for(const t of n.filters)if(t instanceof Si)return!1;return!0}function Q0(n){if(n instanceof rn)return n.field.canonicalString()+n.op.toString()+fu(n.value);if(CA(n))return n.filters.map((t=>Q0(t))).join(",");{const t=n.filters.map((e=>Q0(e))).join(",");return`${n.op}(${t})`}}function IA(n,t){return n instanceof rn?(function(r,i){return i instanceof rn&&r.op===i.op&&r.field.isEqual(i.field)&&Ti(r.value,i.value)})(n,t):n instanceof Si?(function(r,i){return i instanceof Si&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,u,c)=>o&&IA(u,i.filters[c])),!0):!1})(n,t):void It(19439)}function bA(n){return n instanceof rn?(function(e){return`${e.field.canonicalString()} ${e.op} ${fu(e.value)}`})(n):n instanceof Si?(function(e){return e.op.toString()+" {"+e.getFilters().map(bA).join(" ,")+"}"})(n):"Filter"}class uI extends rn{constructor(t,e,r){super(t,e,r),this.key=wt.fromName(r.referenceValue)}matches(t){const e=wt.comparator(t.key,this.key);return this.matchesComparison(e)}}class lI extends rn{constructor(t,e){super(t,"in",e),this.keys=RA("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class cI extends rn{constructor(t,e){super(t,"not-in",e),this.keys=RA("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function RA(n,t){return(t.arrayValue?.values||[]).map((e=>wt.fromName(e.referenceValue)))}class fI extends rn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Hp(e)&&nc(e.arrayValue,this.value)}}class hI extends rn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&nc(this.value.arrayValue,e)}}class dI extends rn{constructor(t,e){super(t,"not-in",e)}matches(t){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!nc(this.value.arrayValue,e)}}class pI extends rn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Hp(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>nc(this.value.arrayValue,r)))}}class gI{constructor(t,e=null,r=[],i=[],o=null,u=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=c,this.Te=null}}function Y2(n,t=null,e=[],r=[],i=null,o=null,u=null){return new gI(n,t,e,r,i,o,u)}function jp(n){const t=Nt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>Q0(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Yh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>fu(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>fu(r))).join(",")),t.Te=e}return t.Te}function Gp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!oI(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!IA(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!X2(n.startAt,t.startAt)&&X2(n.endAt,t.endAt)}function Z0(n){return wt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Wh{constructor(t,e=null,r=[],i=[],o=null,u="F",c=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vI(n,t,e,r,i,o,u,c){return new Wh(n,t,e,r,i,o,u,c)}function qp(n){return new Wh(n)}function K2(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function mI(n){return n.collectionGroup!==null}function Kl(n){const t=Nt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new un(Cn.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Dh(o,r))})),e.has(Cn.keyField().canonicalString())||t.Ie.push(new Dh(Cn.keyField(),r))}return t.Ie}function Ei(n){const t=Nt(n);return t.Ee||(t.Ee=yI(t,Kl(n))),t.Ee}function yI(n,t){if(n.limitType==="F")return Y2(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new Dh(i.field,o)}));const e=n.endAt?new Oh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Oh(n.startAt.position,n.startAt.inclusive):null;return Y2(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function $0(n,t,e){return new Wh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Qh(n,t){return Gp(Ei(n),Ei(t))&&n.limitType===t.limitType}function OA(n){return`${jp(Ei(n))}|lt:${n.limitType}`}function Ws(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((i=>bA(i))).join(", ")}]`),Yh(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((i=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(i))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((i=>fu(i))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((i=>fu(i))).join(",")),`Target(${r})`})(Ei(n))}; limitType=${n.limitType})`}function Zh(n,t){return t.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):wt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,t)&&(function(r,i){for(const o of Kl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(n,t)&&(function(r,i){return!(r.startAt&&!(function(u,c,f){const d=q2(u,c,f);return u.inclusive?d<=0:d<0})(r.startAt,Kl(r),i)||r.endAt&&!(function(u,c,f){const d=q2(u,c,f);return u.inclusive?d>=0:d>0})(r.endAt,Kl(r),i))})(n,t)}function _I(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function DA(n){return(t,e)=>{let r=!1;for(const i of Kl(n)){const o=EI(i,t,e);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function EI(n,t,e){const r=n.field.isKeyField()?wt.comparator(t.key,e.key):(function(o,u,c){const f=u.data.field(o),d=c.data.field(o);return f!==null&&d!==null?cu(f,d):It(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return It(19790,{direction:n.dir})}}class es{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[e]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){oo(this.inner,((e,r)=>{for(const[i,o]of r)t(i,o)}))}isEmpty(){return gA(this.inner)}size(){return this.innerSize}}const AI=new De(wt.comparator);function ta(){return AI}const NA=new De(wt.comparator);function Vl(...n){let t=NA;for(const e of n)t=t.insert(e.key,e);return t}function MA(n){let t=NA;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function qo(){return Wl()}function PA(){return Wl()}function Wl(){return new es((n=>n.toString()),((n,t)=>n.isEqual(t)))}const xI=new De(wt.comparator),wI=new un(wt.comparator);function Xt(...n){let t=wI;for(const e of n)t=t.add(e);return t}const TI=new un(qt);function SI(){return TI}function Xp(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(t)?"-0":t}}function LA(n){return{integerValue:""+n}}function CI(n,t){return $4(t)?LA(t):Xp(n,t)}class $h{constructor(){this._=void 0}}function II(n,t,e){return n instanceof Nh?(function(i,o){const u={fields:{[yA]:{stringValue:mA},[EA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&zp(o)&&(o=Kh(o)),o&&(u.fields[_A]=o),{mapValue:u}})(e,t):n instanceof rc?VA(n,t):n instanceof ic?kA(n,t):(function(i,o){const u=BA(i,o),c=W2(u)+W2(i.Ae);return W0(u)&&W0(i.Ae)?LA(c):Xp(i.serializer,c)})(n,t)}function bI(n,t,e){return n instanceof rc?VA(n,t):n instanceof ic?kA(n,t):e}function BA(n,t){return n instanceof Mh?(function(r){return W0(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(t)?t:{integerValue:0}:null}class Nh extends $h{}class rc extends $h{constructor(t){super(),this.elements=t}}function VA(n,t){const e=UA(t);for(const r of n.elements)e.some((i=>Ti(i,r)))||e.push(r);return{arrayValue:{values:e}}}class ic extends $h{constructor(t){super(),this.elements=t}}function kA(n,t){let e=UA(t);for(const r of n.elements)e=e.filter((i=>!Ti(i,r)));return{arrayValue:{values:e}}}class Mh extends $h{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function W2(n){return ke(n.integerValue||n.doubleValue)}function UA(n){return Hp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function RI(n,t){return n.field.isEqual(t.field)&&(function(r,i){return r instanceof rc&&i instanceof rc||r instanceof ic&&i instanceof ic?lu(r.elements,i.elements,Ti):r instanceof Mh&&i instanceof Mh?Ti(r.Ae,i.Ae):r instanceof Nh&&i instanceof Nh})(n.transform,t.transform)}class OI{constructor(t,e){this.version=t,this.transformResults=e}}class Kr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Kr}static exists(t){return new Kr(void 0,t)}static updateTime(t){return new Kr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function fh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Jh{}function FA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Yp(n.key,Kr.none()):new fc(n.key,n.data,Kr.none());{const e=n.data,r=$n.empty();let i=new un(Cn.comparator);for(let o of t.fields)if(!i.has(o)){let u=e.field(o);u===null&&o.length>1&&(o=o.popLast(),u=e.field(o)),u===null?r.delete(o):r.set(o,u),i=i.add(o)}return new so(n.key,r,new fr(i.toArray()),Kr.none())}}function DI(n,t,e){n instanceof fc?(function(i,o,u){const c=i.value.clone(),f=Z2(i.fieldTransforms,o,u.transformResults);c.setAll(f),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()})(n,t,e):n instanceof so?(function(i,o,u){if(!fh(i.precondition,o))return void o.convertToUnknownDocument(u.version);const c=Z2(i.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(zA(i)),f.setAll(c),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,t,e):(function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,e)}function Ql(n,t,e,r){return n instanceof fc?(function(o,u,c,f){if(!fh(o.precondition,u))return c;const d=o.value.clone(),g=$2(o.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,t,e,r):n instanceof so?(function(o,u,c,f){if(!fh(o.precondition,u))return c;const d=$2(o.fieldTransforms,f,u),g=u.data;return g.setAll(zA(o)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((m=>m.field)))})(n,t,e,r):(function(o,u,c){return fh(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c})(n,t,e)}function NI(n,t){let e=null;for(const r of n.fieldTransforms){const i=t.data.field(r.field),o=BA(r.transform,i||null);o!=null&&(e===null&&(e=$n.empty()),e.set(r.field,o))}return e||null}function Q2(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&lu(r,i,((o,u)=>RI(o,u)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class fc extends Jh{constructor(t,e,r,i=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class so extends Jh{constructor(t,e,r,i,o=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function zA(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function Z2(n,t,e){const r=new Map;se(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let i=0;i<e.length;i++){const o=n[i],u=o.transform,c=t.data.field(o.field);r.set(o.field,bI(u,c,e[i]))}return r}function $2(n,t,e){const r=new Map;for(const i of n){const o=i.transform,u=e.data.field(i.field);r.set(i.field,II(o,u,t))}return r}class Yp extends Jh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MI extends Jh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PI{constructor(t,e,r,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&DI(o,t,r[i])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=Ql(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=Ql(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=PA();return this.mutations.forEach((i=>{const o=t.get(i.key),u=o.overlayedDocument;let c=this.applyToLocalView(u,o.mutatedFields);c=e.has(i.key)?null:c;const f=FA(u,c);f!==null&&r.set(i.key,f),u.isValidDocument()||u.convertToNoDocument(Ot.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Xt())}isEqual(t){return this.batchId===t.batchId&&lu(this.mutations,t.mutations,((e,r)=>Q2(e,r)))&&lu(this.baseMutations,t.baseMutations,((e,r)=>Q2(e,r)))}}class Kp{constructor(t,e,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=i}static from(t,e,r){se(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=(function(){return xI})();const o=t.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new Kp(t,e,r,i)}}class LI{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class BI{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ke,Wt;function VI(n){switch(n){case ut.OK:return It(64938);case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0;default:return It(15467,{code:n})}}function HA(n){if(n===void 0)return Ji("GRPC error has no .code"),ut.UNKNOWN;switch(n){case Ke.OK:return ut.OK;case Ke.CANCELLED:return ut.CANCELLED;case Ke.UNKNOWN:return ut.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return ut.INTERNAL;case Ke.UNAVAILABLE:return ut.UNAVAILABLE;case Ke.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case Ke.NOT_FOUND:return ut.NOT_FOUND;case Ke.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case Ke.ABORTED:return ut.ABORTED;case Ke.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case Ke.DATA_LOSS:return ut.DATA_LOSS;default:return It(39323,{code:n})}}(Wt=Ke||(Ke={}))[Wt.OK=0]="OK",Wt[Wt.CANCELLED=1]="CANCELLED",Wt[Wt.UNKNOWN=2]="UNKNOWN",Wt[Wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wt[Wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wt[Wt.NOT_FOUND=5]="NOT_FOUND",Wt[Wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wt[Wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wt[Wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wt[Wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wt[Wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wt[Wt.ABORTED=10]="ABORTED",Wt[Wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wt[Wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wt[Wt.INTERNAL=13]="INTERNAL",Wt[Wt.UNAVAILABLE=14]="UNAVAILABLE",Wt[Wt.DATA_LOSS=15]="DATA_LOSS";function kI(){return new TextEncoder}const UI=new Ya([4294967295,4294967295],0);function J2(n){const t=kI().encode(n),e=new iA;return e.update(t),new Uint8Array(e.digest())}function t_(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ya([e,r],0),new Ya([i,o],0)]}class Wp{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new kl(`Invalid padding: ${e}`);if(r<0)throw new kl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new kl(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Ya.fromNumber(this.ge)}ye(t,e,r){let i=t.add(e.multiply(Ya.fromNumber(r)));return i.compare(UI)===1&&(i=new Ya([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=J2(t),[r,i]=t_(e);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,i,o);if(!this.we(u))return!1}return!0}static create(t,e,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),u=new Wp(o,i,e);return r.forEach((c=>u.insert(c))),u}insert(t){if(this.ge===0)return;const e=J2(t),[r,i]=t_(e);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,i,o);this.Se(u)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class td{constructor(t,e,r,i,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const i=new Map;return i.set(t,hc.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new td(Ot.min(),i,new De(qt),ta(),Xt())}}class hc{constructor(t,e,r,i,o){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new hc(r,e,Xt(),Xt(),Xt())}}class hh{constructor(t,e,r,i){this.be=t,this.removedTargetIds=e,this.key=r,this.De=i}}class jA{constructor(t,e){this.targetId=t,this.Ce=e}}class GA{constructor(t,e,r=Rn.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=i}}class e_{constructor(){this.ve=0,this.Fe=n_(),this.Me=Rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Xt(),e=Xt(),r=Xt();return this.Fe.forEach(((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:r=r.add(i);break;default:It(38017,{changeType:o})}})),new hc(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=n_()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,se(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FI{constructor(t){this.Ge=t,this.ze=new Map,this.je=ta(),this.Je=Qf(),this.He=Qf(),this.Ye=new De(qt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:It(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,i)=>{this.rt(i)&&e(i)}))}st(t){const e=t.targetId,r=t.Ce.count,i=this.ot(e);if(i){const o=i.target;if(Z0(o))if(r===0){const u=new wt(o.path);this.et(e,u,Pn.newNoDocument(u,Ot.min()))}else se(r===1,20013,{expectedCount:r});else{const u=this._t(e);if(u!==r){const c=this.ut(t),f=c?this.ct(c,t,u):1;if(f!==0){this.it(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=e;let u,c;try{u=to(r).toUint8Array()}catch(f){if(f instanceof vA)return uu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new Wp(u,i,o)}catch(f){return uu(f instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let i=0;return r.forEach((o=>{const u=this.Ge.ht(),c=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.mightContain(c)||(this.et(e,o,null),i++)})),i}Tt(t){const e=new Map;this.ze.forEach(((o,u)=>{const c=this.ot(u);if(c){if(o.current&&Z0(c.target)){const f=new wt(c.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Pn.newNoDocument(f,t))}o.Be&&(e.set(u,o.ke()),o.qe())}}));let r=Xt();this.He.forEach(((o,u)=>{let c=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(t)));const i=new td(t,e,this.Ye,this.je,r);return this.je=ta(),this.Je=Qf(),this.He=Qf(),this.Ye=new De(qt),i}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,e)?i.Qe(e,1):i.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new e_,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new un(qt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new un(qt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||dt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new e_),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Qf(){return new De(wt.comparator)}function n_(){return new De(wt.comparator)}const zI={asc:"ASCENDING",desc:"DESCENDING"},HI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jI={and:"AND",or:"OR"};class GI{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function J0(n,t){return n.useProto3Json||Yh(t)?t:{value:t}}function Ph(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function qA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function qI(n,t){return Ph(n,t.toTimestamp())}function Ai(n){return se(!!n,49232),Ot.fromTimestamp((function(e){const r=Ja(e);return new Ce(r.seconds,r.nanos)})(n))}function Qp(n,t){return tp(n,t).canonicalString()}function tp(n,t){const e=(function(i){return new Se(["projects",i.projectId,"databases",i.database])})(n).child("documents");return t===void 0?e:e.child(t)}function XA(n){const t=Se.fromString(n);return se(ZA(t),10190,{key:t.toString()}),t}function ep(n,t){return Qp(n.databaseId,t.path)}function T0(n,t){const e=XA(t);if(e.get(1)!==n.databaseId.projectId)throw new _t(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new _t(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new wt(KA(e))}function YA(n,t){return Qp(n.databaseId,t)}function XI(n){const t=XA(n);return t.length===4?Se.emptyPath():KA(t)}function np(n){return new Se(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function KA(n){return se(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function r_(n,t,e){return{name:ep(n,t),fields:e.value.mapValue.fields}}function YI(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:It(39313,{state:d})})(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=(function(d,g){return d.useProto3Json?(se(g===void 0||typeof g=="string",58123),Rn.fromBase64String(g||"")):(se(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Rn.fromUint8Array(g||new Uint8Array))})(n,t.targetChange.resumeToken),u=t.targetChange.cause,c=u&&(function(d){const g=d.code===void 0?ut.UNKNOWN:HA(d.code);return new _t(g,d.message||"")})(u);e=new GA(r,i,o,c||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=T0(n,r.document.name),o=Ai(r.document.updateTime),u=r.document.createTime?Ai(r.document.createTime):Ot.min(),c=new $n({mapValue:{fields:r.document.fields}}),f=Pn.newFoundDocument(i,o,u,c),d=r.targetIds||[],g=r.removedTargetIds||[];e=new hh(d,g,f.key,f)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=T0(n,r.document),o=r.readTime?Ai(r.readTime):Ot.min(),u=Pn.newNoDocument(i,o),c=r.removedTargetIds||[];e=new hh([],c,u.key,u)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=T0(n,r.document),o=r.removedTargetIds||[];e=new hh([],o,i,null)}else{if(!("filter"in t))return It(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,u=new BI(i,o),c=r.targetId;e=new jA(c,u)}}return e}function KI(n,t){let e;if(t instanceof fc)e={update:r_(n,t.key,t.value)};else if(t instanceof Yp)e={delete:ep(n,t.key)};else if(t instanceof so)e={update:r_(n,t.key,t.data),updateMask:r8(t.fieldMask)};else{if(!(t instanceof MI))return It(16599,{Vt:t.type});e={verify:ep(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(o,u){const c=u.transform;if(c instanceof Nh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof rc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ic)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Mh)return{fieldPath:u.field.canonicalString(),increment:c.Ae};throw It(20930,{transform:u.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:qI(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:It(27497)})(n,t.precondition)),e}function WI(n,t){return n&&n.length>0?(se(t!==void 0,14353),n.map((e=>(function(i,o){let u=i.updateTime?Ai(i.updateTime):Ai(o);return u.isEqual(Ot.min())&&(u=Ai(o)),new OI(u,i.transformResults||[])})(e,t)))):[]}function QI(n,t){return{documents:[YA(n,t.path)]}}function ZI(n,t){const e={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=YA(n,i);const o=(function(d){if(d.length!==0)return QA(Si.create(d,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((g=>(function(_){return{field:Qs(_.field),direction:t8(_.dir)}})(g)))})(t.orderBy);u&&(e.structuredQuery.orderBy=u);const c=J0(n,t.limit);return c!==null&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(t.endAt)),{ft:e,parent:i}}function $I(n){let t=XI(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let i=null;if(r>0){se(r===1,65062);const g=e.from[0];g.allDescendants?i=g.collectionId:t=t.child(g.collectionId)}let o=[];e.where&&(o=(function(m){const _=WA(m);return _ instanceof Si&&CA(_)?_.getFilters():[_]})(e.where));let u=[];e.orderBy&&(u=(function(m){return m.map((_=>(function(w){return new Dh(Zs(w.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(_)))})(e.orderBy));let c=null;e.limit&&(c=(function(m){let _;return _=typeof m=="object"?m.value:m,Yh(_)?null:_})(e.limit));let f=null;e.startAt&&(f=(function(m){const _=!!m.before,E=m.values||[];return new Oh(E,_)})(e.startAt));let d=null;return e.endAt&&(d=(function(m){const _=!m.before,E=m.values||[];return new Oh(E,_)})(e.endAt)),vI(t,i,u,o,c,"F",f,d)}function JI(n,t){const e=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return It(28987,{purpose:i})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function WA(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Zs(e.unaryFilter.field);return rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Zs(e.unaryFilter.field);return rn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Zs(e.unaryFilter.field);return rn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Zs(e.unaryFilter.field);return rn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return It(61313);default:return It(60726)}})(n):n.fieldFilter!==void 0?(function(e){return rn.create(Zs(e.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return It(58110);default:return It(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Si.create(e.compositeFilter.filters.map((r=>WA(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return It(1026)}})(e.compositeFilter.op))})(n):It(30097,{filter:n})}function t8(n){return zI[n]}function e8(n){return HI[n]}function n8(n){return jI[n]}function Qs(n){return{fieldPath:n.canonicalString()}}function Zs(n){return Cn.fromServerFormat(n.fieldPath)}function QA(n){return n instanceof rn?(function(e){if(e.op==="=="){if(G2(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NAN"}};if(j2(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(G2(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NOT_NAN"}};if(j2(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(e.field),op:e8(e.op),value:e.value}}})(n):n instanceof Si?(function(e){const r=e.getFilters().map((i=>QA(i)));return r.length===1?r[0]:{compositeFilter:{op:n8(e.op),filters:r}}})(n):It(54877,{filter:n})}function r8(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function ZA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class ja{constructor(t,e,r,i,o=Ot.min(),u=Ot.min(),c=Rn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(t){return new ja(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class i8{constructor(t){this.yt=t}}function a8(n){const t=$I({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?$0(t,t.limit,"L"):t}class o8{constructor(){this.Cn=new s8}addToCollectionParentIndex(t,e){return this.Cn.add(e),st.resolve()}getCollectionParents(t,e){return st.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return st.resolve()}deleteFieldIndex(t,e){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,e){return st.resolve()}getDocumentsMatchingTarget(t,e){return st.resolve(null)}getIndexType(t,e){return st.resolve(0)}getFieldIndexes(t,e){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,e){return st.resolve($a.min())}getMinOffsetFromCollectionGroup(t,e){return st.resolve($a.min())}updateCollectionGroup(t,e,r){return st.resolve()}updateIndexEntries(t,e){return st.resolve()}}class s8{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e]||new un(Se.comparator),o=!i.has(r);return this.index[e]=i.add(r),o}has(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e];return i&&i.has(r)}getEntries(t){return(this.index[t]||new un(Se.comparator)).toArray()}}const i_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$A=41943040;class Zn{static withCacheSize(t){return new Zn(t,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}Zn.DEFAULT_COLLECTION_PERCENTILE=10,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zn.DEFAULT=new Zn($A,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zn.DISABLED=new Zn(-1,0,0);class hu{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new hu(0)}static cr(){return new hu(-1)}}const a_="LruGarbageCollector",u8=1048576;function o_([n,t],[e,r]){const i=qt(n,e);return i===0?qt(t,r):i}class l8{constructor(t){this.Ir=t,this.buffer=new un(o_),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();o_(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class c8{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){dt(a_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){xu(e)?dt(a_,"Ignoring IndexedDB error during garbage collection: ",e):await Au(e)}await this.Vr(3e5)}))}}class f8{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return st.resolve(Xh.ce);const r=new l8(e);return this.mr.forEachTarget(t,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(t,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(i_)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i_):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,i,o,u,c,f,d;const g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,u=Date.now(),this.nthSequenceNumber(t,i)))).next((m=>(r=m,c=Date.now(),this.removeTargets(t,r,e)))).next((m=>(o=m,f=Date.now(),this.removeOrphanedDocuments(t,r)))).next((m=>(d=Date.now(),Ks()<=Gt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${i} in `+(c-u)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${m} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:m}))))}}function h8(n,t){return new f8(n,t)}class d8{constructor(){this.changes=new es((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Pn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?st.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class p8{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class g8{constructor(t,e,r,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((i=>(r=i,this.remoteDocumentCache.getEntry(t,e)))).next((i=>(r!==null&&Ql(r.mutation,i,fr.empty(),Ce.now()),i)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,Xt()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=Xt()){const i=qo();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,r).next((o=>{let u=Vl();return o.forEach(((c,f)=>{u=u.insert(c,f.overlayedDocument)})),u}))))}getOverlayedDocuments(t,e){const r=qo();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,Xt())))}populateOverlays(t,e,r){const i=[];return r.forEach((o=>{e.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(t,i).next((o=>{o.forEach(((u,c)=>{e.set(u,c)}))}))}computeViews(t,e,r,i){let o=ta();const u=Wl(),c=(function(){return Wl()})();return e.forEach(((f,d)=>{const g=r.get(d.key);i.has(d.key)&&(g===void 0||g.mutation instanceof so)?o=o.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),Ql(g.mutation,d,g.mutation.getFieldMask(),Ce.now())):u.set(d.key,fr.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((d,g)=>u.set(d,g))),e.forEach(((d,g)=>c.set(d,new p8(g,u.get(d)??null)))),c)))}recalculateAndSaveOverlays(t,e){const r=Wl();let i=new De(((u,c)=>u-c)),o=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((u=>{for(const c of u)c.keys().forEach((f=>{const d=e.get(f);if(d===null)return;let g=r.get(f)||fr.empty();g=c.applyToLocalView(d,g),r.set(f,g);const m=(i.get(c.batchId)||Xt()).add(f);i=i.insert(c.batchId,m)}))})).next((()=>{const u=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,g=f.value,m=PA();g.forEach((_=>{if(!o.has(_)){const E=FA(e.get(_),r.get(_));E!==null&&m.set(_,E),o=o.add(_)}})),u.push(this.documentOverlayCache.saveOverlays(t,d,m))}return st.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,i){return(function(u){return wt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):mI(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,i):this.getDocumentsMatchingCollectionQuery(t,e,r,i)}getNextDocuments(t,e,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,i).next((o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,i-o.size):st.resolve(qo());let c=Jl,f=o;return u.next((d=>st.forEach(d,((g,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),o.get(g)?st.resolve():this.remoteDocumentCache.getEntry(t,g).next((_=>{f=f.insert(g,_)}))))).next((()=>this.populateOverlays(t,d,o))).next((()=>this.computeViews(t,f,d,Xt()))).next((g=>({batchId:c,changes:MA(g)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new wt(e)).next((r=>{let i=Vl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,i){const o=e.collectionGroup;let u=Vl();return this.indexManager.getCollectionParents(t,o).next((c=>st.forEach(c,(f=>{const d=(function(m,_){return new Wh(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,r,i).next((g=>{g.forEach(((m,_)=>{u=u.insert(m,_)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,e,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,o,i)))).next((u=>{o.forEach(((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,Pn.newInvalidDocument(g)))}));let c=Vl();return u.forEach(((f,d)=>{const g=o.get(f);g!==void 0&&Ql(g.mutation,d,fr.empty(),Ce.now()),Zh(e,d)&&(c=c.insert(f,d))})),c}))}}class v8{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return st.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(i){return{id:i.id,version:i.version,createTime:Ai(i.createTime)}})(e)),st.resolve()}getNamedQuery(t,e){return st.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(i){return{name:i.name,query:a8(i.bundledQuery),readTime:Ai(i.readTime)}})(e)),st.resolve()}}class m8{constructor(){this.overlays=new De(wt.comparator),this.qr=new Map}getOverlay(t,e){return st.resolve(this.overlays.get(e))}getOverlays(t,e){const r=qo();return st.forEach(e,(i=>this.getOverlay(t,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((i,o)=>{this.St(t,e,o)})),st.resolve()}removeOverlaysForBatchId(t,e,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),st.resolve()}getOverlaysForCollection(t,e,r){const i=qo(),o=e.length+1,u=new wt(e.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return st.resolve(i)}getOverlaysForCollectionGroup(t,e,r,i){let o=new De(((d,g)=>d-g));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>r){let g=o.get(d.largestBatchId);g===null&&(g=qo(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const c=qo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,g)=>c.set(d,g))),!(c.size()>=i)););return st.resolve(c)}St(t,e,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new LI(e,r));let o=this.qr.get(e);o===void 0&&(o=Xt(),this.qr.set(e,o)),this.qr.set(e,o.add(r.key))}}class y8{constructor(){this.sessionToken=Rn.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,st.resolve()}}class Zp{constructor(){this.Qr=new un(pn.$r),this.Ur=new un(pn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new pn(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new pn(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new wt(new Se([])),r=new pn(e,t),i=new pn(e,t+1),o=[];return this.Ur.forEachInRange([r,i],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new wt(new Se([])),r=new pn(e,t),i=new pn(e,t+1);let o=Xt();return this.Ur.forEachInRange([r,i],(u=>{o=o.add(u.key)})),o}containsKey(t){const e=new pn(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class pn{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return wt.comparator(t.key,e.key)||qt(t.Yr,e.Yr)}static Kr(t,e){return qt(t.Yr,e.Yr)||wt.comparator(t.key,e.key)}}class _8{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new un(pn.$r)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new PI(o,e,r,i);this.mutationQueue.push(u);for(const c of i)this.Zr=this.Zr.add(new pn(c.key,o)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return st.resolve(u)}lookupMutationBatch(t,e){return st.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,i=this.ei(r),o=i<0?0:i;return st.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?Fp:this.tr-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new pn(e,0),i=new pn(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(u=>{const c=this.Xr(u.Yr);o.push(c)})),st.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new un(qt);return e.forEach((i=>{const o=new pn(i,0),u=new pn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(c=>{r=r.add(c.Yr)}))})),st.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1;let o=r;wt.isDocumentKey(o)||(o=o.child(""));const u=new pn(new wt(o),0);let c=new un(qt);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(f.Yr)),!0)}),u),st.resolve(this.ti(c))}ti(t){const e=[];return t.forEach((r=>{const i=this.Xr(r);i!==null&&e.push(i)})),e}removeMutationBatch(t,e){se(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return st.forEach(e.mutations,(i=>{const o=new pn(i.key,e.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new pn(e,0),i=this.Zr.firstAfterOrEqual(r);return st.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class E8{constructor(t){this.ri=t,this.docs=(function(){return new De(wt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,i=this.docs.get(r),o=i?i.size:0,u=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return st.resolve(r?r.document.mutableCopy():Pn.newInvalidDocument(e))}getEntries(t,e){let r=ta();return e.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Pn.newInvalidDocument(i))})),st.resolve(r)}getDocumentsMatchingQuery(t,e,r,i){let o=ta();const u=e.path,c=new wt(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||K4(Y4(g),r)<=0||(i.has(g.key)||Zh(e,g))&&(o=o.insert(g.key,g.mutableCopy()))}return st.resolve(o)}getAllFromCollectionGroup(t,e,r,i){It(9500)}ii(t,e){return st.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new A8(this)}getSize(t){return st.resolve(this.size)}}class A8 extends d8{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?e.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(r)})),st.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class x8{constructor(t){this.persistence=t,this.si=new es((e=>jp(e)),Gp),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.oi=0,this._i=new Zp,this.targetCount=0,this.ai=hu.ur()}forEachTarget(t,e){return this.si.forEach(((r,i)=>e(i))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),st.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new hu(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,st.resolve()}updateTargetData(t,e){return this.Pr(e),st.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,e,r){let i=0;const o=[];return this.si.forEach(((u,c)=>{c.sequenceNumber<=e&&r.get(c.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(t,c.targetId)),i++)})),st.waitFor(o).next((()=>i))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return st.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),st.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const i=this.persistence.referenceDelegate,o=[];return i&&e.forEach((u=>{o.push(i.markPotentiallyOrphaned(t,u))})),st.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),st.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return st.resolve(r)}containsKey(t,e){return st.resolve(this._i.containsKey(e))}}class JA{constructor(t,e){this.ui={},this.overlays={},this.ci=new Xh(0),this.li=!1,this.li=!0,this.hi=new y8,this.referenceDelegate=t(this),this.Pi=new x8(this),this.indexManager=new o8,this.remoteDocumentCache=(function(i){return new E8(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new i8(e),this.Ii=new v8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new m8,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new _8(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){dt("MemoryPersistence","Starting transaction:",t);const i=new w8(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(t,e){return st.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class w8 extends Q4{constructor(t){super(),this.currentSequenceNumber=t}}class $p{constructor(t){this.persistence=t,this.Ri=new Zp,this.Vi=null}static mi(t){return new $p(t)}get fi(){if(this.Vi)return this.Vi;throw It(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),st.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),st.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),st.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.fi,(r=>{const i=wt.fromPath(r);return this.gi(t,i).next((o=>{o||e.removeEntry(i,Ot.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return st.or([()=>st.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Lh{constructor(t,e){this.persistence=t,this.pi=new es((r=>J4(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=h8(this,e)}static mi(t,e){return new Lh(t,e)}Ei(){}di(t){return st.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((i=>r+i))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return st.forEach(this.pi,((r,i)=>this.br(t,r,i).next((o=>o?st.resolve():e(i)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(t,(u=>this.br(t,u,e).next((c=>{c||(r++,o.removeEntry(u,Ot.min()))})))).next((()=>o.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),st.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),st.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),st.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=lh(t.data.value)),e}br(t,e,r){return st.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const i=this.pi.get(e);return st.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Jp{constructor(t,e,r,i){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=i}static As(t,e){let r=Xt(),i=Xt();for(const o of e.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Jp(t,e.fromCache,r,i)}}class T8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class S8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return tT()?8:Z4(Ln())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,i){const o={result:null};return this.ys(t,e).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(t,e,i,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new T8;return this.Ss(t,e,u).next((c=>{if(o.result=c,this.Vs)return this.bs(t,e,u,c.size)}))})).next((()=>o.result))}bs(t,e,r,i){return r.documentReadCount<this.fs?(Ks()<=Gt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",Ws(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),st.resolve()):(Ks()<=Gt.DEBUG&&dt("QueryEngine","Query:",Ws(e),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ks()<=Gt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",Ws(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ei(e))):st.resolve())}ys(t,e){if(K2(e))return st.resolve(null);let r=Ei(e);return this.indexManager.getIndexType(t,r).next((i=>i===0?null:(e.limit!==null&&i===1&&(e=$0(e,null,"F"),r=Ei(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((o=>{const u=Xt(...o);return this.ps.getDocuments(t,u).next((c=>this.indexManager.getMinOffset(t,r).next((f=>{const d=this.Ds(e,c);return this.Cs(e,d,u,f.readTime)?this.ys(t,$0(e,null,"F")):this.vs(t,d,e,f)}))))})))))}ws(t,e,r,i){return K2(e)||i.isEqual(Ot.min())?st.resolve(null):this.ps.getDocuments(t,r).next((o=>{const u=this.Ds(e,o);return this.Cs(e,u,r,i)?st.resolve(null):(Ks()<=Gt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ws(e)),this.vs(t,u,e,X4(i,Jl)).next((c=>c)))}))}Ds(t,e){let r=new un(DA(t));return e.forEach(((i,o)=>{Zh(t,o)&&(r=r.add(o))})),r}Cs(t,e,r,i){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(t,e,r){return Ks()<=Gt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",Ws(e)),this.ps.getDocumentsMatchingQuery(t,e,$a.min(),r)}vs(t,e,r,i){return this.ps.getDocumentsMatchingQuery(t,r,i).next((o=>(e.forEach((u=>{o=o.insert(u.key,u)})),o)))}}const tg="LocalStore",C8=3e8;class I8{constructor(t,e,r,i){this.persistence=t,this.Fs=e,this.serializer=i,this.Ms=new De(qt),this.xs=new es((o=>jp(o)),Gp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new g8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function b8(n,t,e,r){return new I8(n,t,e,r)}async function tx(n,t){const e=Nt(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return e.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],c=[];let f=Xt();for(const d of i){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of o){c.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return e.localDocuments.getDocuments(r,f).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:c})))}))}))}function R8(n,t){const e=Nt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,f,d,g){const m=d.batch,_=m.keys();let E=st.resolve();return _.forEach((w=>{E=E.next((()=>g.getEntry(f,w))).next((S=>{const I=d.docVersions.get(w);se(I!==null,48541),S.version.compareTo(I)<0&&(m.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),g.addEntry(S)))}))})),E.next((()=>c.mutationQueue.removeMutationBatch(f,m)))})(e,r,t,o).next((()=>o.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=Xt();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(r,i)))}))}function ex(n){const t=Nt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function O8(n,t){const e=Nt(n),r=t.snapshotVersion;let i=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=e.Ns.newChangeBuffer({trackRemovals:!0});i=e.Ms;const c=[];t.targetChanges.forEach(((g,m)=>{const _=i.get(m);if(!_)return;c.push(e.Pi.removeMatchingKeys(o,g.removedDocuments,m).next((()=>e.Pi.addMatchingKeys(o,g.addedDocuments,m))));let E=_.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(m)!==null?E=E.withResumeToken(Rn.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,r)),i=i.insert(m,E),(function(S,I,N){return S.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=C8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(_,E,g)&&c.push(e.Pi.updateTargetData(o,E))}));let f=ta(),d=Xt();if(t.documentUpdates.forEach((g=>{t.resolvedLimboDocuments.has(g)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(o,g))})),c.push(D8(o,u,t.documentUpdates).next((g=>{f=g.ks,d=g.qs}))),!r.isEqual(Ot.min())){const g=e.Pi.getLastRemoteSnapshotVersion(o).next((m=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(g)}return st.waitFor(c).next((()=>u.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(e.Ms=i,o)))}function D8(n,t,e){let r=Xt(),i=Xt();return e.forEach((o=>r=r.add(o))),t.getEntries(n,r).next((o=>{let u=ta();return e.forEach(((c,f)=>{const d=o.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(Ot.min())?(t.removeEntry(c,f.readTime),u=u.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),u=u.insert(c,f)):dt(tg,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)})),{ks:u,qs:i}}))}function N8(n,t){const e=Nt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Fp),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function M8(n,t){const e=Nt(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return e.Pi.getTargetData(r,t).next((o=>o?(i=o,st.resolve(i)):e.Pi.allocateTargetId(r).next((u=>(i=new ja(t,u,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=e.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function rp(n,t,e){const r=Nt(n),i=r.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!xu(u))throw u;dt(tg,`Failed to update sequence numbers for target ${t}: ${u}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function s_(n,t,e){const r=Nt(n);let i=Ot.min(),o=Xt();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,g){const m=Nt(f),_=m.xs.get(g);return _!==void 0?st.resolve(m.Ms.get(_)):m.Pi.getTargetData(d,g)})(r,u,Ei(t)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,c.targetId).next((f=>{o=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,t,e?i:Ot.min(),e?o:Xt()))).next((c=>(P8(r,_I(t),c),{documents:c,Qs:o})))))}function P8(n,t,e){let r=n.Os.get(t)||Ot.min();e.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(t,r)}class u_{constructor(){this.activeTargetIds=SI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class L8{constructor(){this.Mo=new u_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new u_,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class B8{Oo(t){}shutdown(){}}const l_="ConnectivityMonitor";class c_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){dt(l_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){dt(l_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Zf=null;function ip(){return Zf===null?Zf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zf++,"0x"+Zf.toString(16)}const S0="RestConnection",V8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class k8{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===bh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(t,e,r,i,o){const u=ip(),c=this.zo(t,e.toUriEncodedString());dt(S0,`Sending RPC '${t}' ${u}:`,c,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,o);const{host:d}=new URL(c),g=vu(d);return this.Jo(t,c,f,r,g).then((m=>(dt(S0,`Received RPC '${t}' ${u}: `,m),m)),(m=>{throw uu(S0,`RPC '${t}' ${u} failed with error: `,m,"url: ",c,"request:",r),m}))}Ho(t,e,r,i,o,u){return this.Go(t,e,r,i,o)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Eu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((i,o)=>t[o]=i)),r&&r.headers.forEach(((i,o)=>t[o]=i))}zo(t,e){const r=V8[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}class U8{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Dn="WebChannelConnection";class F8 extends k8{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,i,o){const u=ip();return new Promise(((c,f)=>{const d=new aA;d.setWithCredentials(!0),d.listenOnce(oA.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case uh.NO_ERROR:const m=d.getResponseJson();dt(Dn,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(m)),c(m);break;case uh.TIMEOUT:dt(Dn,`RPC '${t}' ${u} timed out`),f(new _t(ut.DEADLINE_EXCEEDED,"Request time out"));break;case uh.HTTP_ERROR:const _=d.getStatus();if(dt(Dn,`RPC '${t}' ${u} failed with status:`,_,"response text:",d.getResponseText()),_>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const w=E?.error;if(w&&w.status&&w.message){const S=(function(N){const L=N.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(L)>=0?L:ut.UNKNOWN})(w.status);f(new _t(S,w.message))}else f(new _t(ut.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new _t(ut.UNAVAILABLE,"Connection failed."));break;default:It(9055,{l_:t,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{dt(Dn,`RPC '${t}' ${u} completed.`)}}));const g=JSON.stringify(i);dt(Dn,`RPC '${t}' ${u} sending request:`,i),d.send(e,"POST",g,r,15)}))}T_(t,e,r){const i=ip(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=lA(),c=uA(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,r),f.encodeInitMessageHeaders=!0;const g=o.join("");dt(Dn,`Creating RPC '${t}' stream ${i}: ${g}`,f);const m=u.createWebChannel(g,f);this.I_(m);let _=!1,E=!1;const w=new U8({Yo:I=>{E?dt(Dn,`Not sending because RPC '${t}' stream ${i} is closed:`,I):(_||(dt(Dn,`Opening RPC '${t}' stream ${i} transport.`),m.open(),_=!0),dt(Dn,`RPC '${t}' stream ${i} sending:`,I),m.send(I))},Zo:()=>m.close()}),S=(I,N,L)=>{I.listen(N,(V=>{try{L(V)}catch(j){setTimeout((()=>{throw j}),0)}}))};return S(m,Bl.EventType.OPEN,(()=>{E||(dt(Dn,`RPC '${t}' stream ${i} transport opened.`),w.o_())})),S(m,Bl.EventType.CLOSE,(()=>{E||(E=!0,dt(Dn,`RPC '${t}' stream ${i} transport closed`),w.a_(),this.E_(m))})),S(m,Bl.EventType.ERROR,(I=>{E||(E=!0,uu(Dn,`RPC '${t}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),w.a_(new _t(ut.UNAVAILABLE,"The operation could not be completed")))})),S(m,Bl.EventType.MESSAGE,(I=>{if(!E){const N=I.data[0];se(!!N,16349);const L=N,V=L?.error||L[0]?.error;if(V){dt(Dn,`RPC '${t}' stream ${i} received error:`,V);const j=V.status;let Q=(function(R){const P=Ke[R];if(P!==void 0)return HA(P)})(j),Z=V.message;Q===void 0&&(Q=ut.INTERNAL,Z="Unknown error status: "+j+" with message "+V.message),E=!0,w.a_(new _t(Q,Z)),m.close()}else dt(Dn,`RPC '${t}' stream ${i} received:`,N),w.u_(N)}})),S(c,sA.STAT_EVENT,(I=>{I.stat===X0.PROXY?dt(Dn,`RPC '${t}' stream ${i} detected buffering proxy`):I.stat===X0.NOPROXY&&dt(Dn,`RPC '${t}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function C0(){return typeof document<"u"?document:null}function ed(n){return new GI(n,!0)}class nx{constructor(t,e,r=1e3,i=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,e-r);i>0&&dt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const f_="PersistentStream";class rx{constructor(t,e,r,i,o,u,c,f){this.Mi=t,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nx(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===ut.RESOURCE_EXHAUSTED?(Ji(e.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===ut.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===e&&this.G_(r,i)}),(r=>{t((()=>{const i=new _t(ut.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return dt(f_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(dt(f_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class z8 extends rx{constructor(t,e,r,i,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,i,u),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=YI(this.serializer,t),r=(function(o){if(!("targetChange"in o))return Ot.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ot.min():u.readTime?Ai(u.readTime):Ot.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=np(this.serializer),e.addTarget=(function(o,u){let c;const f=u.target;if(c=Z0(f)?{documents:QI(o,f)}:{query:ZI(o,f).ft},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=qA(o,u.resumeToken);const d=J0(o,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(Ot.min())>0){c.readTime=Ph(o,u.snapshotVersion.toTimestamp());const d=J0(o,u.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,t);const r=JI(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=np(this.serializer),e.removeTarget=t,this.q_(e)}}class H8 extends rx{constructor(t,e,r,i,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,i,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return se(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,se(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){se(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=WI(t.writeResults,t.commitTime),r=Ai(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=np(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>KI(this.serializer,r)))};this.q_(e)}}class j8{}class G8 extends j8{constructor(t,e,r,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new _t(ut.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(t,tp(e,r),i,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _t(ut.UNKNOWN,o.toString())}))}Ho(t,e,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Ho(t,tp(e,r),i,u,c,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _t(ut.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class q8{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ji(e),this.aa=!1):dt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ts="RemoteStore";class X8{constructor(t,e,r,i,o){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{ns(this)&&(dt(ts,"Restarting streams for network reachability change."),await(async function(f){const d=Nt(f);d.Ea.add(4),await dc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await nd(d)})(this))}))})),this.Ra=new q8(r,i)}}async function nd(n){if(ns(n))for(const t of n.da)await t(!0)}async function dc(n){for(const t of n.da)await t(!1)}function ix(n,t){const e=Nt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),ig(e)?rg(e):wu(e).O_()&&ng(e,t))}function eg(n,t){const e=Nt(n),r=wu(e);e.Ia.delete(t),r.O_()&&ax(e,t),e.Ia.size===0&&(r.O_()?r.L_():ns(e)&&e.Ra.set("Unknown"))}function ng(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ot.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}wu(n).Y_(t)}function ax(n,t){n.Va.Ue(t),wu(n).Z_(t)}function rg(n){n.Va=new FI({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),wu(n).start(),n.Ra.ua()}function ig(n){return ns(n)&&!wu(n).x_()&&n.Ia.size>0}function ns(n){return Nt(n).Ea.size===0}function ox(n){n.Va=void 0}async function Y8(n){n.Ra.set("Online")}async function K8(n){n.Ia.forEach(((t,e)=>{ng(n,t)}))}async function W8(n,t){ox(n),ig(n)?(n.Ra.ha(t),rg(n)):n.Ra.set("Unknown")}async function Q8(n,t,e){if(n.Ra.set("Online"),t instanceof GA&&t.state===2&&t.cause)try{await(async function(i,o){const u=o.cause;for(const c of o.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,u),i.Ia.delete(c),i.Va.removeTarget(c))})(n,t)}catch(r){dt(ts,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Bh(n,r)}else if(t instanceof hh?n.Va.Ze(t):t instanceof jA?n.Va.st(t):n.Va.tt(t),!e.isEqual(Ot.min()))try{const r=await ex(n.localStore);e.compareTo(r)>=0&&await(function(o,u){const c=o.Va.Tt(u);return c.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.Ia.get(d);g&&o.Ia.set(d,g.withResumeToken(f.resumeToken,u))}})),c.targetMismatches.forEach(((f,d)=>{const g=o.Ia.get(f);if(!g)return;o.Ia.set(f,g.withResumeToken(Rn.EMPTY_BYTE_STRING,g.snapshotVersion)),ax(o,f);const m=new ja(g.target,f,d,g.sequenceNumber);ng(o,m)})),o.remoteSyncer.applyRemoteEvent(c)})(n,e)}catch(r){dt(ts,"Failed to raise snapshot:",r),await Bh(n,r)}}async function Bh(n,t,e){if(!xu(t))throw t;n.Ea.add(1),await dc(n),n.Ra.set("Offline"),e||(e=()=>ex(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{dt(ts,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await nd(n)}))}function sx(n,t){return t().catch((e=>Bh(n,e,t)))}async function rd(n){const t=Nt(n),e=no(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Fp;for(;Z8(t);)try{const i=await N8(t.localStore,r);if(i===null){t.Ta.length===0&&e.L_();break}r=i.batchId,$8(t,i)}catch(i){await Bh(t,i)}ux(t)&&lx(t)}function Z8(n){return ns(n)&&n.Ta.length<10}function $8(n,t){n.Ta.push(t);const e=no(n);e.O_()&&e.X_&&e.ea(t.mutations)}function ux(n){return ns(n)&&!no(n).x_()&&n.Ta.length>0}function lx(n){no(n).start()}async function J8(n){no(n).ra()}async function t6(n){const t=no(n);for(const e of n.Ta)t.ea(e.mutations)}async function e6(n,t,e){const r=n.Ta.shift(),i=Kp.from(r,t,e);await sx(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await rd(n)}async function n6(n,t){t&&no(n).X_&&await(async function(r,i){if((function(u){return VI(u)&&u!==ut.ABORTED})(i.code)){const o=r.Ta.shift();no(r).B_(),await sx(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await rd(r)}})(n,t),ux(n)&&lx(n)}async function h_(n,t){const e=Nt(n);e.asyncQueue.verifyOperationInProgress(),dt(ts,"RemoteStore received new credentials");const r=ns(e);e.Ea.add(3),await dc(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await nd(e)}async function r6(n,t){const e=Nt(n);t?(e.Ea.delete(2),await nd(e)):t||(e.Ea.add(2),await dc(e),e.Ra.set("Unknown"))}function wu(n){return n.ma||(n.ma=(function(e,r,i){const o=Nt(e);return o.sa(),new z8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Xo:Y8.bind(null,n),t_:K8.bind(null,n),r_:W8.bind(null,n),H_:Q8.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),ig(n)?rg(n):n.Ra.set("Unknown")):(await n.ma.stop(),ox(n))}))),n.ma}function no(n){return n.fa||(n.fa=(function(e,r,i){const o=Nt(e);return o.sa(),new H8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:J8.bind(null,n),r_:n6.bind(null,n),ta:t6.bind(null,n),na:e6.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await rd(n)):(await n.fa.stop(),n.Ta.length>0&&(dt(ts,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class ag{constructor(t,e,r,i,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Yo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,i,o){const u=Date.now()+r,c=new ag(t,e,u,i,o);return c.start(r),c}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(ut.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(n,t){if(Ji("AsyncQueue",`${t}: ${n}`),xu(n))return new _t(ut.UNAVAILABLE,`${t}: ${n}`);throw n}class ru{static emptySet(t){return new ru(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||wt.comparator(e.key,r.key):(e,r)=>wt.comparator(e.key,r.key),this.keyedMap=Vl(),this.sortedSet=new De(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof ru)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const i=e.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new ru;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class d_{constructor(){this.ga=new De(wt.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):It(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class du{constructor(t,e,r,i,o,u,c,f,d){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,r,i,o){const u=[];return e.forEach((c=>{u.push({type:0,doc:c})})),new du(t,e,ru.emptySet(e),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==r[i].type||!e[i].doc.isEqual(r[i].doc))return!1;return!0}}class i6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class a6{constructor(){this.queries=p_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const i=Nt(e),o=i.queries;i.queries=p_(),o.forEach(((u,c)=>{for(const f of c.Sa)f.onError(r)}))})(this,new _t(ut.ABORTED,"Firestore shutting down"))}}function p_(){return new es((n=>OA(n)),Qh)}async function o6(n,t){const e=Nt(n);let r=3;const i=t.query;let o=e.queries.get(i);o?!o.ba()&&t.Da()&&(r=2):(o=new i6,r=t.Da()?0:1);try{switch(r){case 0:o.wa=await e.onListen(i,!0);break;case 1:o.wa=await e.onListen(i,!1);break;case 2:await e.onFirstRemoteStoreListen(i)}}catch(u){const c=og(u,`Initialization of query '${Ws(t.query)}' failed`);return void t.onError(c)}e.queries.set(i,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&sg(e)}async function s6(n,t){const e=Nt(n),r=t.query;let i=3;const o=e.queries.get(r);if(o){const u=o.Sa.indexOf(t);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?i=t.Da()?0:1:!o.ba()&&t.Da()&&(i=2))}switch(i){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function u6(n,t){const e=Nt(n);let r=!1;for(const i of t){const o=i.query,u=e.queries.get(o);if(u){for(const c of u.Sa)c.Fa(i)&&(r=!0);u.wa=i}}r&&sg(e)}function l6(n,t,e){const r=Nt(n),i=r.queries.get(t);if(i)for(const o of i.Sa)o.onError(e);r.queries.delete(t)}function sg(n){n.Ca.forEach((t=>{t.next()}))}var ap,g_;(g_=ap||(ap={})).Ma="default",g_.Cache="cache";class c6{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new du(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=du.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ap.Cache}}class cx{constructor(t){this.key=t}}class fx{constructor(t){this.key=t}}class f6{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xt(),this.mutatedKeys=Xt(),this.eu=DA(t),this.tu=new ru(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new d_,i=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,u=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(((g,m)=>{const _=i.get(g),E=Zh(this.query,m)?m:null,w=!!_&&this.mutatedKeys.has(_.key),S=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let I=!1;_&&E?_.data.isEqual(E.data)?w!==S&&(r.track({type:3,doc:E}),I=!0):this.su(_,E)||(r.track({type:2,doc:E}),I=!0,(f&&this.eu(E,f)>0||d&&this.eu(E,d)<0)&&(c=!0)):!_&&E?(r.track({type:0,doc:E}),I=!0):_&&!E&&(r.track({type:1,doc:_}),I=!0,(f||d)&&(c=!0)),I&&(E?(u=u.add(E),o=S?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:u,iu:r,Cs:c,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,i){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((g,m)=>(function(E,w){const S=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It(20277,{Rt:I})}};return S(E)-S(w)})(g.type,m.type)||this.eu(g.doc,m.doc))),this.ou(r),i=i??!1;const c=e&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,d=f!==this.Za;return this.Za=f,u.length!==0||d?{snapshot:new du(this.query,t.tu,o,u,t.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new d_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Xt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new fx(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new cx(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=Xt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return du.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ug="SyncEngine";class h6{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class d6{constructor(t){this.key=t,this.hu=!1}}class p6{constructor(t,e,r,i,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new es((c=>OA(c)),Qh),this.Iu=new Map,this.Eu=new Set,this.du=new De(wt.comparator),this.Au=new Map,this.Ru=new Zp,this.Vu={},this.mu=new Map,this.fu=hu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function g6(n,t,e=!0){const r=mx(n);let i;const o=r.Tu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await hx(r,t,e,!0),i}async function v6(n,t){const e=mx(n);await hx(e,t,!0,!1)}async function hx(n,t,e,r){const i=await M8(n.localStore,Ei(t)),o=i.targetId,u=n.sharedClientState.addLocalQueryTarget(o,e);let c;return r&&(c=await m6(n,t,o,u==="current",i.resumeToken)),n.isPrimaryClient&&e&&ix(n.remoteStore,i),c}async function m6(n,t,e,r,i){n.pu=(m,_,E)=>(async function(S,I,N,L){let V=I.view.ru(N);V.Cs&&(V=await s_(S.localStore,I.query,!1).then((({documents:b})=>I.view.ru(b,V))));const j=L&&L.targetChanges.get(I.targetId),Q=L&&L.targetMismatches.get(I.targetId)!=null,Z=I.view.applyChanges(V,S.isPrimaryClient,j,Q);return m_(S,I.targetId,Z.au),Z.snapshot})(n,m,_,E);const o=await s_(n.localStore,t,!0),u=new f6(t,o.Qs),c=u.ru(o.documents),f=hc.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",i),d=u.applyChanges(c,n.isPrimaryClient,f);m_(n,e,d.au);const g=new h6(t,e,u);return n.Tu.set(t,g),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),d.snapshot}async function y6(n,t,e){const r=Nt(n),i=r.Tu.get(t),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((u=>!Qh(u,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await rp(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),e&&eg(r.remoteStore,i.targetId),op(r,i.targetId)})).catch(Au)):(op(r,i.targetId),await rp(r.localStore,i.targetId,!0))}async function _6(n,t){const e=Nt(n),r=e.Tu.get(t),i=e.Iu.get(r.targetId);e.isPrimaryClient&&i.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),eg(e.remoteStore,r.targetId))}async function E6(n,t,e){const r=I6(n);try{const i=await(function(u,c){const f=Nt(u),d=Ce.now(),g=c.reduce(((E,w)=>E.add(w.key)),Xt());let m,_;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let w=ta(),S=Xt();return f.Ns.getEntries(E,g).next((I=>{w=I,w.forEach(((N,L)=>{L.isValidDocument()||(S=S.add(N))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,w))).next((I=>{m=I;const N=[];for(const L of c){const V=NI(L,m.get(L.key).overlayedDocument);V!=null&&N.push(new so(L.key,V,wA(V.value.mapValue),Kr.exists(!0)))}return f.mutationQueue.addMutationBatch(E,d,N,c)})).next((I=>{_=I;const N=I.applyToLocalDocumentSet(m,S);return f.documentOverlayCache.saveOverlays(E,I.batchId,N)}))})).then((()=>({batchId:_.batchId,changes:MA(m)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),(function(u,c,f){let d=u.Vu[u.currentUser.toKey()];d||(d=new De(qt)),d=d.insert(c,f),u.Vu[u.currentUser.toKey()]=d})(r,i.batchId,e),await pc(r,i.changes),await rd(r.remoteStore)}catch(i){const o=og(i,"Failed to persist write");e.reject(o)}}async function dx(n,t){const e=Nt(n);try{const r=await O8(e.localStore,t);t.targetChanges.forEach(((i,o)=>{const u=e.Au.get(o);u&&(se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.hu=!0:i.modifiedDocuments.size>0?se(u.hu,14607):i.removedDocuments.size>0&&(se(u.hu,42227),u.hu=!1))})),await pc(e,r,t)}catch(r){await Au(r)}}function v_(n,t,e){const r=Nt(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const i=[];r.Tu.forEach(((o,u)=>{const c=u.view.va(t);c.snapshot&&i.push(c.snapshot)})),(function(u,c){const f=Nt(u);f.onlineState=c;let d=!1;f.queries.forEach(((g,m)=>{for(const _ of m.Sa)_.va(c)&&(d=!0)})),d&&sg(f)})(r.eventManager,t),i.length&&r.Pu.H_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function A6(n,t,e){const r=Nt(n);r.sharedClientState.updateQueryState(t,"rejected",e);const i=r.Au.get(t),o=i&&i.key;if(o){let u=new De(wt.comparator);u=u.insert(o,Pn.newNoDocument(o,Ot.min()));const c=Xt().add(o),f=new td(Ot.min(),new Map,new De(qt),u,c);await dx(r,f),r.du=r.du.remove(o),r.Au.delete(t),lg(r)}else await rp(r.localStore,t,!1).then((()=>op(r,t,e))).catch(Au)}async function x6(n,t){const e=Nt(n),r=t.batch.batchId;try{const i=await R8(e.localStore,t);gx(e,r,null),px(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await pc(e,i)}catch(i){await Au(i)}}async function w6(n,t,e){const r=Nt(n);try{const i=await(function(u,c){const f=Nt(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let g;return f.mutationQueue.lookupMutationBatch(d,c).next((m=>(se(m!==null,37113),g=m.keys(),f.mutationQueue.removeMutationBatch(d,m)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g))).next((()=>f.localDocuments.getDocuments(d,g)))}))})(r.localStore,t);gx(r,t,e),px(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await pc(r,i)}catch(i){await Au(i)}}function px(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function gx(n,t,e){const r=Nt(n);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(e?o.reject(e):o.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function op(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||vx(n,r)}))}function vx(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(eg(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),lg(n))}function m_(n,t,e){for(const r of e)r instanceof cx?(n.Ru.addReference(r.key,t),T6(n,r)):r instanceof fx?(dt(ug,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||vx(n,r.key)):It(19791,{wu:r})}function T6(n,t){const e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Eu.has(r)||(dt(ug,"New document in limbo: "+e),n.Eu.add(r),lg(n))}function lg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new wt(Se.fromString(t)),r=n.fu.next();n.Au.set(r,new d6(e)),n.du=n.du.insert(e,r),ix(n.remoteStore,new ja(Ei(qp(e.path)),r,"TargetPurposeLimboResolution",Xh.ce))}}async function pc(n,t,e){const r=Nt(n),i=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{u.push(r.pu(f,t,e).then((d=>{if((d||e)&&r.isPrimaryClient){const g=d?!d.fromCache:e?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(d){i.push(d);const g=Jp.As(f.targetId,d);o.push(g)}})))})),await Promise.all(u),r.Pu.H_(i),await(async function(f,d){const g=Nt(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>st.forEach(d,(_=>st.forEach(_.Es,(E=>g.persistence.referenceDelegate.addReference(m,_.targetId,E))).next((()=>st.forEach(_.ds,(E=>g.persistence.referenceDelegate.removeReference(m,_.targetId,E)))))))))}catch(m){if(!xu(m))throw m;dt(tg,"Failed to update sequence numbers: "+m)}for(const m of d){const _=m.targetId;if(!m.fromCache){const E=g.Ms.get(_),w=E.snapshotVersion,S=E.withLastLimboFreeSnapshotVersion(w);g.Ms=g.Ms.insert(_,S)}}})(r.localStore,o))}async function S6(n,t){const e=Nt(n);if(!e.currentUser.isEqual(t)){dt(ug,"User change. New user:",t.toKey());const r=await tx(e.localStore,t);e.currentUser=t,(function(o,u){o.mu.forEach((c=>{c.forEach((f=>{f.reject(new _t(ut.CANCELLED,u))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await pc(e,r.Ls)}}function C6(n,t){const e=Nt(n),r=e.Au.get(t);if(r&&r.hu)return Xt().add(r.key);{let i=Xt();const o=e.Iu.get(t);if(!o)return i;for(const u of o){const c=e.Tu.get(u);i=i.unionWith(c.view.nu)}return i}}function mx(n){const t=Nt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=dx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=C6.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=A6.bind(null,t),t.Pu.H_=u6.bind(null,t.eventManager),t.Pu.yu=l6.bind(null,t.eventManager),t}function I6(n){const t=Nt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=x6.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=w6.bind(null,t),t}class Vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ed(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return b8(this.persistence,new S8,t.initialUser,this.serializer)}Cu(t){return new JA($p.mi,this.serializer)}Du(t){return new L8}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vh.provider={build:()=>new Vh};class b6 extends Vh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){se(this.persistence.referenceDelegate instanceof Lh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new c8(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Zn.withCacheSize(this.cacheSizeBytes):Zn.DEFAULT;return new JA((r=>Lh.mi(r,e)),this.serializer)}}class sp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>v_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=S6.bind(null,this.syncEngine),await r6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new a6})()}createDatastore(t){const e=ed(t.databaseInfo.databaseId),r=(function(o){return new F8(o)})(t.databaseInfo);return(function(o,u,c,f){return new G8(o,u,c,f)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,i,o,u,c){return new X8(r,i,o,u,c)})(this.localStore,this.datastore,t.asyncQueue,(e=>v_(this.syncEngine,e,0)),(function(){return c_.v()?new c_:new B8})())}createSyncEngine(t,e){return(function(i,o,u,c,f,d,g){const m=new p6(i,o,u,c,f,d);return g&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=Nt(e);dt(ts,"RemoteStore shutting down."),r.Ea.add(5),await dc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sp.provider={build:()=>new sp};class R6{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ji("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const ro="FirestoreClient";class O6{constructor(t,e,r,i,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=i,this.user=Mn.UNAUTHENTICATED,this.clientId=kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{dt(ro,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(dt(ro,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Yo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=og(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function I0(n,t){n.asyncQueue.verifyOperationInProgress(),dt(ro,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await tx(t.localStore,i),r=i)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function y_(n,t){n.asyncQueue.verifyOperationInProgress();const e=await D6(n);dt(ro,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>h_(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>h_(t.remoteStore,i))),n._onlineComponents=t}async function D6(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){dt(ro,"Using user provided OfflineComponentProvider");try{await I0(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(i){return i.name==="FirebaseError"?i.code===ut.FAILED_PRECONDITION||i.code===ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(e))throw e;uu("Error using user provided cache. Falling back to memory cache: "+e),await I0(n,new Vh)}}else dt(ro,"Using default OfflineComponentProvider"),await I0(n,new b6(void 0));return n._offlineComponents}async function yx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(dt(ro,"Using user provided OnlineComponentProvider"),await y_(n,n._uninitializedComponentsProvider._online)):(dt(ro,"Using default OnlineComponentProvider"),await y_(n,new sp))),n._onlineComponents}function N6(n){return yx(n).then((t=>t.syncEngine))}async function __(n){const t=await yx(n),e=t.eventManager;return e.onListen=g6.bind(null,t.syncEngine),e.onUnlisten=y6.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=v6.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=_6.bind(null,t.syncEngine),e}function _x(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const E_=new Map;const Ex="firestore.googleapis.com",A_=!0;class x_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new _t(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ex,this.ssl=A_}else this.host=t.host,this.ssl=t.ssl??A_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=$A;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<u8)throw new _t(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}q4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_x(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new _t(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new _t(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new _t(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class id{constructor(t,e,r,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new _t(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new L4;switch(r.type){case"firstParty":return new U4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _t(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=E_.get(e);r&&(dt("ComponentProvider","Removing Datastore"),E_.delete(e),r.terminate())})(this),Promise.resolve()}}function M6(n,t,e,r={}){n=Ka(n,id);const i=vu(t),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},c=`${t}:${e}`;i&&(mE(`https://${c}`),yE("Firestore",!0)),o.host!==Ex&&o.host!==c&&uu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:c,ssl:i,emulatorOptions:r};if(!Qo(f,u)&&(n._setSettings(f),r.mockUserToken)){let d,g;if(typeof r.mockUserToken=="string")d=r.mockUserToken,g=Mn.MOCK_USER;else{d=q3(r.mockUserToken,n._app?.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new _t(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Mn(m)}n._authCredentials=new B4(new fA(d,g))}}class ad{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ad(this.firestore,t,this._query)}}class on{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new on(this.firestore,t,this._key)}toJSON(){return{type:on._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(cc(e,on._jsonSchema))return new on(t,r||null,new wt(Se.fromString(e.referencePath)))}}on._jsonSchemaVersion="firestore/documentReference/1.0",on._jsonSchema={type:We("string",on._jsonSchemaVersion),referencePath:We("string")};class Wa extends ad{constructor(t,e,r){super(t,e,qp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new on(this.firestore,null,new wt(t))}withConverter(t){return new Wa(this.firestore,t,this._path)}}function w_(n,t,...e){if(n=bn(n),hA("collection","path",t),n instanceof id){const r=Se.fromString(t,...e);return L2(r),new Wa(n,null,r)}{if(!(n instanceof on||n instanceof Wa))throw new _t(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Se.fromString(t,...e));return L2(r),new Wa(n.firestore,null,r)}}function up(n,t,...e){if(n=bn(n),arguments.length===1&&(t=kp.newId()),hA("doc","path",t),n instanceof id){const r=Se.fromString(t,...e);return P2(r),new on(n,null,new wt(r))}{if(!(n instanceof on||n instanceof Wa))throw new _t(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Se.fromString(t,...e));return P2(r),new on(n.firestore,n instanceof Wa?n.converter:null,new wt(r))}}const T_="AsyncQueue";class S_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nx(this,"async_queue_retry"),this._c=()=>{const r=C0();r&&dt(T_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=C0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=C0();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Yo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!xu(t))throw t;dt(T_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Ji("INTERNAL UNHANDLED ERROR: ",C_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const i=ag.createAndSchedule(this,t,e,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&It(47125,{Pc:C_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function C_(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function I_(n){return(function(e,r){if(typeof e!="object"||e===null)return!1;const i=e;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}class pu extends id{constructor(t,e,r,i){super(t,e,r,i),this.type="firestore",this._queue=new S_,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new S_(t),this._firestoreClient=void 0,await t}}}function P6(n,t){const e=typeof n=="object"?n:xE(),r=typeof n=="string"?n:bh,i=Cp(e,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=j3("firestore");o&&M6(i,...o)}return i}function Ax(n){if(n._terminated)throw new _t(ut.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||L6(n),n._firestoreClient}function L6(n){const t=n._freezeSettings(),e=(function(i,o,u,c){return new nI(i,o,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,_x(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new O6(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(i){const o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(n._componentsProvider))}class Cr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Cr(Rn.fromBase64String(t))}catch(e){throw new _t(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Cr(Rn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Cr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(cc(t,Cr._jsonSchema))return Cr.fromBase64String(t.bytes)}}Cr._jsonSchemaVersion="firestore/bytes/1.0",Cr._jsonSchema={type:We("string",Cr._jsonSchemaVersion),bytes:We("string")};class od{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new _t(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class cg{constructor(t){this._methodName=t}}class xi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new _t(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new _t(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qt(this._lat,t._lat)||qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(t){if(cc(t,xi._jsonSchema))return new xi(t.latitude,t.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:We("string",xi._jsonSchemaVersion),latitude:We("number"),longitude:We("number")};class wi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(cc(t,wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new wi(t.vectorValues);throw new _t(ut.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:We("string",wi._jsonSchemaVersion),vectorValues:We("object")};const B6=/^__.*__$/;class V6{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new so(t,this.data,this.fieldMask,e,this.fieldTransforms):new fc(t,this.data,e,this.fieldTransforms)}}class xx{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new so(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function wx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It(40011,{Ac:n})}}class fg{constructor(t,e,r,i,o,u){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new fg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return kh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(wx(this.Ac)&&B6.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class k6{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||ed(t)}Cc(t,e,r,i=!1){return new fg({Ac:t,methodName:e,Dc:r,path:Cn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tx(n){const t=n._freezeSettings(),e=ed(n._databaseId);return new k6(n._databaseId,!!t.ignoreUndefinedProperties,e)}function U6(n,t,e,r,i,o={}){const u=n.Cc(o.merge||o.mergeFields?2:0,t,e,i);hg("Data must be an object, but it was:",u,r);const c=Sx(r,u);let f,d;if(o.merge)f=new fr(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const m of o.mergeFields){const _=lp(t,m,e);if(!u.contains(_))throw new _t(ut.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Ix(g,_)||g.push(_)}f=new fr(g),d=u.fieldTransforms.filter((m=>f.covers(m.field)))}else f=null,d=u.fieldTransforms;return new V6(new $n(c),f,d)}class sd extends cg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof sd}}function F6(n,t,e,r){const i=n.Cc(1,t,e);hg("Data must be an object, but it was:",i,r);const o=[],u=$n.empty();oo(r,((f,d)=>{const g=dg(t,f,e);d=bn(d);const m=i.yc(g);if(d instanceof sd)o.push(g);else{const _=ud(d,m);_!=null&&(o.push(g),u.set(g,_))}}));const c=new fr(o);return new xx(u,c,i.fieldTransforms)}function z6(n,t,e,r,i,o){const u=n.Cc(1,t,e),c=[lp(t,r,e)],f=[i];if(o.length%2!=0)throw new _t(ut.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)c.push(lp(t,o[_])),f.push(o[_+1]);const d=[],g=$n.empty();for(let _=c.length-1;_>=0;--_)if(!Ix(d,c[_])){const E=c[_];let w=f[_];w=bn(w);const S=u.yc(E);if(w instanceof sd)d.push(E);else{const I=ud(w,S);I!=null&&(d.push(E),g.set(E,I))}}const m=new fr(d);return new xx(g,m,u.fieldTransforms)}function ud(n,t){if(Cx(n=bn(n)))return hg("Unsupported field value:",t,n),Sx(n,t);if(n instanceof cg)return(function(r,i){if(!wx(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let u=0;for(const c of r){let f=ud(c,i.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(n,t)}return(function(r,i){if((r=bn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CI(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ce.fromDate(r);return{timestampValue:Ph(i.serializer,o)}}if(r instanceof Ce){const o=new Ce(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ph(i.serializer,o)}}if(r instanceof xi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cr)return{bytesValue:qA(i.serializer,r._byteString)};if(r instanceof on){const o=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw i.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Qp(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof wi)return(function(u,c){return{mapValue:{fields:{[AA]:{stringValue:xA},[Rh]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return Xp(c.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Up(r)}`)})(n,t)}function Sx(n,t){const e={};return gA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):oo(n,((r,i)=>{const o=ud(i,t.mc(r));o!=null&&(e[r]=o)})),{mapValue:{fields:e}}}function Cx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ce||n instanceof xi||n instanceof Cr||n instanceof on||n instanceof cg||n instanceof wi)}function hg(n,t,e){if(!Cx(e)||!dA(e)){const r=Up(e);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function lp(n,t,e){if((t=bn(t))instanceof od)return t._internalPath;if(typeof t=="string")return dg(n,t);throw kh("Field path arguments must be of type string or ",n,!1,void 0,e)}const H6=new RegExp("[~\\*/\\[\\]]");function dg(n,t,e){if(t.search(H6)>=0)throw kh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new od(...t.split("."))._internalPath}catch{throw kh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function kh(n,t,e,r,i){const o=r&&!r.isEmpty(),u=i!==void 0;let c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${i}`),f+=")"),new _t(ut.INVALID_ARGUMENT,c+n+f)}function Ix(n,t){return n.some((e=>e.isEqual(t)))}class bx{constructor(t,e,r,i,o){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new j6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Rx("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class j6 extends bx{data(){return super.data()}}function Rx(n,t){return typeof t=="string"?dg(n,t):t instanceof od?t._internalPath:t._delegate._internalPath}function G6(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _t(ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q6{convertValue(t,e="none"){switch(eo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ke(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(to(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw It(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return oo(t,((i,o)=>{r[i]=this.convertValue(o,e)})),r}convertVectorValue(t){const e=t.fields?.[Rh].arrayValue?.values?.map((r=>ke(r.doubleValue)));return new wi(e)}convertGeoPoint(t){return new xi(ke(t.latitude),ke(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Kh(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(tc(t));default:return null}}convertTimestamp(t){const e=Ja(t);return new Ce(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=Se.fromString(t);se(ZA(r),9688,{name:t});const i=new ec(r.get(1),r.get(3)),o=new wt(r.popFirst(5));return i.isEqual(e)||Ji(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function X6(n,t,e){let r;return r=n?n.toFirestore(t):t,r}class Ul{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ko extends bx{constructor(t,e,r,i,o,u){super(t,e,r,i,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Rx("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(ut.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Ko._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Ko._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ko._jsonSchema={type:We("string",Ko._jsonSchemaVersion),bundleSource:We("string","DocumentSnapshot"),bundleName:We("string"),bundle:We("string")};class dh extends Ko{data(t={}){return super.data(t)}}class iu{constructor(t,e,r,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Ul(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new dh(this._firestore,this._userDataWriter,r.key,r,new Ul(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new _t(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map((c=>{const f=new dh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ul(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const f=new dh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ul(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,g=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),g=u.indexOf(c.doc.key)),{type:Y6(c.type),doc:f,oldIndex:d,newIndex:g}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(ut.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=iu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Y6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It(61501,{type:n})}}iu._jsonSchemaVersion="firestore/querySnapshot/1.0",iu._jsonSchema={type:We("string",iu._jsonSchemaVersion),bundleSource:We("string","QuerySnapshot"),bundleName:We("string"),bundle:We("string")};class Ox extends q6{constructor(t){super(),this.firestore=t}convertBytes(t){return new Cr(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new on(this.firestore,null,e)}}function K6(n,t,e,...r){n=Ka(n,on);const i=Ka(n.firestore,pu),o=Tx(i);let u;return u=typeof(t=bn(t))=="string"||t instanceof od?z6(o,"updateDoc",n._key,t,e,r):F6(o,"updateDoc",n._key,t),pg(i,[u.toMutation(n._key,Kr.exists(!0))])}function W6(n){return pg(Ka(n.firestore,pu),[new Yp(n._key,Kr.none())])}function Q6(n,t){const e=Ka(n.firestore,pu),r=up(n),i=X6(n.converter,t);return pg(e,[U6(Tx(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Kr.exists(!1))]).then((()=>r))}function Z6(n,...t){n=bn(n);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||I_(t[r])||(e=t[r++]);const i={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(I_(t[r])){const f=t[r];t[r]=f.next?.bind(f),t[r+1]=f.error?.bind(f),t[r+2]=f.complete?.bind(f)}let o,u,c;if(n instanceof on)u=Ka(n.firestore,pu),c=qp(n._key.path),o={next:f=>{t[r]&&t[r]($6(u,n,f))},error:t[r+1],complete:t[r+2]};else{const f=Ka(n,ad);u=Ka(f.firestore,pu),c=f._query;const d=new Ox(u);o={next:g=>{t[r]&&t[r](new iu(u,d,f,g))},error:t[r+1],complete:t[r+2]},G6(n._query)}return(function(d,g,m,_){const E=new R6(_),w=new c6(g,E,m);return d.asyncQueue.enqueueAndForget((async()=>o6(await __(d),w))),()=>{E.Nu(),d.asyncQueue.enqueueAndForget((async()=>s6(await __(d),w)))}})(Ax(u),c,i,o)}function pg(n,t){return(function(r,i){const o=new Yo;return r.asyncQueue.enqueueAndForget((async()=>E6(await N6(r),i,o))),o.promise})(Ax(n),t)}function $6(n,t,e){const r=e.docs.get(t._key),i=new Ox(n);return new Ko(n,i,t._key,r,new Ul(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(i){Eu=i})(mu),ou(new Zo("firestore",((r,{instanceIdentifier:i,options:o})=>{const u=r.getProvider("app").getImmediate(),c=new pu(new V4(r.getProvider("auth-internal")),new F4(u,r.getProvider("app-check-internal")),(function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new _t(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ec(d.options.projectId,g)})(u,i),u);return o={useFetchStreams:e,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),Xa(O2,D2,t),Xa(O2,D2,"esm2020")})();const J6={apiKey:"AIzaSyA_jYMVwKET6JAqoATAnMj5DiXE0NA-EsY",authDomain:"price-tracker-8087a.firebaseapp.com",projectId:"price-tracker-8087a",storageBucket:"price-tracker-8087a.firebasestorage.app",messagingSenderId:"820960712692",appId:"1:820960712692:web:ea5a86ff4d58df72a2cba1",measurementId:"G-L5LNFW6GMR"},Dx=AE(J6),au=M4(Dx),Nx=new Xi,Mx=new Xl("apple.com"),$f=P6(Dx);function tb({setUser:n,toggleForm:t}){const[e,r]=Lt.useState(""),[i,o]=Lt.useState(""),[u,c]=Lt.useState(""),f=async m=>{m.preventDefault();try{const _=await _C(au,e,i);n(_.user)}catch(_){c(_.message)}},d=async()=>{try{const m=await Ch(au,Nx);n(m.user)}catch(m){c(m.message)}},g=async()=>{try{const m=await Ch(au,Mx);n(m.user)}catch(m){c(m.message)}};return it.jsxs("div",{className:"auth-container",children:[it.jsx("h2",{children:"Login"}),it.jsxs("form",{onSubmit:f,children:[it.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:m=>r(m.target.value)}),it.jsx("input",{type:"password",placeholder:"Password",value:i,onChange:m=>o(m.target.value)}),u&&it.jsx("p",{children:u}),it.jsx("button",{type:"submit",children:"Login"})]}),it.jsxs("div",{className:"social-login",children:[it.jsxs("button",{className:"google-button",onClick:d,children:["Google",it.jsx("img",{className:"logos",src:"/src/assets/google-png-logo.png"})]}),it.jsxs("button",{className:"apple-button",onClick:g,children:["Apple",it.jsx("img",{className:"logos",src:"/src/assets/Apple_logo_white.svg.png"})]})]}),it.jsxs("p",{children:["Don't have an account? ",it.jsx("button",{onClick:t,children:"Sign Up"})]})]})}function eb({setUser:n,toggleForm:t}){const[e,r]=Lt.useState(""),[i,o]=Lt.useState(""),[u,c]=Lt.useState(""),[f,d]=Lt.useState(""),g=async E=>{E.preventDefault();try{const w=await yC(au,i,u);await AC(w.user,{displayName:e}),n(w.user)}catch(w){d(w.message)}},m=async()=>{try{const E=await Ch(au,Nx);n(E.user)}catch(E){d(E.message)}},_=async()=>{try{const E=await Ch(au,Mx);n(E.user)}catch(E){d(E.message)}};return it.jsxs("div",{className:"auth-container",children:[it.jsx("h2",{children:"Create Account"}),it.jsxs("form",{onSubmit:g,children:[it.jsx("input",{type:"text",placeholder:"Name",value:e,onChange:E=>r(E.target.value)}),it.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:E=>o(E.target.value)}),it.jsx("input",{type:"password",placeholder:"password",value:u,onChange:E=>c(E.target.value)}),f&&it.jsx("p",{children:f}),it.jsx("button",{type:"submit",children:"Sign Up"})]}),it.jsxs("div",{className:"social-login",children:[it.jsxs("button",{className:"google-button",onClick:m,children:["Google",it.jsx("img",{className:"logos",src:"/src/assets/google-png-logo.png"})]}),it.jsxs("button",{className:"apple-button",onClick:_,children:["Apple",it.jsx("img",{className:"logos",src:"/src/assets/Apple_logo_white.svg.png"})]})]}),it.jsxs("p",{children:["Already have an account? ",it.jsx("button",{onClick:t,children:"Login"})]})]})}function nb({onScan:n,onManual:t}){const[e,r]=Lt.useState(!1),i=Lt.useRef(null);return Lt.useEffect(()=>{function o(u){i.current&&!i.current.contains(u.target)&&r(!1)}return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]),it.jsxs(it.Fragment,{children:[e&&it.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.55)",zIndex:10}}),it.jsxs("div",{className:"add-button-wrapper",ref:i,style:{position:"fixed",bottom:"40px",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"column",alignItems:"center",zIndex:100},children:[it.jsx("button",{className:"add-button",onClick:()=>r(!e),style:{fontSize:"45px"},children:"+"}),e&&it.jsxs("div",{className:"add-options",style:{marginBottom:"160px",display:"flex",gap:"40px",justifyContent:"center"},children:[it.jsx("button",{className:"add-option-button",onClick:()=>{n(),r(!1)},children:it.jsx("img",{style:{width:"30px"},src:"/src/assets/scan-logo.png"})}),it.jsx("button",{className:"add-option-button",onClick:()=>{t(),r(!1)},children:it.jsx("img",{style:{width:"25px",marginLeft:"6px"},src:"/src/assets/manual-logo.png"})})]})]})]})}function rb(n,t){var e=Object.setPrototypeOf;e?e(n,t):n.__proto__=t}function ib(n,t){t===void 0&&(t=n.constructor);var e=Error.captureStackTrace;e&&e(n,t)}var ab=(function(){var n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(i[u]=o[u])},n(e,r)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),ob=(function(n){ab(t,n);function t(e,r){var i=this.constructor,o=n.call(this,e,r)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1,configurable:!0}),rb(o,i.prototype),ib(o),o}return t})(Error),sb=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),tr=(function(n){sb(t,n);function t(e){e===void 0&&(e=void 0);var r=n.call(this,e)||this;return r.message=e,r}return t.prototype.getKind=function(){var e=this.constructor;return e.kind},t.kind="Exception",t})(ob),ub=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),jr=(function(n){ub(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.kind="ArgumentException",t})(tr),lb=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Tt=(function(n){lb(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.kind="IllegalArgumentException",t})(tr),cb=(function(){function n(t){if(this.binarizer=t,t===null)throw new Tt("Binarizer must be non-null.")}return n.prototype.getWidth=function(){return this.binarizer.getWidth()},n.prototype.getHeight=function(){return this.binarizer.getHeight()},n.prototype.getBlackRow=function(t,e){return this.binarizer.getBlackRow(t,e)},n.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},n.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},n.prototype.crop=function(t,e,r,i){var o=this.binarizer.getLuminanceSource().crop(t,e,r,i);return new n(this.binarizer.createBinarizer(o))},n.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},n.prototype.rotateCounterClockwise=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new n(this.binarizer.createBinarizer(t))},n.prototype.rotateCounterClockwise45=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new n(this.binarizer.createBinarizer(t))},n.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},n})(),fb=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),gn=(function(n){fb(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.getChecksumInstance=function(){return new t},t.kind="ChecksumException",t})(tr),hb=(function(){function n(t){this.source=t}return n.prototype.getLuminanceSource=function(){return this.source},n.prototype.getWidth=function(){return this.source.getWidth()},n.prototype.getHeight=function(){return this.source.getHeight()},n})(),Ee=(function(){function n(){}return n.arraycopy=function(t,e,r,i,o){for(;o--;)r[i++]=t[e++]},n.currentTimeMillis=function(){return Date.now()},n})(),db=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),gg=(function(n){db(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.kind="IndexOutOfBoundsException",t})(tr),pb=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),b_=(function(n){pb(t,n);function t(e,r){e===void 0&&(e=void 0),r===void 0&&(r=void 0);var i=n.call(this,r)||this;return i.index=e,i.message=r,i}return t.kind="ArrayIndexOutOfBoundsException",t})(gg),gb=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},an=(function(){function n(){}return n.fill=function(t,e){for(var r=0,i=t.length;r<i;r++)t[r]=e},n.fillWithin=function(t,e,r,i){n.rangeCheck(t.length,e,r);for(var o=e;o<r;o++)t[o]=i},n.rangeCheck=function(t,e,r){if(e>r)throw new Tt("fromIndex("+e+") > toIndex("+r+")");if(e<0)throw new b_(e);if(r>t)throw new b_(r)},n.asList=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t},n.create=function(t,e,r){var i=Array.from({length:t});return i.map(function(o){return Array.from({length:e}).fill(r)})},n.createInt32Array=function(t,e,r){var i=Array.from({length:t});return i.map(function(o){return Int32Array.from({length:e}).fill(r)})},n.equals=function(t,e){if(!t||!e||!t.length||!e.length||t.length!==e.length)return!1;for(var r=0,i=t.length;r<i;r++)if(t[r]!==e[r])return!1;return!0},n.hashCode=function(t){var e,r;if(t===null)return 0;var i=1;try{for(var o=gb(t),u=o.next();!u.done;u=o.next()){var c=u.value;i=31*i+c}}catch(f){e={error:f}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return i},n.fillUint8Array=function(t,e){for(var r=0;r!==t.length;r++)t[r]=e},n.copyOf=function(t,e){return t.slice(0,e)},n.copyOfUint8Array=function(t,e){if(t.length<=e){var r=new Uint8Array(e);return r.set(t),r}return t.slice(0,e)},n.copyOfRange=function(t,e,r){var i=r-e,o=new Int32Array(i);return Ee.arraycopy(t,e,o,0,i),o},n.binarySearch=function(t,e,r){r===void 0&&(r=n.numberComparator);for(var i=0,o=t.length-1;i<=o;){var u=o+i>>1,c=r(e,t[u]);if(c>0)i=u+1;else if(c<0)o=u-1;else return u}return-i-1},n.numberComparator=function(t,e){return t-e},n})(),Ut=(function(){function n(){}return n.numberOfTrailingZeros=function(t){var e;if(t===0)return 32;var r=31;return e=t<<16,e!==0&&(r-=16,t=e),e=t<<8,e!==0&&(r-=8,t=e),e=t<<4,e!==0&&(r-=4,t=e),e=t<<2,e!==0&&(r-=2,t=e),r-(t<<1>>>31)},n.numberOfLeadingZeros=function(t){if(t===0)return 32;var e=1;return t>>>16||(e+=16,t<<=16),t>>>24||(e+=8,t<<=8),t>>>28||(e+=4,t<<=4),t>>>30||(e+=2,t<<=2),e-=t>>>31,e},n.toHexString=function(t){return t.toString(16)},n.toBinaryString=function(t){return String(parseInt(String(t),2))},n.bitCount=function(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63},n.truncDivision=function(t,e){return Math.trunc(t/e)},n.parseInt=function(t,e){return e===void 0&&(e=void 0),parseInt(t,e)},n.MIN_VALUE_32_BITS=-2147483648,n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n})(),vn=(function(){function n(t,e){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,e==null?this.bits=n.makeArray(t):this.bits=e)}return n.prototype.getSize=function(){return this.size},n.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},n.prototype.ensureCapacity=function(t){if(t>this.bits.length*32){var e=n.makeArray(t);Ee.arraycopy(this.bits,0,e,0,this.bits.length),this.bits=e}},n.prototype.get=function(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0},n.prototype.set=function(t){this.bits[Math.floor(t/32)]|=1<<(t&31)},n.prototype.flip=function(t){this.bits[Math.floor(t/32)]^=1<<(t&31)},n.prototype.getNextSet=function(t){var e=this.size;if(t>=e)return e;var r=this.bits,i=Math.floor(t/32),o=r[i];o&=~((1<<(t&31))-1);for(var u=r.length;o===0;){if(++i===u)return e;o=r[i]}var c=i*32+Ut.numberOfTrailingZeros(o);return c>e?e:c},n.prototype.getNextUnset=function(t){var e=this.size;if(t>=e)return e;var r=this.bits,i=Math.floor(t/32),o=~r[i];o&=~((1<<(t&31))-1);for(var u=r.length;o===0;){if(++i===u)return e;o=~r[i]}var c=i*32+Ut.numberOfTrailingZeros(o);return c>e?e:c},n.prototype.setBulk=function(t,e){this.bits[Math.floor(t/32)]=e},n.prototype.setRange=function(t,e){if(e<t||t<0||e>this.size)throw new Tt;if(e!==t){e--;for(var r=Math.floor(t/32),i=Math.floor(e/32),o=this.bits,u=r;u<=i;u++){var c=u>r?0:t&31,f=u<i?31:e&31,d=(2<<f)-(1<<c);o[u]|=d}}},n.prototype.clear=function(){for(var t=this.bits.length,e=this.bits,r=0;r<t;r++)e[r]=0},n.prototype.isRange=function(t,e,r){if(e<t||t<0||e>this.size)throw new Tt;if(e===t)return!0;e--;for(var i=Math.floor(t/32),o=Math.floor(e/32),u=this.bits,c=i;c<=o;c++){var f=c>i?0:t&31,d=c<o?31:e&31,g=(2<<d)-(1<<f)&4294967295;if((u[c]&g)!==(r?g:0))return!1}return!0},n.prototype.appendBit=function(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},n.prototype.appendBits=function(t,e){if(e<0||e>32)throw new Tt("Num bits must be between 0 and 32");this.ensureCapacity(this.size+e);for(var r=e;r>0;r--)this.appendBit((t>>r-1&1)===1)},n.prototype.appendBitArray=function(t){var e=t.size;this.ensureCapacity(this.size+e);for(var r=0;r<e;r++)this.appendBit(t.get(r))},n.prototype.xor=function(t){if(this.size!==t.size)throw new Tt("Sizes don't match");for(var e=this.bits,r=0,i=e.length;r<i;r++)e[r]^=t.bits[r]},n.prototype.toBytes=function(t,e,r,i){for(var o=0;o<i;o++){for(var u=0,c=0;c<8;c++)this.get(t)&&(u|=1<<7-c),t++;e[r+o]=u}},n.prototype.getBitArray=function(){return this.bits},n.prototype.reverse=function(){for(var t=new Int32Array(this.bits.length),e=Math.floor((this.size-1)/32),r=e+1,i=this.bits,o=0;o<r;o++){var u=i[o];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,t[e-o]=u}if(this.size!==r*32){for(var c=r*32-this.size,f=t[0]>>>c,o=1;o<r;o++){var d=t[o];f|=d<<32-c,t[o-1]=f,f=d>>>c}t[r-1]=f}this.bits=t},n.makeArray=function(t){return new Int32Array(Math.floor((t+31)/32))},n.prototype.equals=function(t){if(!(t instanceof n))return!1;var e=t;return this.size===e.size&&an.equals(this.bits,e.bits)},n.prototype.hashCode=function(){return 31*this.size+an.hashCode(this.bits)},n.prototype.toString=function(){for(var t="",e=0,r=this.size;e<r;e++)(e&7)===0&&(t+=" "),t+=this.get(e)?"X":".";return t},n.prototype.clone=function(){return new n(this.size,this.bits.slice())},n.prototype.toArray=function(){for(var t=[],e=0,r=this.size;e<r;e++)t.push(this.get(e));return t},n})(),cp;(function(n){n[n.OTHER=0]="OTHER",n[n.PURE_BARCODE=1]="PURE_BARCODE",n[n.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",n[n.TRY_HARDER=3]="TRY_HARDER",n[n.CHARACTER_SET=4]="CHARACTER_SET",n[n.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",n[n.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",n[n.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",n[n.ASSUME_GS1=8]="ASSUME_GS1",n[n.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",n[n.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",n[n.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(cp||(cp={}));const Ie=cp;var vb=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),ft=(function(n){vb(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.getFormatInstance=function(){return new t},t.kind="FormatException",t})(tr),mb=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},he;(function(n){n[n.Cp437=0]="Cp437",n[n.ISO8859_1=1]="ISO8859_1",n[n.ISO8859_2=2]="ISO8859_2",n[n.ISO8859_3=3]="ISO8859_3",n[n.ISO8859_4=4]="ISO8859_4",n[n.ISO8859_5=5]="ISO8859_5",n[n.ISO8859_6=6]="ISO8859_6",n[n.ISO8859_7=7]="ISO8859_7",n[n.ISO8859_8=8]="ISO8859_8",n[n.ISO8859_9=9]="ISO8859_9",n[n.ISO8859_10=10]="ISO8859_10",n[n.ISO8859_11=11]="ISO8859_11",n[n.ISO8859_13=12]="ISO8859_13",n[n.ISO8859_14=13]="ISO8859_14",n[n.ISO8859_15=14]="ISO8859_15",n[n.ISO8859_16=15]="ISO8859_16",n[n.SJIS=16]="SJIS",n[n.Cp1250=17]="Cp1250",n[n.Cp1251=18]="Cp1251",n[n.Cp1252=19]="Cp1252",n[n.Cp1256=20]="Cp1256",n[n.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",n[n.UTF8=22]="UTF8",n[n.ASCII=23]="ASCII",n[n.Big5=24]="Big5",n[n.GB18030=25]="GB18030",n[n.EUC_KR=26]="EUC_KR"})(he||(he={}));var nn=(function(){function n(t,e,r){for(var i,o,u=[],c=3;c<arguments.length;c++)u[c-3]=arguments[c];this.valueIdentifier=t,this.name=r,typeof e=="number"?this.values=Int32Array.from([e]):this.values=e,this.otherEncodingNames=u,n.VALUE_IDENTIFIER_TO_ECI.set(t,this),n.NAME_TO_ECI.set(r,this);for(var f=this.values,d=0,g=f.length;d!==g;d++){var m=f[d];n.VALUES_TO_ECI.set(m,this)}try{for(var _=mb(u),E=_.next();!E.done;E=_.next()){var w=E.value;n.NAME_TO_ECI.set(w,this)}}catch(S){i={error:S}}finally{try{E&&!E.done&&(o=_.return)&&o.call(_)}finally{if(i)throw i.error}}}return n.prototype.getValueIdentifier=function(){return this.valueIdentifier},n.prototype.getName=function(){return this.name},n.prototype.getValue=function(){return this.values[0]},n.getCharacterSetECIByValue=function(t){if(t<0||t>=900)throw new ft("incorect value");var e=n.VALUES_TO_ECI.get(t);if(e===void 0)throw new ft("incorect value");return e},n.getCharacterSetECIByName=function(t){var e=n.NAME_TO_ECI.get(t);if(e===void 0)throw new ft("incorect value");return e},n.prototype.equals=function(t){if(!(t instanceof n))return!1;var e=t;return this.getName()===e.getName()},n.VALUE_IDENTIFIER_TO_ECI=new Map,n.VALUES_TO_ECI=new Map,n.NAME_TO_ECI=new Map,n.Cp437=new n(he.Cp437,Int32Array.from([0,2]),"Cp437"),n.ISO8859_1=new n(he.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),n.ISO8859_2=new n(he.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),n.ISO8859_3=new n(he.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),n.ISO8859_4=new n(he.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),n.ISO8859_5=new n(he.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),n.ISO8859_6=new n(he.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),n.ISO8859_7=new n(he.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),n.ISO8859_8=new n(he.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),n.ISO8859_9=new n(he.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),n.ISO8859_10=new n(he.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),n.ISO8859_11=new n(he.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),n.ISO8859_13=new n(he.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),n.ISO8859_14=new n(he.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),n.ISO8859_15=new n(he.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),n.ISO8859_16=new n(he.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),n.SJIS=new n(he.SJIS,20,"SJIS","Shift_JIS"),n.Cp1250=new n(he.Cp1250,21,"Cp1250","windows-1250"),n.Cp1251=new n(he.Cp1251,22,"Cp1251","windows-1251"),n.Cp1252=new n(he.Cp1252,23,"Cp1252","windows-1252"),n.Cp1256=new n(he.Cp1256,24,"Cp1256","windows-1256"),n.UnicodeBigUnmarked=new n(he.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),n.UTF8=new n(he.UTF8,26,"UTF8","UTF-8"),n.ASCII=new n(he.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),n.Big5=new n(he.Big5,28,"Big5"),n.GB18030=new n(he.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),n.EUC_KR=new n(he.EUC_KR,30,"EUC_KR","EUC-KR"),n})(),yb=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),ph=(function(n){yb(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.kind="UnsupportedOperationException",t})(tr),br=(function(){function n(){}return n.decode=function(t,e){var r=this.encodingName(e);return this.customDecoder?this.customDecoder(t,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(t,r):new TextDecoder(r).decode(t)},n.shouldDecodeOnFallback=function(t){return!n.isBrowser()&&t==="ISO-8859-1"},n.encode=function(t,e){var r=this.encodingName(e);return this.customEncoder?this.customEncoder(t,r):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)},n.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},n.encodingName=function(t){return typeof t=="string"?t:t.getName()},n.encodingCharacterSet=function(t){return t instanceof nn?t:nn.getCharacterSetECIByName(t)},n.decodeFallback=function(t,e){var r=this.encodingCharacterSet(e);if(n.isDecodeFallbackSupported(r)){for(var i="",o=0,u=t.length;o<u;o++){var c=t[o].toString(16);c.length<2&&(c="0"+c),i+="%"+c}return decodeURIComponent(i)}if(r.equals(nn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new ph("Encoding "+this.encodingName(e)+" not supported by fallback.")},n.isDecodeFallbackSupported=function(t){return t.equals(nn.UTF8)||t.equals(nn.ISO8859_1)||t.equals(nn.ASCII)},n.encodeFallback=function(t){for(var e=btoa(unescape(encodeURIComponent(t))),r=e.split(""),i=[],o=0;o<r.length;o++)i.push(r[o].charCodeAt(0));return new Uint8Array(i)},n})(),Qt=(function(){function n(){}return n.castAsNonUtf8Char=function(t,e){e===void 0&&(e=null);var r=e?e.getName():this.ISO88591;return br.decode(new Uint8Array([t]),r)},n.guessEncoding=function(t,e){if(e!=null&&e.get(Ie.CHARACTER_SET)!==void 0)return e.get(Ie.CHARACTER_SET).toString();for(var r=t.length,i=!0,o=!0,u=!0,c=0,f=0,d=0,g=0,m=0,_=0,E=0,w=0,S=0,I=0,N=0,L=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191,V=0;V<r&&(i||o||u);V++){var j=t[V]&255;u&&(c>0?(j&128)===0?u=!1:c--:(j&128)!==0&&((j&64)===0?u=!1:(c++,(j&32)===0?f++:(c++,(j&16)===0?d++:(c++,(j&8)===0?g++:u=!1))))),i&&(j>127&&j<160?i=!1:j>159&&(j<192||j===215||j===247)&&N++),o&&(m>0?j<64||j===127||j>252?o=!1:m--:j===128||j===160||j>239?o=!1:j>160&&j<224?(_++,w=0,E++,E>S&&(S=E)):j>127?(m++,E=0,w++,w>I&&(I=w)):(E=0,w=0))}return u&&c>0&&(u=!1),o&&m>0&&(o=!1),u&&(L||f+d+g>0)?n.UTF8:o&&(n.ASSUME_SHIFT_JIS||S>=3||I>=3)?n.SHIFT_JIS:i&&o?S===2&&_===2||N*10>=r?n.SHIFT_JIS:n.ISO88591:i?n.ISO88591:o?n.SHIFT_JIS:u?n.UTF8:n.PLATFORM_DEFAULT_ENCODING},n.format=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var i=-1;function o(c,f,d,g,m,_){if(c==="%%")return"%";if(e[++i]!==void 0){c=g?parseInt(g.substr(1)):void 0;var E=m?parseInt(m.substr(1)):void 0,w;switch(_){case"s":w=e[i];break;case"c":w=e[i][0];break;case"f":w=parseFloat(e[i]).toFixed(c);break;case"p":w=parseFloat(e[i]).toPrecision(c);break;case"e":w=parseFloat(e[i]).toExponential(c);break;case"x":w=parseInt(e[i]).toString(E||16);break;case"d":w=parseFloat(parseInt(e[i],E||10).toPrecision(c)).toFixed(0);break}w=typeof w=="object"?JSON.stringify(w):(+w).toString(E);for(var S=parseInt(d),I=d&&d[0]+""=="0"?"0":" ";w.length<S;)w=f!==void 0?w+I:I+w;return w}}var u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(u,o)},n.getBytes=function(t,e){return br.encode(t,e)},n.getCharCode=function(t,e){return e===void 0&&(e=0),t.charCodeAt(e)},n.getCharAt=function(t){return String.fromCharCode(t)},n.SHIFT_JIS=nn.SJIS.getName(),n.GB2312="GB2312",n.ISO88591=nn.ISO8859_1.getName(),n.EUC_JP="EUC_JP",n.UTF8=nn.UTF8.getName(),n.PLATFORM_DEFAULT_ENCODING=n.UTF8,n.ASSUME_SHIFT_JIS=!1,n})(),kt=(function(){function n(t){t===void 0&&(t=""),this.value=t}return n.prototype.enableDecoding=function(t){return this.encoding=t,this},n.prototype.append=function(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=Qt.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this},n.prototype.appendChars=function(t,e,r){for(var i=e;e<e+r;i++)this.append(t[i]);return this},n.prototype.length=function(){return this.value.length},n.prototype.charAt=function(t){return this.value.charAt(t)},n.prototype.deleteCharAt=function(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)},n.prototype.setCharAt=function(t,e){this.value=this.value.substr(0,t)+e+this.value.substr(t+1)},n.prototype.substring=function(t,e){return this.value.substring(t,e)},n.prototype.setLengthToZero=function(){this.value=""},n.prototype.toString=function(){return this.value},n.prototype.insert=function(t,e){this.value=this.value.substring(0,t)+e+this.value.substring(t)},n})(),Ci=(function(){function n(t,e,r,i){if(this.width=t,this.height=e,this.rowSize=r,this.bits=i,e==null&&(e=t),this.height=e,t<1||e<1)throw new Tt("Both dimensions must be greater than 0");r==null&&(r=Math.floor((t+31)/32)),this.rowSize=r,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return n.parseFromBooleanArray=function(t){for(var e=t.length,r=t[0].length,i=new n(r,e),o=0;o<e;o++)for(var u=t[o],c=0;c<r;c++)u[c]&&i.set(c,o);return i},n.parseFromString=function(t,e,r){if(t===null)throw new Tt("stringRepresentation cannot be null");for(var i=new Array(t.length),o=0,u=0,c=-1,f=0,d=0;d<t.length;)if(t.charAt(d)===`
`||t.charAt(d)==="\r"){if(o>u){if(c===-1)c=o-u;else if(o-u!==c)throw new Tt("row lengths do not match");u=o,f++}d++}else if(t.substring(d,d+e.length)===e)d+=e.length,i[o]=!0,o++;else if(t.substring(d,d+r.length)===r)d+=r.length,i[o]=!1,o++;else throw new Tt("illegal character encountered: "+t.substring(d));if(o>u){if(c===-1)c=o-u;else if(o-u!==c)throw new Tt("row lengths do not match");f++}for(var g=new n(c,f),m=0;m<o;m++)i[m]&&g.set(Math.floor(m%c),Math.floor(m/c));return g},n.prototype.get=function(t,e){var r=e*this.rowSize+Math.floor(t/32);return(this.bits[r]>>>(t&31)&1)!==0},n.prototype.set=function(t,e){var r=e*this.rowSize+Math.floor(t/32);this.bits[r]|=1<<(t&31)&4294967295},n.prototype.unset=function(t,e){var r=e*this.rowSize+Math.floor(t/32);this.bits[r]&=~(1<<(t&31)&4294967295)},n.prototype.flip=function(t,e){var r=e*this.rowSize+Math.floor(t/32);this.bits[r]^=1<<(t&31)&4294967295},n.prototype.xor=function(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new Tt("input matrix dimensions do not match");for(var e=new vn(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits,o=0,u=this.height;o<u;o++)for(var c=o*r,f=t.getRow(o,e).getBitArray(),d=0;d<r;d++)i[c+d]^=f[d]},n.prototype.clear=function(){for(var t=this.bits,e=t.length,r=0;r<e;r++)t[r]=0},n.prototype.setRegion=function(t,e,r,i){if(e<0||t<0)throw new Tt("Left and top must be nonnegative");if(i<1||r<1)throw new Tt("Height and width must be at least 1");var o=t+r,u=e+i;if(u>this.height||o>this.width)throw new Tt("The region must fit inside the matrix");for(var c=this.rowSize,f=this.bits,d=e;d<u;d++)for(var g=d*c,m=t;m<o;m++)f[g+Math.floor(m/32)]|=1<<(m&31)&4294967295},n.prototype.getRow=function(t,e){e==null||e.getSize()<this.width?e=new vn(this.width):e.clear();for(var r=this.rowSize,i=this.bits,o=t*r,u=0;u<r;u++)e.setBulk(u*32,i[o+u]);return e},n.prototype.setRow=function(t,e){Ee.arraycopy(e.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)},n.prototype.rotate180=function(){for(var t=this.getWidth(),e=this.getHeight(),r=new vn(t),i=new vn(t),o=0,u=Math.floor((e+1)/2);o<u;o++)r=this.getRow(o,r),i=this.getRow(e-1-o,i),r.reverse(),i.reverse(),this.setRow(o,i),this.setRow(e-1-o,r)},n.prototype.getEnclosingRectangle=function(){for(var t=this.width,e=this.height,r=this.rowSize,i=this.bits,o=t,u=e,c=-1,f=-1,d=0;d<e;d++)for(var g=0;g<r;g++){var m=i[d*r+g];if(m!==0){if(d<u&&(u=d),d>f&&(f=d),g*32<o){for(var _=0;(m<<31-_&4294967295)===0;)_++;g*32+_<o&&(o=g*32+_)}if(g*32+31>c){for(var _=31;!(m>>>_);)_--;g*32+_>c&&(c=g*32+_)}}}return c<o||f<u?null:Int32Array.from([o,u,c-o+1,f-u+1])},n.prototype.getTopLeftOnBit=function(){for(var t=this.rowSize,e=this.bits,r=0;r<e.length&&e[r]===0;)r++;if(r===e.length)return null;for(var i=r/t,o=r%t*32,u=e[r],c=0;(u<<31-c&4294967295)===0;)c++;return o+=c,Int32Array.from([o,i])},n.prototype.getBottomRightOnBit=function(){for(var t=this.rowSize,e=this.bits,r=e.length-1;r>=0&&e[r]===0;)r--;if(r<0)return null;for(var i=Math.floor(r/t),o=Math.floor(r%t)*32,u=e[r],c=31;!(u>>>c);)c--;return o+=c,Int32Array.from([o,i])},n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.getRowSize=function(){return this.rowSize},n.prototype.equals=function(t){if(!(t instanceof n))return!1;var e=t;return this.width===e.width&&this.height===e.height&&this.rowSize===e.rowSize&&an.equals(this.bits,e.bits)},n.prototype.hashCode=function(){var t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+an.hashCode(this.bits),t},n.prototype.toString=function(t,e,r){return t===void 0&&(t="X "),e===void 0&&(e="  "),r===void 0&&(r=`
`),this.buildToString(t,e,r)},n.prototype.buildToString=function(t,e,r){for(var i=new kt,o=0,u=this.height;o<u;o++){for(var c=0,f=this.width;c<f;c++)i.append(this.get(c,o)?t:e);i.append(r)}return i.toString()},n.prototype.clone=function(){return new n(this.width,this.height,this.rowSize,this.bits.slice())},n})(),_b=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),et=(function(n){_b(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.getNotFoundInstance=function(){return new t},t.kind="NotFoundException",t})(tr),Eb=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Ab=(function(n){Eb(t,n);function t(e){var r=n.call(this,e)||this;return r.luminances=t.EMPTY,r.buckets=new Int32Array(t.LUMINANCE_BUCKETS),r}return t.prototype.getBlackRow=function(e,r){var i=this.getLuminanceSource(),o=i.getWidth();r==null||r.getSize()<o?r=new vn(o):r.clear(),this.initArrays(o);for(var u=i.getRow(e,this.luminances),c=this.buckets,f=0;f<o;f++)c[(u[f]&255)>>t.LUMINANCE_SHIFT]++;var d=t.estimateBlackPoint(c);if(o<3)for(var f=0;f<o;f++)(u[f]&255)<d&&r.set(f);else for(var g=u[0]&255,m=u[1]&255,f=1;f<o-1;f++){var _=u[f+1]&255;(m*4-g-_)/2<d&&r.set(f),g=m,m=_}return r},t.prototype.getBlackMatrix=function(){var e=this.getLuminanceSource(),r=e.getWidth(),i=e.getHeight(),o=new Ci(r,i);this.initArrays(r);for(var u=this.buckets,c=1;c<5;c++)for(var f=Math.floor(i*c/5),d=e.getRow(f,this.luminances),g=Math.floor(r*4/5),m=Math.floor(r/5);m<g;m++){var _=d[m]&255;u[_>>t.LUMINANCE_SHIFT]++}for(var E=t.estimateBlackPoint(u),w=e.getMatrix(),c=0;c<i;c++)for(var S=c*r,m=0;m<r;m++){var _=w[S+m]&255;_<E&&o.set(m,c)}return o},t.prototype.createBinarizer=function(e){return new t(e)},t.prototype.initArrays=function(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));for(var r=this.buckets,i=0;i<t.LUMINANCE_BUCKETS;i++)r[i]=0},t.estimateBlackPoint=function(e){for(var r=e.length,i=0,o=0,u=0,c=0;c<r;c++)e[c]>u&&(o=c,u=e[c]),e[c]>i&&(i=e[c]);for(var f=0,d=0,c=0;c<r;c++){var g=c-o,m=e[c]*g*g;m>d&&(f=c,d=m)}if(o>f){var _=o;o=f,f=_}if(f-o<=r/16)throw new et;for(var E=f-1,w=-1,c=f-1;c>o;c--){var S=c-o,m=S*S*(f-c)*(i-e[c]);m>w&&(E=c,w=m)}return E<<t.LUMINANCE_SHIFT},t.LUMINANCE_BITS=5,t.LUMINANCE_SHIFT=8-t.LUMINANCE_BITS,t.LUMINANCE_BUCKETS=1<<t.LUMINANCE_BITS,t.EMPTY=Uint8ClampedArray.from([0]),t})(hb),xb=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),wb=(function(n){xb(t,n);function t(e){var r=n.call(this,e)||this;return r.matrix=null,r}return t.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var e=this.getLuminanceSource(),r=e.getWidth(),i=e.getHeight();if(r>=t.MINIMUM_DIMENSION&&i>=t.MINIMUM_DIMENSION){var o=e.getMatrix(),u=r>>t.BLOCK_SIZE_POWER;(r&t.BLOCK_SIZE_MASK)!==0&&u++;var c=i>>t.BLOCK_SIZE_POWER;(i&t.BLOCK_SIZE_MASK)!==0&&c++;var f=t.calculateBlackPoints(o,u,c,r,i),d=new Ci(r,i);t.calculateThresholdForBlock(o,u,c,r,i,f,d),this.matrix=d}else this.matrix=n.prototype.getBlackMatrix.call(this);return this.matrix},t.prototype.createBinarizer=function(e){return new t(e)},t.calculateThresholdForBlock=function(e,r,i,o,u,c,f){for(var d=u-t.BLOCK_SIZE,g=o-t.BLOCK_SIZE,m=0;m<i;m++){var _=m<<t.BLOCK_SIZE_POWER;_>d&&(_=d);for(var E=t.cap(m,2,i-3),w=0;w<r;w++){var S=w<<t.BLOCK_SIZE_POWER;S>g&&(S=g);for(var I=t.cap(w,2,r-3),N=0,L=-2;L<=2;L++){var V=c[E+L];N+=V[I-2]+V[I-1]+V[I]+V[I+1]+V[I+2]}var j=N/25;t.thresholdBlock(e,S,_,j,o,f)}}},t.cap=function(e,r,i){return e<r?r:e>i?i:e},t.thresholdBlock=function(e,r,i,o,u,c){for(var f=0,d=i*u+r;f<t.BLOCK_SIZE;f++,d+=u)for(var g=0;g<t.BLOCK_SIZE;g++)(e[d+g]&255)<=o&&c.set(r+g,i+f)},t.calculateBlackPoints=function(e,r,i,o,u){for(var c=u-t.BLOCK_SIZE,f=o-t.BLOCK_SIZE,d=new Array(i),g=0;g<i;g++){d[g]=new Int32Array(r);var m=g<<t.BLOCK_SIZE_POWER;m>c&&(m=c);for(var _=0;_<r;_++){var E=_<<t.BLOCK_SIZE_POWER;E>f&&(E=f);for(var w=0,S=255,I=0,N=0,L=m*o+E;N<t.BLOCK_SIZE;N++,L+=o){for(var V=0;V<t.BLOCK_SIZE;V++){var j=e[L+V]&255;w+=j,j<S&&(S=j),j>I&&(I=j)}if(I-S>t.MIN_DYNAMIC_RANGE)for(N++,L+=o;N<t.BLOCK_SIZE;N++,L+=o)for(var V=0;V<t.BLOCK_SIZE;V++)w+=e[L+V]&255}var Q=w>>t.BLOCK_SIZE_POWER*2;if(I-S<=t.MIN_DYNAMIC_RANGE&&(Q=S/2,g>0&&_>0)){var Z=(d[g-1][_]+2*d[g][_-1]+d[g-1][_-1])/4;S<Z&&(Q=Z)}d[g][_]=Q}}return d},t.BLOCK_SIZE_POWER=3,t.BLOCK_SIZE=1<<t.BLOCK_SIZE_POWER,t.BLOCK_SIZE_MASK=t.BLOCK_SIZE-1,t.MINIMUM_DIMENSION=t.BLOCK_SIZE*5,t.MIN_DYNAMIC_RANGE=24,t})(Ab),ld=(function(){function n(t,e){this.width=t,this.height=e}return n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.isCropSupported=function(){return!1},n.prototype.crop=function(t,e,r,i){throw new ph("This luminance source does not support cropping.")},n.prototype.isRotateSupported=function(){return!1},n.prototype.rotateCounterClockwise=function(){throw new ph("This luminance source does not support rotation by 90 degrees.")},n.prototype.rotateCounterClockwise45=function(){throw new ph("This luminance source does not support rotation by 45 degrees.")},n.prototype.toString=function(){for(var t=new Uint8ClampedArray(this.width),e=new kt,r=0;r<this.height;r++){for(var i=this.getRow(r,t),o=0;o<this.width;o++){var u=i[o]&255,c=void 0;u<64?c="#":u<128?c="+":u<192?c=".":c=" ",e.append(c)}e.append(`
`)}return e.toString()},n})(),Tb=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),vg=(function(n){Tb(t,n);function t(e){var r=n.call(this,e.getWidth(),e.getHeight())||this;return r.delegate=e,r}return t.prototype.getRow=function(e,r){for(var i=this.delegate.getRow(e,r),o=this.getWidth(),u=0;u<o;u++)i[u]=255-(i[u]&255);return i},t.prototype.getMatrix=function(){for(var e=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r),o=0;o<r;o++)i[o]=255-(e[o]&255);return i},t.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},t.prototype.crop=function(e,r,i,o){return new t(this.delegate.crop(e,r,i,o))},t.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},t.prototype.invert=function(){return this.delegate},t.prototype.rotateCounterClockwise=function(){return new t(this.delegate.rotateCounterClockwise())},t.prototype.rotateCounterClockwise45=function(){return new t(this.delegate.rotateCounterClockwise45())},t})(ld),Sb=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Cb=(function(n){Sb(t,n);function t(e,r){r===void 0&&(r=!1);var i=n.call(this,e.width,e.height)||this;return i.canvas=e,i.tempCanvasElement=null,i.buffer=t.makeBufferFromCanvasImageData(e,r),i}return t.makeBufferFromCanvasImageData=function(e,r){r===void 0&&(r=!1);var i=e.getContext("2d").getImageData(0,0,e.width,e.height);return t.toGrayscaleBuffer(i.data,e.width,e.height,r)},t.toGrayscaleBuffer=function(e,r,i,o){o===void 0&&(o=!1);var u=new Uint8ClampedArray(r*i);if(t.FRAME_INDEX=!t.FRAME_INDEX,t.FRAME_INDEX||!o)for(var c=0,f=0,d=e.length;c<d;c+=4,f++){var g=void 0,m=e[c+3];if(m===0)g=255;else{var _=e[c],E=e[c+1],w=e[c+2];g=306*_+601*E+117*w+512>>10}u[f]=g}else for(var c=0,f=0,S=e.length;c<S;c+=4,f++){var g=void 0,m=e[c+3];if(m===0)g=255;else{var _=e[c],E=e[c+1],w=e[c+2];g=306*_+601*E+117*w+512>>10}u[f]=255-g}return u},t.prototype.getRow=function(e,r){if(e<0||e>=this.getHeight())throw new Tt("Requested row is outside the image: "+e);var i=this.getWidth(),o=e*i;return r===null?r=this.buffer.slice(o,o+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(o,o+i))),r},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(e,r,i,o){return n.prototype.crop.call(this,e,r,i,o),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement},t.prototype.rotate=function(e){var r=this.getTempCanvasElement(),i=r.getContext("2d"),o=e*t.DEGREE_TO_RADIANS,u=this.canvas.width,c=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(o))*u+Math.abs(Math.sin(o))*c),d=Math.ceil(Math.abs(Math.sin(o))*u+Math.abs(Math.cos(o))*c);return r.width=f,r.height=d,i.translate(f/2,d/2),i.rotate(o),i.drawImage(this.canvas,u/-2,c/-2),this.buffer=t.makeBufferFromCanvasImageData(r),this},t.prototype.invert=function(){return new vg(this)},t.DEGREE_TO_RADIANS=Math.PI/180,t.FRAME_INDEX=!0,t})(ld),Ib=(function(){function n(t,e,r){this.deviceId=t,this.label=e,this.kind="videoinput",this.groupId=r||void 0}return n.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},n})(),Fn=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(u){u(o)})}return new(e||(e=Promise))(function(o,u){function c(g){try{d(r.next(g))}catch(m){u(m)}}function f(g){try{d(r.throw(g))}catch(m){u(m)}}function d(g){g.done?o(g.value):i(g.value).then(c,f)}d((r=r.apply(n,t||[])).next())})},zn=function(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(d){return function(g){return f([d,g])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,i=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){e.label=d[1];break}if(d[0]===6&&e.label<o[1]){e.label=o[1],o=d;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(d);break}o[2]&&e.ops.pop(),e.trys.pop();continue}d=t.call(n,e)}catch(g){d=[6,g],i=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},bb=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Tu=(function(){function n(t,e,r){e===void 0&&(e=500),this.reader=t,this.timeBetweenScansMillis=e,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(n.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(t){this._timeBetweenDecodingAttempts=t<0?0:t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hints",{get:function(){return this._hints},set:function(t){this._hints=t||null},enumerable:!1,configurable:!0}),n.prototype.listVideoInputDevices=function(){return Fn(this,void 0,void 0,function(){var t,e,r,i,o,u,c,f,d,g,m,_;return zn(this,function(E){switch(E.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=E.sent(),e=[];try{for(r=bb(t),i=r.next();!i.done;i=r.next())o=i.value,u=o.kind==="video"?"videoinput":o.kind,u==="videoinput"&&(c=o.deviceId||o.id,f=o.label||"Video device "+(e.length+1),d=o.groupId,g={deviceId:c,label:f,kind:u,groupId:d},e.push(g))}catch(w){m={error:w}}finally{try{i&&!i.done&&(_=r.return)&&_.call(r)}finally{if(m)throw m.error}}return[2,e]}})})},n.prototype.getVideoInputDevices=function(){return Fn(this,void 0,void 0,function(){var t;return zn(this,function(e){switch(e.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=e.sent(),[2,t.map(function(r){return new Ib(r.deviceId,r.label)})]}})})},n.prototype.findDeviceById=function(t){return Fn(this,void 0,void 0,function(){var e;return zn(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),e?[2,e.find(function(i){return i.deviceId===t})]:[2,null]}})})},n.prototype.decodeFromInputVideoDevice=function(t,e){return Fn(this,void 0,void 0,function(){return zn(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(t,e)];case 1:return[2,r.sent()]}})})},n.prototype.decodeOnceFromVideoDevice=function(t,e){return Fn(this,void 0,void 0,function(){var r,i;return zn(this,function(o){switch(o.label){case 0:return this.reset(),t?r={deviceId:{exact:t}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,e)];case 1:return[2,o.sent()]}})})},n.prototype.decodeOnceFromConstraints=function(t,e){return Fn(this,void 0,void 0,function(){var r;return zn(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,e)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromStream=function(t,e){return Fn(this,void 0,void 0,function(){var r,i;return zn(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,e)];case 1:return r=o.sent(),[4,this.decodeOnce(r)];case 2:return i=o.sent(),[2,i]}})})},n.prototype.decodeFromInputVideoDeviceContinuously=function(t,e,r){return Fn(this,void 0,void 0,function(){return zn(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(t,e,r)];case 1:return[2,i.sent()]}})})},n.prototype.decodeFromVideoDevice=function(t,e,r){return Fn(this,void 0,void 0,function(){var i,o;return zn(this,function(u){switch(u.label){case 0:return t?i={deviceId:{exact:t}}:i={facingMode:"environment"},o={video:i},[4,this.decodeFromConstraints(o,e,r)];case 1:return[2,u.sent()]}})})},n.prototype.decodeFromConstraints=function(t,e,r){return Fn(this,void 0,void 0,function(){var i;return zn(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return i=o.sent(),[4,this.decodeFromStream(i,e,r)];case 2:return[2,o.sent()]}})})},n.prototype.decodeFromStream=function(t,e,r){return Fn(this,void 0,void 0,function(){var i;return zn(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,e)];case 1:return i=o.sent(),[4,this.decodeContinuously(i,r)];case 2:return[2,o.sent()]}})})},n.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},n.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},n.prototype.attachStreamToVideo=function(t,e){return Fn(this,void 0,void 0,function(){var r;return zn(this,function(i){switch(i.label){case 0:return r=this.prepareVideoElement(e),this.addVideoSource(r,t),this.videoElement=r,this.stream=t,[4,this.playVideoOnLoadAsync(r)];case 1:return i.sent(),[2,r]}})})},n.prototype.playVideoOnLoadAsync=function(t){var e=this;return new Promise(function(r,i){return e.playVideoOnLoad(t,function(){return r()})})},n.prototype.playVideoOnLoad=function(t,e){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(t)},t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",e),this.tryPlayVideo(t)},n.prototype.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2},n.prototype.tryPlayVideo=function(t){return Fn(this,void 0,void 0,function(){return zn(this,function(e){switch(e.label){case 0:if(this.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t.play()];case 2:return e.sent(),[3,4];case 3:return e.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},n.prototype.getMediaElement=function(t,e){var r=document.getElementById(t);if(!r)throw new jr("element with id '"+t+"' not found");if(r.nodeName.toLowerCase()!==e.toLowerCase())throw new jr("element with id '"+t+"' must be an "+e+" element");return r},n.prototype.decodeFromImage=function(t,e){if(!t&&!e)throw new jr("either imageElement with a src set or an url must be provided");return e&&!t?this.decodeFromImageUrl(e):this.decodeFromImageElement(t)},n.prototype.decodeFromVideo=function(t,e){if(!t&&!e)throw new jr("Either an element with a src set or an URL must be provided");return e&&!t?this.decodeFromVideoUrl(e):this.decodeFromVideoElement(t)},n.prototype.decodeFromVideoContinuously=function(t,e,r){if(t===void 0&&e===void 0)throw new jr("Either an element with a src set or an URL must be provided");return e&&!t?this.decodeFromVideoUrlContinuously(e,r):this.decodeFromVideoElementContinuously(t,r)},n.prototype.decodeFromImageElement=function(t){if(!t)throw new jr("An image element must be provided.");this.reset();var e=this.prepareImageElement(t);this.imageElement=e;var r;return this.isImageLoaded(e)?r=this.decodeOnce(e,!1,!0):r=this._decodeOnLoadImage(e),r},n.prototype.decodeFromVideoElement=function(t){var e=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(e)},n.prototype.decodeFromVideoElementContinuously=function(t,e){var r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(r,e)},n.prototype._decodeFromVideoElementSetup=function(t){if(!t)throw new jr("A video element must be provided.");this.reset();var e=this.prepareVideoElement(t);return this.videoElement=e,e},n.prototype.decodeFromImageUrl=function(t){if(!t)throw new jr("An URL must be provided.");this.reset();var e=this.prepareImageElement();this.imageElement=e;var r=this._decodeOnLoadImage(e);return e.src=t,r},n.prototype.decodeFromVideoUrl=function(t){if(!t)throw new jr("An URL must be provided.");this.reset();var e=this.prepareVideoElement(),r=this.decodeFromVideoElement(e);return e.src=t,r},n.prototype.decodeFromVideoUrlContinuously=function(t,e){if(!t)throw new jr("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,e);return r.src=t,i},n.prototype._decodeOnLoadImage=function(t){var e=this;return new Promise(function(r,i){e.imageLoadedListener=function(){return e.decodeOnce(t,!1,!0).then(r,i)},t.addEventListener("load",e.imageLoadedListener)})},n.prototype._decodeOnLoadVideo=function(t){return Fn(this,void 0,void 0,function(){return zn(this,function(e){switch(e.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return e.sent(),[4,this.decodeOnce(t)];case 2:return[2,e.sent()]}})})},n.prototype._decodeOnLoadVideoContinuously=function(t,e){return Fn(this,void 0,void 0,function(){return zn(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return r.sent(),this.decodeContinuously(t,e),[2]}})})},n.prototype.isImageLoaded=function(t){return!(!t.complete||t.naturalWidth===0)},n.prototype.prepareImageElement=function(t){var e;return typeof t>"u"&&(e=document.createElement("img"),e.width=200,e.height=200),typeof t=="string"&&(e=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(e=t),e},n.prototype.prepareVideoElement=function(t){var e;return!t&&typeof document<"u"&&(e=document.createElement("video"),e.width=200,e.height=200),typeof t=="string"&&(e=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(e=t),e.setAttribute("autoplay","true"),e.setAttribute("muted","true"),e.setAttribute("playsinline","true"),e},n.prototype.decodeOnce=function(t,e,r){var i=this;e===void 0&&(e=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var o=function(u,c){if(i._stopAsyncDecode){c(new et("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var f=i.decode(t);u(f)}catch(_){var d=e&&_ instanceof et,g=_ instanceof gn||_ instanceof ft,m=g&&r;if(d||m)return setTimeout(o,i._timeBetweenDecodingAttempts,u,c);c(_)}};return new Promise(function(u,c){return o(u,c)})},n.prototype.decodeContinuously=function(t,e){var r=this;this._stopContinuousDecode=!1;var i=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var o=r.decode(t);e(o,null),setTimeout(i,r.timeBetweenScansMillis)}catch(f){e(null,f);var u=f instanceof gn||f instanceof ft,c=f instanceof et;(u||c)&&setTimeout(i,r._timeBetweenDecodingAttempts)}};i()},n.prototype.decode=function(t){var e=this.createBinaryBitmap(t);return this.decodeBitmap(e)},n.prototype.createBinaryBitmap=function(t){this.getCaptureCanvasContext(t);var e=!1;t instanceof HTMLVideoElement?(this.drawFrameOnCanvas(t),e=!0):this.drawImageOnCanvas(t);var r=this.getCaptureCanvas(t),i=new Cb(r,e),o=new wb(i);return new cb(o)},n.prototype.getCaptureCanvasContext=function(t){if(!this.captureCanvasContext){var e=this.getCaptureCanvas(t),r=void 0;try{r=e.getContext("2d",{willReadFrequently:!0})}catch{r=e.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},n.prototype.getCaptureCanvas=function(t){if(!this.captureCanvas){var e=this.createCaptureCanvas(t);this.captureCanvas=e}return this.captureCanvas},n.prototype.drawFrameOnCanvas=function(t,e,r){e===void 0&&(e={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(t,e.sx,e.sy,e.sWidth,e.sHeight,e.dx,e.dy,e.dWidth,e.dHeight)},n.prototype.drawImageOnCanvas=function(t,e,r){e===void 0&&(e={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(t,e.sx,e.sy,e.sWidth,e.sHeight,e.dx,e.dy,e.dWidth,e.dHeight)},n.prototype.decodeBitmap=function(t){return this.reader.decode(t,this._hints)},n.prototype.createCaptureCanvas=function(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var e=document.createElement("canvas"),r,i;return typeof t<"u"&&(t instanceof HTMLVideoElement?(r=t.videoWidth,i=t.videoHeight):t instanceof HTMLImageElement&&(r=t.naturalWidth||t.width,i=t.naturalHeight||t.height)),e.style.width=r+"px",e.style.height=i+"px",e.width=r,e.height=i,e},n.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(t){return t.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},n.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},n.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},n.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},n.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},n.prototype.addVideoSource=function(t,e){try{t.srcObject=e}catch{t.src=URL.createObjectURL(e)}},n.prototype.cleanVideoSource=function(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")},n})(),Bn=(function(){function n(t,e,r,i,o,u){r===void 0&&(r=e==null?0:8*e.length),u===void 0&&(u=Ee.currentTimeMillis()),this.text=t,this.rawBytes=e,this.numBits=r,this.resultPoints=i,this.format=o,this.timestamp=u,this.text=t,this.rawBytes=e,r==null?this.numBits=e==null?0:8*e.length:this.numBits=r,this.resultPoints=i,this.format=o,this.resultMetadata=null,u==null?this.timestamp=Ee.currentTimeMillis():this.timestamp=u}return n.prototype.getText=function(){return this.text},n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.getBarcodeFormat=function(){return this.format},n.prototype.getResultMetadata=function(){return this.resultMetadata},n.prototype.putMetadata=function(t,e){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,e)},n.prototype.putAllMetadata=function(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))},n.prototype.addResultPoints=function(t){var e=this.resultPoints;if(e===null)this.resultPoints=t;else if(t!==null&&t.length>0){var r=new Array(e.length+t.length);Ee.arraycopy(e,0,r,0,e.length),Ee.arraycopy(t,0,r,e.length,t.length),this.resultPoints=r}},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.toString=function(){return this.text},n})(),fp;(function(n){n[n.AZTEC=0]="AZTEC",n[n.CODABAR=1]="CODABAR",n[n.CODE_39=2]="CODE_39",n[n.CODE_93=3]="CODE_93",n[n.CODE_128=4]="CODE_128",n[n.DATA_MATRIX=5]="DATA_MATRIX",n[n.EAN_8=6]="EAN_8",n[n.EAN_13=7]="EAN_13",n[n.ITF=8]="ITF",n[n.MAXICODE=9]="MAXICODE",n[n.PDF_417=10]="PDF_417",n[n.QR_CODE=11]="QR_CODE",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(fp||(fp={}));const xt=fp;var hp;(function(n){n[n.OTHER=0]="OTHER",n[n.ORIENTATION=1]="ORIENTATION",n[n.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",n[n.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",n[n.ISSUE_NUMBER=4]="ISSUE_NUMBER",n[n.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",n[n.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",n[n.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",n[n.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",n[n.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",n[n.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(hp||(hp={}));const In=hp;var cd=(function(){function n(t,e,r,i,o,u){o===void 0&&(o=-1),u===void 0&&(u=-1),this.rawBytes=t,this.text=e,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=u,this.numBits=t==null?0:8*t.length}return n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.setNumBits=function(t){this.numBits=t},n.prototype.getText=function(){return this.text},n.prototype.getByteSegments=function(){return this.byteSegments},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getErrorsCorrected=function(){return this.errorsCorrected},n.prototype.setErrorsCorrected=function(t){this.errorsCorrected=t},n.prototype.getErasures=function(){return this.erasures},n.prototype.setErasures=function(t){this.erasures=t},n.prototype.getOther=function(){return this.other},n.prototype.setOther=function(t){this.other=t},n.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},n.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},n.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},n})(),Fl=(function(){function n(){}return n.prototype.exp=function(t){return this.expTable[t]},n.prototype.log=function(t){if(t===0)throw new Tt;return this.logTable[t]},n.addOrSubtract=function(t,e){return t^e},n})(),Qa=(function(){function n(t,e){if(e.length===0)throw new Tt;this.field=t;var r=e.length;if(r>1&&e[0]===0){for(var i=1;i<r&&e[i]===0;)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),Ee.arraycopy(e,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=e}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},n.prototype.evaluateAt=function(t){if(t===0)return this.getCoefficient(0);var e=this.coefficients,r;if(t===1){r=0;for(var i=0,o=e.length;i!==o;i++){var u=e[i];r=Fl.addOrSubtract(r,u)}return r}r=e[0];for(var c=e.length,f=this.field,i=1;i<c;i++)r=Fl.addOrSubtract(f.multiply(t,r),e[i]);return r},n.prototype.addOrSubtract=function(t){if(!this.field.equals(t.field))throw new Tt("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;var e=this.coefficients,r=t.coefficients;if(e.length>r.length){var i=e;e=r,r=i}var o=new Int32Array(r.length),u=r.length-e.length;Ee.arraycopy(r,0,o,0,u);for(var c=u;c<r.length;c++)o[c]=Fl.addOrSubtract(e[c-u],r[c]);return new n(this.field,o)},n.prototype.multiply=function(t){if(!this.field.equals(t.field))throw new Tt("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();for(var e=this.coefficients,r=e.length,i=t.coefficients,o=i.length,u=new Int32Array(r+o-1),c=this.field,f=0;f<r;f++)for(var d=e[f],g=0;g<o;g++)u[f+g]=Fl.addOrSubtract(u[f+g],c.multiply(d,i[g]));return new n(c,u)},n.prototype.multiplyScalar=function(t){if(t===0)return this.field.getZero();if(t===1)return this;for(var e=this.coefficients.length,r=this.field,i=new Int32Array(e),o=this.coefficients,u=0;u<e;u++)i[u]=r.multiply(o[u],t);return new n(r,i)},n.prototype.multiplyByMonomial=function(t,e){if(t<0)throw new Tt;if(e===0)return this.field.getZero();for(var r=this.coefficients,i=r.length,o=new Int32Array(i+t),u=this.field,c=0;c<i;c++)o[c]=u.multiply(r[c],e);return new n(u,o)},n.prototype.divide=function(t){if(!this.field.equals(t.field))throw new Tt("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new Tt("Divide by 0");for(var e=this.field,r=e.getZero(),i=this,o=t.getCoefficient(t.getDegree()),u=e.inverse(o);i.getDegree()>=t.getDegree()&&!i.isZero();){var c=i.getDegree()-t.getDegree(),f=e.multiply(i.getCoefficient(i.getDegree()),u),d=t.multiplyByMonomial(c,f),g=e.buildMonomial(c,f);r=r.addOrSubtract(g),i=i.addOrSubtract(d)}return[r,i]},n.prototype.toString=function(){for(var t="",e=this.getDegree();e>=0;e--){var r=this.getCoefficient(e);if(r!==0){if(r<0?(t+=" - ",r=-r):t.length>0&&(t+=" + "),e===0||r!==1){var i=this.field.log(r);i===0?t+="1":i===1?t+="a":(t+="a^",t+=i)}e!==0&&(e===1?t+="x":(t+="x^",t+=e))}}return t},n})(),Rb=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Px=(function(n){Rb(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.kind="ArithmeticException",t})(tr),Ob=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Jn=(function(n){Ob(t,n);function t(e,r,i){var o=n.call(this)||this;o.primitive=e,o.size=r,o.generatorBase=i;for(var u=new Int32Array(r),c=1,f=0;f<r;f++)u[f]=c,c*=2,c>=r&&(c^=e,c&=r-1);o.expTable=u;for(var d=new Int32Array(r),f=0;f<r-1;f++)d[u[f]]=f;return o.logTable=d,o.zero=new Qa(o,Int32Array.from([0])),o.one=new Qa(o,Int32Array.from([1])),o}return t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(e,r){if(e<0)throw new Tt;if(r===0)return this.zero;var i=new Int32Array(e+1);return i[0]=r,new Qa(this,i)},t.prototype.inverse=function(e){if(e===0)throw new Px;return this.expTable[this.size-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.size-1)]},t.prototype.getSize=function(){return this.size},t.prototype.getGeneratorBase=function(){return this.generatorBase},t.prototype.toString=function(){return"GF(0x"+Ut.toHexString(this.primitive)+","+this.size+")"},t.prototype.equals=function(e){return e===this},t.AZTEC_DATA_12=new t(4201,4096,1),t.AZTEC_DATA_10=new t(1033,1024,1),t.AZTEC_DATA_6=new t(67,64,1),t.AZTEC_PARAM=new t(19,16,1),t.QR_CODE_FIELD_256=new t(285,256,0),t.DATA_MATRIX_FIELD_256=new t(301,256,1),t.AZTEC_DATA_8=t.DATA_MATRIX_FIELD_256,t.MAXICODE_FIELD_64=t.AZTEC_DATA_6,t})(Fl),Db=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Jf=(function(n){Db(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.kind="ReedSolomonException",t})(tr),Nb=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),gc=(function(n){Nb(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.kind="IllegalStateException",t})(tr),fd=(function(){function n(t){this.field=t}return n.prototype.decode=function(t,e){for(var r=this.field,i=new Qa(r,t),o=new Int32Array(e),u=!0,c=0;c<e;c++){var f=i.evaluateAt(r.exp(c+r.getGeneratorBase()));o[o.length-1-c]=f,f!==0&&(u=!1)}if(!u)for(var d=new Qa(r,o),g=this.runEuclideanAlgorithm(r.buildMonomial(e,1),d,e),m=g[0],_=g[1],E=this.findErrorLocations(m),w=this.findErrorMagnitudes(_,E),c=0;c<E.length;c++){var S=t.length-1-r.log(E[c]);if(S<0)throw new Jf("Bad error location");t[S]=Jn.addOrSubtract(t[S],w[c])}},n.prototype.runEuclideanAlgorithm=function(t,e,r){if(t.getDegree()<e.getDegree()){var i=t;t=e,e=i}for(var o=this.field,u=t,c=e,f=o.getZero(),d=o.getOne();c.getDegree()>=(r/2|0);){var g=u,m=f;if(u=c,f=d,u.isZero())throw new Jf("r_{i-1} was zero");c=g;for(var _=o.getZero(),E=u.getCoefficient(u.getDegree()),w=o.inverse(E);c.getDegree()>=u.getDegree()&&!c.isZero();){var S=c.getDegree()-u.getDegree(),I=o.multiply(c.getCoefficient(c.getDegree()),w);_=_.addOrSubtract(o.buildMonomial(S,I)),c=c.addOrSubtract(u.multiplyByMonomial(S,I))}if(d=_.multiply(f).addOrSubtract(m),c.getDegree()>=u.getDegree())throw new gc("Division algorithm failed to reduce polynomial?")}var N=d.getCoefficient(0);if(N===0)throw new Jf("sigmaTilde(0) was zero");var L=o.inverse(N),V=d.multiplyScalar(L),j=c.multiplyScalar(L);return[V,j]},n.prototype.findErrorLocations=function(t){var e=t.getDegree();if(e===1)return Int32Array.from([t.getCoefficient(1)]);for(var r=new Int32Array(e),i=0,o=this.field,u=1;u<o.getSize()&&i<e;u++)t.evaluateAt(u)===0&&(r[i]=o.inverse(u),i++);if(i!==e)throw new Jf("Error locator degree does not match number of roots");return r},n.prototype.findErrorMagnitudes=function(t,e){for(var r=e.length,i=new Int32Array(r),o=this.field,u=0;u<r;u++){for(var c=o.inverse(e[u]),f=1,d=0;d<r;d++)if(u!==d){var g=o.multiply(e[d],c),m=(g&1)===0?g|1:g&-2;f=o.multiply(f,m)}i[u]=o.multiply(t.evaluateAt(c),o.inverse(f)),o.getGeneratorBase()!==0&&(i[u]=o.multiply(i[u],c))}return i},n})(),wn;(function(n){n[n.UPPER=0]="UPPER",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.DIGIT=3]="DIGIT",n[n.PUNCT=4]="PUNCT",n[n.BINARY=5]="BINARY"})(wn||(wn={}));var R_=(function(){function n(){}return n.prototype.decode=function(t){this.ddata=t;var e=t.getBits(),r=this.extractBits(e),i=this.correctBits(r),o=n.convertBoolArrayToByteArray(i),u=n.getEncodedData(i),c=new cd(o,u,null,null);return c.setNumBits(i.length),c},n.highLevelDecode=function(t){return this.getEncodedData(t)},n.getEncodedData=function(t){for(var e=t.length,r=wn.UPPER,i=wn.UPPER,o="",u=0;u<e;)if(i===wn.BINARY){if(e-u<5)break;var c=n.readCode(t,u,5);if(u+=5,c===0){if(e-u<11)break;c=n.readCode(t,u,11)+31,u+=11}for(var f=0;f<c;f++){if(e-u<8){u=e;break}var d=n.readCode(t,u,8);o+=Qt.castAsNonUtf8Char(d),u+=8}i=r}else{var g=i===wn.DIGIT?4:5;if(e-u<g)break;var d=n.readCode(t,u,g);u+=g;var m=n.getCharacter(i,d);m.startsWith("CTRL_")?(r=i,i=n.getTable(m.charAt(5)),m.charAt(6)==="L"&&(r=i)):(o+=m,i=r)}return o},n.getTable=function(t){switch(t){case"L":return wn.LOWER;case"P":return wn.PUNCT;case"M":return wn.MIXED;case"D":return wn.DIGIT;case"B":return wn.BINARY;case"U":default:return wn.UPPER}},n.getCharacter=function(t,e){switch(t){case wn.UPPER:return n.UPPER_TABLE[e];case wn.LOWER:return n.LOWER_TABLE[e];case wn.MIXED:return n.MIXED_TABLE[e];case wn.PUNCT:return n.PUNCT_TABLE[e];case wn.DIGIT:return n.DIGIT_TABLE[e];default:throw new gc("Bad table")}},n.prototype.correctBits=function(t){var e,r;this.ddata.getNbLayers()<=2?(r=6,e=Jn.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,e=Jn.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,e=Jn.AZTEC_DATA_10):(r=12,e=Jn.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),o=t.length/r;if(o<i)throw new ft;for(var u=t.length%r,c=new Int32Array(o),f=0;f<o;f++,u+=r)c[f]=n.readCode(t,u,r);try{var d=new fd(e);d.decode(c,o-i)}catch(I){throw new ft(I)}for(var g=(1<<r)-1,m=0,f=0;f<i;f++){var _=c[f];if(_===0||_===g)throw new ft;(_===1||_===g-1)&&m++}for(var E=new Array(i*r-m),w=0,f=0;f<i;f++){var _=c[f];if(_===1||_===g-1)E.fill(_>1,w,w+r-1),w+=r-1;else for(var S=r-1;S>=0;--S)E[w++]=(_&1<<S)!==0}return E},n.prototype.extractBits=function(t){var e=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(e?11:14)+r*4,o=new Int32Array(i),u=new Array(this.totalBitsInLayer(r,e));if(e)for(var c=0;c<o.length;c++)o[c]=c;else for(var f=i+1+2*Ut.truncDivision(Ut.truncDivision(i,2)-1,15),d=i/2,g=Ut.truncDivision(f,2),c=0;c<d;c++){var m=c+Ut.truncDivision(c,15);o[d-c-1]=g-m-1,o[d+c]=g+m+1}for(var c=0,_=0;c<r;c++){for(var E=(r-c)*4+(e?9:12),w=c*2,S=i-1-w,I=0;I<E;I++)for(var N=I*2,L=0;L<2;L++)u[_+N+L]=t.get(o[w+L],o[w+I]),u[_+2*E+N+L]=t.get(o[w+I],o[S-L]),u[_+4*E+N+L]=t.get(o[S-L],o[S-I]),u[_+6*E+N+L]=t.get(o[S-I],o[w+L]);_+=E*8}return u},n.readCode=function(t,e,r){for(var i=0,o=e;o<e+r;o++)i<<=1,t[o]&&(i|=1);return i},n.readByte=function(t,e){var r=t.length-e;return r>=8?n.readCode(t,e,8):n.readCode(t,e,r)<<8-r},n.convertBoolArrayToByteArray=function(t){for(var e=new Uint8Array((t.length+7)/8),r=0;r<e.length;r++)e[r]=n.readByte(t,8*r);return e},n.prototype.totalBitsInLayer=function(t,e){return((e?88:112)+16*t)*t},n.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],n.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],n.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],n.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],n.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],n})(),ee=(function(){function n(){}return n.round=function(t){return isNaN(t)?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0},n.distance=function(t,e,r,i){var o=t-r,u=e-i;return Math.sqrt(o*o+u*u)},n.sum=function(t){for(var e=0,r=0,i=t.length;r!==i;r++){var o=t[r];e+=o}return e},n})(),dp=(function(){function n(){}return n.floatToIntBits=function(t){return t},n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n})(),vt=(function(){function n(t,e){this.x=t,this.y=e}return n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.equals=function(t){if(t instanceof n){var e=t;return this.x===e.x&&this.y===e.y}return!1},n.prototype.hashCode=function(){return 31*dp.floatToIntBits(this.x)+dp.floatToIntBits(this.y)},n.prototype.toString=function(){return"("+this.x+","+this.y+")"},n.orderBestPatterns=function(t){var e=this.distance(t[0],t[1]),r=this.distance(t[1],t[2]),i=this.distance(t[0],t[2]),o,u,c;if(r>=e&&r>=i?(u=t[0],o=t[1],c=t[2]):i>=r&&i>=e?(u=t[1],o=t[0],c=t[2]):(u=t[2],o=t[0],c=t[1]),this.crossProductZ(o,u,c)<0){var f=o;o=c,c=f}t[0]=o,t[1]=u,t[2]=c},n.distance=function(t,e){return ee.distance(t.x,t.y,e.x,e.y)},n.crossProductZ=function(t,e,r){var i=e.x,o=e.y;return(r.x-i)*(t.y-o)-(r.y-o)*(t.x-i)},n})(),mg=(function(){function n(t,e){this.bits=t,this.points=e}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n})(),Mb=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Pb=(function(n){Mb(t,n);function t(e,r,i,o,u){var c=n.call(this,e,r)||this;return c.compact=i,c.nbDatablocks=o,c.nbLayers=u,c}return t.prototype.getNbLayers=function(){return this.nbLayers},t.prototype.getNbDatablocks=function(){return this.nbDatablocks},t.prototype.isCompact=function(){return this.compact},t})(mg),pp=(function(){function n(t,e,r,i){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),e==null&&(e=n.INIT_SIZE),r==null&&(r=t.getWidth()/2|0),i==null&&(i=t.getHeight()/2|0);var o=e/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=i-o,this.downInit=i+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new et}return n.prototype.detect=function(){for(var t=this.leftInit,e=this.rightInit,r=this.upInit,i=this.downInit,o=!1,u=!0,c=!1,f=!1,d=!1,g=!1,m=!1,_=this.width,E=this.height;u;){u=!1;for(var w=!0;(w||!f)&&e<_;)w=this.containsBlackPoint(r,i,e,!1),w?(e++,u=!0,f=!0):f||e++;if(e>=_){o=!0;break}for(var S=!0;(S||!d)&&i<E;)S=this.containsBlackPoint(t,e,i,!0),S?(i++,u=!0,d=!0):d||i++;if(i>=E){o=!0;break}for(var I=!0;(I||!g)&&t>=0;)I=this.containsBlackPoint(r,i,t,!1),I?(t--,u=!0,g=!0):g||t--;if(t<0){o=!0;break}for(var N=!0;(N||!m)&&r>=0;)N=this.containsBlackPoint(t,e,r,!0),N?(r--,u=!0,m=!0):m||r--;if(r<0){o=!0;break}u&&(c=!0)}if(!o&&c){for(var L=e-t,V=null,j=1;V===null&&j<L;j++)V=this.getBlackPointOnSegment(t,i-j,t+j,i);if(V==null)throw new et;for(var Q=null,j=1;Q===null&&j<L;j++)Q=this.getBlackPointOnSegment(t,r+j,t+j,r);if(Q==null)throw new et;for(var Z=null,j=1;Z===null&&j<L;j++)Z=this.getBlackPointOnSegment(e,r+j,e-j,r);if(Z==null)throw new et;for(var b=null,j=1;b===null&&j<L;j++)b=this.getBlackPointOnSegment(e,i-j,e-j,i);if(b==null)throw new et;return this.centerEdges(b,V,Z,Q)}else throw new et},n.prototype.getBlackPointOnSegment=function(t,e,r,i){for(var o=ee.round(ee.distance(t,e,r,i)),u=(r-t)/o,c=(i-e)/o,f=this.image,d=0;d<o;d++){var g=ee.round(t+d*u),m=ee.round(e+d*c);if(f.get(g,m))return new vt(g,m)}return null},n.prototype.centerEdges=function(t,e,r,i){var o=t.getX(),u=t.getY(),c=e.getX(),f=e.getY(),d=r.getX(),g=r.getY(),m=i.getX(),_=i.getY(),E=n.CORR;return o<this.width/2?[new vt(m-E,_+E),new vt(c+E,f+E),new vt(d-E,g-E),new vt(o+E,u-E)]:[new vt(m+E,_+E),new vt(c+E,f-E),new vt(d-E,g+E),new vt(o-E,u-E)]},n.prototype.containsBlackPoint=function(t,e,r,i){var o=this.image;if(i){for(var u=t;u<=e;u++)if(o.get(u,r))return!0}else for(var c=t;c<=e;c++)if(o.get(r,c))return!0;return!1},n.INIT_SIZE=10,n.CORR=1,n})(),O_=(function(){function n(){}return n.checkAndNudgePoints=function(t,e){for(var r=t.getWidth(),i=t.getHeight(),o=!0,u=0;u<e.length&&o;u+=2){var c=Math.floor(e[u]),f=Math.floor(e[u+1]);if(c<-1||c>r||f<-1||f>i)throw new et;o=!1,c===-1?(e[u]=0,o=!0):c===r&&(e[u]=r-1,o=!0),f===-1?(e[u+1]=0,o=!0):f===i&&(e[u+1]=i-1,o=!0)}o=!0;for(var u=e.length-2;u>=0&&o;u-=2){var c=Math.floor(e[u]),f=Math.floor(e[u+1]);if(c<-1||c>r||f<-1||f>i)throw new et;o=!1,c===-1?(e[u]=0,o=!0):c===r&&(e[u]=r-1,o=!0),f===-1?(e[u+1]=0,o=!0):f===i&&(e[u+1]=i-1,o=!0)}},n})(),Lx=(function(){function n(t,e,r,i,o,u,c,f,d){this.a11=t,this.a21=e,this.a31=r,this.a12=i,this.a22=o,this.a32=u,this.a13=c,this.a23=f,this.a33=d}return n.quadrilateralToQuadrilateral=function(t,e,r,i,o,u,c,f,d,g,m,_,E,w,S,I){var N=n.quadrilateralToSquare(t,e,r,i,o,u,c,f),L=n.squareToQuadrilateral(d,g,m,_,E,w,S,I);return L.times(N)},n.prototype.transformPoints=function(t){for(var e=t.length,r=this.a11,i=this.a12,o=this.a13,u=this.a21,c=this.a22,f=this.a23,d=this.a31,g=this.a32,m=this.a33,_=0;_<e;_+=2){var E=t[_],w=t[_+1],S=o*E+f*w+m;t[_]=(r*E+u*w+d)/S,t[_+1]=(i*E+c*w+g)/S}},n.prototype.transformPointsWithValues=function(t,e){for(var r=this.a11,i=this.a12,o=this.a13,u=this.a21,c=this.a22,f=this.a23,d=this.a31,g=this.a32,m=this.a33,_=t.length,E=0;E<_;E++){var w=t[E],S=e[E],I=o*w+f*S+m;t[E]=(r*w+u*S+d)/I,e[E]=(i*w+c*S+g)/I}},n.squareToQuadrilateral=function(t,e,r,i,o,u,c,f){var d=t-r+o-c,g=e-i+u-f;if(d===0&&g===0)return new n(r-t,o-r,t,i-e,u-i,e,0,0,1);var m=r-o,_=c-o,E=i-u,w=f-u,S=m*w-_*E,I=(d*w-_*g)/S,N=(m*g-d*E)/S;return new n(r-t+I*r,c-t+N*c,t,i-e+I*i,f-e+N*f,e,I,N,1)},n.quadrilateralToSquare=function(t,e,r,i,o,u,c,f){return n.squareToQuadrilateral(t,e,r,i,o,u,c,f).buildAdjoint()},n.prototype.buildAdjoint=function(){return new n(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},n.prototype.times=function(t){return new n(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)},n})(),Lb=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Bb=(function(n){Lb(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.sampleGrid=function(e,r,i,o,u,c,f,d,g,m,_,E,w,S,I,N,L,V,j){var Q=Lx.quadrilateralToQuadrilateral(o,u,c,f,d,g,m,_,E,w,S,I,N,L,V,j);return this.sampleGridWithTransform(e,r,i,Q)},t.prototype.sampleGridWithTransform=function(e,r,i,o){if(r<=0||i<=0)throw new et;for(var u=new Ci(r,i),c=new Float32Array(2*r),f=0;f<i;f++){for(var d=c.length,g=f+.5,m=0;m<d;m+=2)c[m]=m/2+.5,c[m+1]=g;o.transformPoints(c),O_.checkAndNudgePoints(e,c);try{for(var m=0;m<d;m+=2)e.get(Math.floor(c[m]),Math.floor(c[m+1]))&&u.set(m/2,f)}catch{throw new et}}return u},t})(O_),yg=(function(){function n(){}return n.setGridSampler=function(t){n.gridSampler=t},n.getInstance=function(){return n.gridSampler},n.gridSampler=new Bb,n})(),Qn=(function(){function n(t,e){this.x=t,this.y=e}return n.prototype.toResultPoint=function(){return new vt(this.getX(),this.getY())},n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n})(),Vb=(function(){function n(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}return n.prototype.detect=function(){return this.detectMirror(!1)},n.prototype.detectMirror=function(t){var e=this.getMatrixCenter(),r=this.getBullsEyeCorners(e);if(t){var i=r[0];r[0]=r[2],r[2]=i}this.extractParameters(r);var o=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),u=this.getMatrixCornerPoints(r);return new Pb(o,u,this.compact,this.nbDataBlocks,this.nbLayers)},n.prototype.extractParameters=function(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new et;var e=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(t[0],t[1],e),this.sampleLine(t[1],t[2],e),this.sampleLine(t[2],t[3],e),this.sampleLine(t[3],t[0],e)]);this.shift=this.getRotation(r,e);for(var i=0,o=0;o<4;o++){var u=r[(this.shift+o)%4];this.compact?(i<<=7,i+=u>>1&127):(i<<=10,i+=(u>>2&992)+(u>>1&31))}var c=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)},n.prototype.getRotation=function(t,e){var r=0;t.forEach(function(o,u,c){var f=(o>>e-2<<1)+(o&1);r=(r<<3)+f}),r=((r&1)<<11)+(r>>1);for(var i=0;i<4;i++)if(Ut.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new et},n.prototype.getCorrectedParameterData=function(t,e){var r,i;e?(r=7,i=2):(r=10,i=4);for(var o=r-i,u=new Int32Array(r),c=r-1;c>=0;--c)u[c]=t&15,t>>=4;try{var f=new fd(Jn.AZTEC_PARAM);f.decode(u,o)}catch{throw new et}for(var d=0,c=0;c<i;c++)d=(d<<4)+u[c];return d},n.prototype.getBullsEyeCorners=function(t){var e=t,r=t,i=t,o=t,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var c=this.getFirstDifferent(e,u,1,-1),f=this.getFirstDifferent(r,u,1,1),d=this.getFirstDifferent(i,u,-1,1),g=this.getFirstDifferent(o,u,-1,-1);if(this.nbCenterLayers>2){var m=this.distancePoint(g,c)*this.nbCenterLayers/(this.distancePoint(o,e)*(this.nbCenterLayers+2));if(m<.75||m>1.25||!this.isWhiteOrBlackRectangle(c,f,d,g))break}e=c,r=f,i=d,o=g,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new et;this.compact=this.nbCenterLayers===5;var _=new vt(e.getX()+.5,e.getY()-.5),E=new vt(r.getX()+.5,r.getY()+.5),w=new vt(i.getX()-.5,i.getY()+.5),S=new vt(o.getX()-.5,o.getY()-.5);return this.expandSquare([_,E,w,S],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},n.prototype.getMatrixCenter=function(){var t,e,r,i;try{var o=new pp(this.image).detect();t=o[0],e=o[1],r=o[2],i=o[3]}catch{var u=this.image.getWidth()/2,c=this.image.getHeight()/2;t=this.getFirstDifferent(new Qn(u+7,c-7),!1,1,-1).toResultPoint(),e=this.getFirstDifferent(new Qn(u+7,c+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Qn(u-7,c+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Qn(u-7,c-7),!1,-1,-1).toResultPoint()}var f=ee.round((t.getX()+i.getX()+e.getX()+r.getX())/4),d=ee.round((t.getY()+i.getY()+e.getY()+r.getY())/4);try{var o=new pp(this.image,15,f,d).detect();t=o[0],e=o[1],r=o[2],i=o[3]}catch{t=this.getFirstDifferent(new Qn(f+7,d-7),!1,1,-1).toResultPoint(),e=this.getFirstDifferent(new Qn(f+7,d+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Qn(f-7,d+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Qn(f-7,d-7),!1,-1,-1).toResultPoint()}return f=ee.round((t.getX()+i.getX()+e.getX()+r.getX())/4),d=ee.round((t.getY()+i.getY()+e.getY()+r.getY())/4),new Qn(f,d)},n.prototype.getMatrixCornerPoints=function(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())},n.prototype.sampleGrid=function(t,e,r,i,o){var u=yg.getInstance(),c=this.getDimension(),f=c/2-this.nbCenterLayers,d=c/2+this.nbCenterLayers;return u.sampleGrid(t,c,c,f,f,d,f,d,d,f,d,e.getX(),e.getY(),r.getX(),r.getY(),i.getX(),i.getY(),o.getX(),o.getY())},n.prototype.sampleLine=function(t,e,r){for(var i=0,o=this.distanceResultPoint(t,e),u=o/r,c=t.getX(),f=t.getY(),d=u*(e.getX()-t.getX())/o,g=u*(e.getY()-t.getY())/o,m=0;m<r;m++)this.image.get(ee.round(c+m*d),ee.round(f+m*g))&&(i|=1<<r-m-1);return i},n.prototype.isWhiteOrBlackRectangle=function(t,e,r,i){var o=3;t=new Qn(t.getX()-o,t.getY()+o),e=new Qn(e.getX()-o,e.getY()-o),r=new Qn(r.getX()+o,r.getY()-o),i=new Qn(i.getX()+o,i.getY()+o);var u=this.getColor(i,t);if(u===0)return!1;var c=this.getColor(t,e);return c!==u||(c=this.getColor(e,r),c!==u)?!1:(c=this.getColor(r,i),c===u)},n.prototype.getColor=function(t,e){for(var r=this.distancePoint(t,e),i=(e.getX()-t.getX())/r,o=(e.getY()-t.getY())/r,u=0,c=t.getX(),f=t.getY(),d=this.image.get(t.getX(),t.getY()),g=Math.ceil(r),m=0;m<g;m++)c+=i,f+=o,this.image.get(ee.round(c),ee.round(f))!==d&&u++;var _=u/r;return _>.1&&_<.9?0:_<=.1===d?1:-1},n.prototype.getFirstDifferent=function(t,e,r,i){for(var o=t.getX()+r,u=t.getY()+i;this.isValid(o,u)&&this.image.get(o,u)===e;)o+=r,u+=i;for(o-=r,u-=i;this.isValid(o,u)&&this.image.get(o,u)===e;)o+=r;for(o-=r;this.isValid(o,u)&&this.image.get(o,u)===e;)u+=i;return u-=i,new Qn(o,u)},n.prototype.expandSquare=function(t,e,r){var i=r/(2*e),o=t[0].getX()-t[2].getX(),u=t[0].getY()-t[2].getY(),c=(t[0].getX()+t[2].getX())/2,f=(t[0].getY()+t[2].getY())/2,d=new vt(c+i*o,f+i*u),g=new vt(c-i*o,f-i*u);o=t[1].getX()-t[3].getX(),u=t[1].getY()-t[3].getY(),c=(t[1].getX()+t[3].getX())/2,f=(t[1].getY()+t[3].getY())/2;var m=new vt(c+i*o,f+i*u),_=new vt(c-i*o,f-i*u),E=[d,m,g,_];return E},n.prototype.isValid=function(t,e){return t>=0&&t<this.image.getWidth()&&e>0&&e<this.image.getHeight()},n.prototype.isValidPoint=function(t){var e=ee.round(t.getX()),r=ee.round(t.getY());return this.isValid(e,r)},n.prototype.distancePoint=function(t,e){return ee.distance(t.getX(),t.getY(),e.getX(),e.getY())},n.prototype.distanceResultPoint=function(t,e){return ee.distance(t.getX(),t.getY(),e.getX(),e.getY())},n.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Ut.truncDivision(this.nbLayers-4,8)+1)+15},n})(),gp=(function(){function n(){}return n.prototype.decode=function(t,e){e===void 0&&(e=null);var r=null,i=new Vb(t.getBlackMatrix()),o=null,u=null;try{var c=i.detectMirror(!1);o=c.getPoints(),this.reportFoundResultPoints(e,o),u=new R_().decode(c)}catch(m){r=m}if(u==null)try{var c=i.detectMirror(!0);o=c.getPoints(),this.reportFoundResultPoints(e,o),u=new R_().decode(c)}catch(m){throw r??m}var f=new Bn(u.getText(),u.getRawBytes(),u.getNumBits(),o,xt.AZTEC,Ee.currentTimeMillis()),d=u.getByteSegments();d!=null&&f.putMetadata(In.BYTE_SEGMENTS,d);var g=u.getECLevel();return g!=null&&f.putMetadata(In.ERROR_CORRECTION_LEVEL,g),f},n.prototype.reportFoundResultPoints=function(t,e){if(t!=null){var r=t.get(Ie.NEED_RESULT_POINT_CALLBACK);r!=null&&e.forEach(function(i,o,u){r.foundPossibleResultPoint(i)})}},n.prototype.reset=function(){},n})(),kb=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})();(function(n){kb(t,n);function t(e){return e===void 0&&(e=500),n.call(this,new gp,e)||this}return t})(Tu);var sn=(function(){function n(){}return n.prototype.decode=function(t,e){try{return this.doDecode(t,e)}catch{var r=e&&e.get(Ie.TRY_HARDER)===!0;if(r&&t.isRotateSupported()){var i=t.rotateCounterClockwise(),o=this.doDecode(i,e),u=o.getResultMetadata(),c=270;u!==null&&u.get(In.ORIENTATION)===!0&&(c=c+u.get(In.ORIENTATION)%360),o.putMetadata(In.ORIENTATION,c);var f=o.getResultPoints();if(f!==null)for(var d=i.getHeight(),g=0;g<f.length;g++)f[g]=new vt(d-f[g].getY()-1,f[g].getX());return o}else throw new et}},n.prototype.reset=function(){},n.prototype.doDecode=function(t,e){var r=t.getWidth(),i=t.getHeight(),o=new vn(r),u=e&&e.get(Ie.TRY_HARDER)===!0,c=Math.max(1,i>>(u?8:5)),f;u?f=i:f=15;for(var d=Math.trunc(i/2),g=0;g<f;g++){var m=Math.trunc((g+1)/2),_=(g&1)===0,E=d+c*(_?m:-m);if(E<0||E>=i)break;try{o=t.getBlackRow(E,o)}catch{continue}for(var w=function(L){if(L===1&&(o.reverse(),e&&e.get(Ie.NEED_RESULT_POINT_CALLBACK)===!0)){var V=new Map;e.forEach(function(Z,b){return V.set(b,Z)}),V.delete(Ie.NEED_RESULT_POINT_CALLBACK),e=V}try{var j=S.decodeRow(E,o,e);if(L===1){j.putMetadata(In.ORIENTATION,180);var Q=j.getResultPoints();Q!==null&&(Q[0]=new vt(r-Q[0].getX()-1,Q[0].getY()),Q[1]=new vt(r-Q[1].getX()-1,Q[1].getY()))}return{value:j}}catch{}},S=this,I=0;I<2;I++){var N=w(I);if(typeof N=="object")return N.value}}throw new et},n.recordPattern=function(t,e,r){for(var i=r.length,o=0;o<i;o++)r[o]=0;var u=t.getSize();if(e>=u)throw new et;for(var c=!t.get(e),f=0,d=e;d<u;){if(t.get(d)!==c)r[f]++;else{if(++f===i)break;r[f]=1,c=!c}d++}if(!(f===i||f===i-1&&d===u))throw new et},n.recordPatternInReverse=function(t,e,r){for(var i=r.length,o=t.get(e);e>0&&i>=0;)t.get(--e)!==o&&(i--,o=!o);if(i>=0)throw new et;n.recordPattern(t,e+1,r)},n.patternMatchVariance=function(t,e,r){for(var i=t.length,o=0,u=0,c=0;c<i;c++)o+=t[c],u+=e[c];if(o<u)return Number.POSITIVE_INFINITY;var f=o/u;r*=f;for(var d=0,g=0;g<i;g++){var m=t[g],_=e[g]*f,E=m>_?m-_:_-m;if(E>r)return Number.POSITIVE_INFINITY;d+=E}return d/o},n})(),Ub=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),D_=(function(n){Ub(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.findStartPattern=function(e){for(var r=e.getSize(),i=e.getNextSet(0),o=0,u=Int32Array.from([0,0,0,0,0,0]),c=i,f=!1,d=6,g=i;g<r;g++)if(e.get(g)!==f)u[o]++;else{if(o===d-1){for(var m=t.MAX_AVG_VARIANCE,_=-1,E=t.CODE_START_A;E<=t.CODE_START_C;E++){var w=sn.patternMatchVariance(u,t.CODE_PATTERNS[E],t.MAX_INDIVIDUAL_VARIANCE);w<m&&(m=w,_=E)}if(_>=0&&e.isRange(Math.max(0,c-(g-c)/2),c,!1))return Int32Array.from([c,g,_]);c+=u[0]+u[1],u=u.slice(2,u.length),u[o-1]=0,u[o]=0,o--}else o++;u[o]=1,f=!f}throw new et},t.decodeCode=function(e,r,i){sn.recordPattern(e,i,r);for(var o=t.MAX_AVG_VARIANCE,u=-1,c=0;c<t.CODE_PATTERNS.length;c++){var f=t.CODE_PATTERNS[c],d=this.patternMatchVariance(r,f,t.MAX_INDIVIDUAL_VARIANCE);d<o&&(o=d,u=c)}if(u>=0)return u;throw new et},t.prototype.decodeRow=function(e,r,i){var o=i&&i.get(Ie.ASSUME_GS1)===!0,u=t.findStartPattern(r),c=u[2],f=0,d=new Uint8Array(20);d[f++]=c;var g;switch(c){case t.CODE_START_A:g=t.CODE_CODE_A;break;case t.CODE_START_B:g=t.CODE_CODE_B;break;case t.CODE_START_C:g=t.CODE_CODE_C;break;default:throw new ft}for(var m=!1,_=!1,E="",w=u[0],S=u[1],I=Int32Array.from([0,0,0,0,0,0]),N=0,L=0,V=c,j=0,Q=!0,Z=!1,b=!1;!m;){var R=_;switch(_=!1,N=L,L=t.decodeCode(r,I,S),d[f++]=L,L!==t.CODE_STOP&&(Q=!0),L!==t.CODE_STOP&&(j++,V+=j*L),w=S,S+=I.reduce(function(lt,Et){return lt+Et},0),L){case t.CODE_START_A:case t.CODE_START_B:case t.CODE_START_C:throw new ft}switch(g){case t.CODE_CODE_A:if(L<64)b===Z?E+=String.fromCharCode(32+L):E+=String.fromCharCode(32+L+128),b=!1;else if(L<96)b===Z?E+=String.fromCharCode(L-64):E+=String.fromCharCode(L+64),b=!1;else switch(L!==t.CODE_STOP&&(Q=!1),L){case t.CODE_FNC_1:o&&(E.length===0?E+="]C1":E+="");break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_A:!Z&&b?(Z=!0,b=!1):Z&&b?(Z=!1,b=!1):b=!0;break;case t.CODE_SHIFT:_=!0,g=t.CODE_CODE_B;break;case t.CODE_CODE_B:g=t.CODE_CODE_B;break;case t.CODE_CODE_C:g=t.CODE_CODE_C;break;case t.CODE_STOP:m=!0;break}break;case t.CODE_CODE_B:if(L<96)b===Z?E+=String.fromCharCode(32+L):E+=String.fromCharCode(32+L+128),b=!1;else switch(L!==t.CODE_STOP&&(Q=!1),L){case t.CODE_FNC_1:o&&(E.length===0?E+="]C1":E+="");break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_B:!Z&&b?(Z=!0,b=!1):Z&&b?(Z=!1,b=!1):b=!0;break;case t.CODE_SHIFT:_=!0,g=t.CODE_CODE_A;break;case t.CODE_CODE_A:g=t.CODE_CODE_A;break;case t.CODE_CODE_C:g=t.CODE_CODE_C;break;case t.CODE_STOP:m=!0;break}break;case t.CODE_CODE_C:if(L<100)L<10&&(E+="0"),E+=L;else switch(L!==t.CODE_STOP&&(Q=!1),L){case t.CODE_FNC_1:o&&(E.length===0?E+="]C1":E+="");break;case t.CODE_CODE_A:g=t.CODE_CODE_A;break;case t.CODE_CODE_B:g=t.CODE_CODE_B;break;case t.CODE_STOP:m=!0;break}break}R&&(g=g===t.CODE_CODE_A?t.CODE_CODE_B:t.CODE_CODE_A)}var P=S-w;if(S=r.getNextUnset(S),!r.isRange(S,Math.min(r.getSize(),S+(S-w)/2),!1))throw new et;if(V-=j*N,V%103!==N)throw new gn;var B=E.length;if(B===0)throw new et;B>0&&Q&&(g===t.CODE_CODE_C?E=E.substring(0,B-2):E=E.substring(0,B-1));for(var U=(u[1]+u[0])/2,F=w+P/2,D=d.length,yt=new Uint8Array(D),bt=0;bt<D;bt++)yt[bt]=d[bt];var tt=[new vt(U,e),new vt(F,e)];return new Bn(E,yt,0,tt,xt.CODE_128,new Date().getTime())},t.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],t.MAX_AVG_VARIANCE=.25,t.MAX_INDIVIDUAL_VARIANCE=.7,t.CODE_SHIFT=98,t.CODE_CODE_C=99,t.CODE_CODE_B=100,t.CODE_CODE_A=101,t.CODE_FNC_1=102,t.CODE_FNC_2=97,t.CODE_FNC_3=96,t.CODE_FNC_4_A=101,t.CODE_FNC_4_B=100,t.CODE_START_A=103,t.CODE_START_B=104,t.CODE_START_C=105,t.CODE_STOP=106,t})(sn),Fb=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),b0=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},N_=(function(n){Fb(t,n);function t(e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var i=n.call(this)||this;return i.usingCheckDigit=e,i.extendedMode=r,i.decodeRowResult="",i.counters=new Int32Array(9),i}return t.prototype.decodeRow=function(e,r,i){var o,u,c,f,d=this.counters;d.fill(0),this.decodeRowResult="";var g=t.findAsteriskPattern(r,d),m=r.getNextSet(g[1]),_=r.getSize(),E,w;do{t.recordPattern(r,m,d);var S=t.toNarrowWidePattern(d);if(S<0)throw new et;E=t.patternToChar(S),this.decodeRowResult+=E,w=m;try{for(var I=(o=void 0,b0(d)),N=I.next();!N.done;N=I.next()){var L=N.value;m+=L}}catch(D){o={error:D}}finally{try{N&&!N.done&&(u=I.return)&&u.call(I)}finally{if(o)throw o.error}}m=r.getNextSet(m)}while(E!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var V=0;try{for(var j=b0(d),Q=j.next();!Q.done;Q=j.next()){var L=Q.value;V+=L}}catch(D){c={error:D}}finally{try{Q&&!Q.done&&(f=j.return)&&f.call(j)}finally{if(c)throw c.error}}var Z=m-w-V;if(m!==_&&Z*2<V)throw new et;if(this.usingCheckDigit){for(var b=this.decodeRowResult.length-1,R=0,P=0;P<b;P++)R+=t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(P));if(this.decodeRowResult.charAt(b)!==t.ALPHABET_STRING.charAt(R%43))throw new gn;this.decodeRowResult=this.decodeRowResult.substring(0,b)}if(this.decodeRowResult.length===0)throw new et;var B;this.extendedMode?B=t.decodeExtended(this.decodeRowResult):B=this.decodeRowResult;var U=(g[1]+g[0])/2,F=w+V/2;return new Bn(B,null,0,[new vt(U,e),new vt(F,e)],xt.CODE_39,new Date().getTime())},t.findAsteriskPattern=function(e,r){for(var i=e.getSize(),o=e.getNextSet(0),u=0,c=o,f=!1,d=r.length,g=o;g<i;g++)if(e.get(g)!==f)r[u]++;else{if(u===d-1){if(this.toNarrowWidePattern(r)===t.ASTERISK_ENCODING&&e.isRange(Math.max(0,c-Math.floor((g-c)/2)),c,!1))return[c,g];c+=r[0]+r[1],r.copyWithin(0,2,2+u-1),r[u-1]=0,r[u]=0,u--}else u++;r[u]=1,f=!f}throw new et},t.toNarrowWidePattern=function(e){var r,i,o=e.length,u=0,c;do{var f=2147483647;try{for(var d=(r=void 0,b0(e)),g=d.next();!g.done;g=d.next()){var m=g.value;m<f&&m>u&&(f=m)}}catch(S){r={error:S}}finally{try{g&&!g.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}u=f,c=0;for(var _=0,E=0,w=0;w<o;w++){var m=e[w];m>u&&(E|=1<<o-1-w,c++,_+=m)}if(c===3){for(var w=0;w<o&&c>0;w++){var m=e[w];if(m>u&&(c--,m*2>=_))return-1}return E}}while(c>3);return-1},t.patternToChar=function(e){for(var r=0;r<t.CHARACTER_ENCODINGS.length;r++)if(t.CHARACTER_ENCODINGS[r]===e)return t.ALPHABET_STRING.charAt(r);if(e===t.ASTERISK_ENCODING)return"*";throw new et},t.decodeExtended=function(e){for(var r=e.length,i="",o=0;o<r;o++){var u=e.charAt(o);if(u==="+"||u==="$"||u==="%"||u==="/"){var c=e.charAt(o+1),f="\0";switch(u){case"+":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)+32);else throw new ft;break;case"$":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)-64);else throw new ft;break;case"%":if(c>="A"&&c<="E")f=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")f=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")f=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")f="\0";else if(c==="V")f="@";else if(c==="W")f="`";else if(c==="X"||c==="Y"||c==="Z")f="";else throw new ft;break;case"/":if(c>="A"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")f=":";else throw new ft;break}i+=f,o++}else i+=u}return i},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],t.ASTERISK_ENCODING=148,t})(sn),zb=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),R0=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},M_=(function(n){zb(t,n);function t(){var e=n.call(this)||this;return e.decodeRowResult="",e.counters=new Int32Array(6),e}return t.prototype.decodeRow=function(e,r,i){var o,u,c,f,d=this.findAsteriskPattern(r),g=r.getNextSet(d[1]),m=r.getSize(),_=this.counters;_.fill(0),this.decodeRowResult="";var E,w;do{t.recordPattern(r,g,_);var S=this.toPattern(_);if(S<0)throw new et;E=this.patternToChar(S),this.decodeRowResult+=E,w=g;try{for(var I=(o=void 0,R0(_)),N=I.next();!N.done;N=I.next()){var L=N.value;g+=L}}catch(P){o={error:P}}finally{try{N&&!N.done&&(u=I.return)&&u.call(I)}finally{if(o)throw o.error}}g=r.getNextSet(g)}while(E!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var V=0;try{for(var j=R0(_),Q=j.next();!Q.done;Q=j.next()){var L=Q.value;V+=L}}catch(P){c={error:P}}finally{try{Q&&!Q.done&&(f=j.return)&&f.call(j)}finally{if(c)throw c.error}}if(g===m||!r.get(g))throw new et;if(this.decodeRowResult.length<2)throw new et;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var Z=this.decodeExtended(this.decodeRowResult),b=(d[1]+d[0])/2,R=w+V/2;return new Bn(Z,null,0,[new vt(b,e),new vt(R,e)],xt.CODE_93,new Date().getTime())},t.prototype.findAsteriskPattern=function(e){var r=e.getSize(),i=e.getNextSet(0);this.counters.fill(0);for(var o=this.counters,u=i,c=!1,f=o.length,d=0,g=i;g<r;g++)if(e.get(g)!==c)o[d]++;else{if(d===f-1){if(this.toPattern(o)===t.ASTERISK_ENCODING)return new Int32Array([u,g]);u+=o[0]+o[1],o.copyWithin(0,2,2+d-1),o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,c=!c}throw new et},t.prototype.toPattern=function(e){var r,i,o=0;try{for(var u=R0(e),c=u.next();!c.done;c=u.next()){var f=c.value;o+=f}}catch(w){r={error:w}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}for(var d=0,g=e.length,m=0;m<g;m++){var _=Math.round(e[m]*9/o);if(_<1||_>4)return-1;if((m&1)===0)for(var E=0;E<_;E++)d=d<<1|1;else d<<=_}return d},t.prototype.patternToChar=function(e){for(var r=0;r<t.CHARACTER_ENCODINGS.length;r++)if(t.CHARACTER_ENCODINGS[r]===e)return t.ALPHABET_STRING.charAt(r);throw new et},t.prototype.decodeExtended=function(e){for(var r=e.length,i="",o=0;o<r;o++){var u=e.charAt(o);if(u>="a"&&u<="d"){if(o>=r-1)throw new ft;var c=e.charAt(o+1),f="\0";switch(u){case"d":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)+32);else throw new ft;break;case"a":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)-64);else throw new ft;break;case"b":if(c>="A"&&c<="E")f=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")f=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")f=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")f="\0";else if(c==="V")f="@";else if(c==="W")f="`";else if(c>="X"&&c<="Z")f="";else throw new ft;break;case"c":if(c>="A"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")f=":";else throw new ft;break}i+=f,o++}else i+=u}return i},t.prototype.checkChecksums=function(e){var r=e.length;this.checkOneChecksum(e,r-2,20),this.checkOneChecksum(e,r-1,15)},t.prototype.checkOneChecksum=function(e,r,i){for(var o=1,u=0,c=r-1;c>=0;c--)u+=o*t.ALPHABET_STRING.indexOf(e.charAt(c)),++o>i&&(o=1);if(e.charAt(r)!==t.ALPHABET_STRING[u%47])throw new gn},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",t.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],t.ASTERISK_ENCODING=t.CHARACTER_ENCODINGS[47],t})(sn),Hb=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),jb=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},P_=(function(n){Hb(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.narrowLineWidth=-1,e}return t.prototype.decodeRow=function(e,r,i){var o,u,c=this.decodeStart(r),f=this.decodeEnd(r),d=new kt;t.decodeMiddle(r,c[1],f[0],d);var g=d.toString(),m=null;i!=null&&(m=i.get(Ie.ALLOWED_LENGTHS)),m==null&&(m=t.DEFAULT_ALLOWED_LENGTHS);var _=g.length,E=!1,w=0;try{for(var S=jb(m),I=S.next();!I.done;I=S.next()){var N=I.value;if(_===N){E=!0;break}N>w&&(w=N)}}catch(j){o={error:j}}finally{try{I&&!I.done&&(u=S.return)&&u.call(S)}finally{if(o)throw o.error}}if(!E&&_>w&&(E=!0),!E)throw new ft;var L=[new vt(c[1],e),new vt(f[0],e)],V=new Bn(g,null,0,L,xt.ITF,new Date().getTime());return V},t.decodeMiddle=function(e,r,i,o){var u=new Int32Array(10),c=new Int32Array(5),f=new Int32Array(5);for(u.fill(0),c.fill(0),f.fill(0);r<i;){sn.recordPattern(e,r,u);for(var d=0;d<5;d++){var g=2*d;c[d]=u[g],f[d]=u[g+1]}var m=t.decodeDigit(c);o.append(m.toString()),m=this.decodeDigit(f),o.append(m.toString()),u.forEach(function(_){r+=_})}},t.prototype.decodeStart=function(e){var r=t.skipWhiteSpace(e),i=t.findGuardPattern(e,r,t.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(e,i[0]),i},t.prototype.validateQuietZone=function(e,r){var i=this.narrowLineWidth*10;i=i<r?i:r;for(var o=r-1;i>0&&o>=0&&!e.get(o);o--)i--;if(i!==0)throw new et},t.skipWhiteSpace=function(e){var r=e.getSize(),i=e.getNextSet(0);if(i===r)throw new et;return i},t.prototype.decodeEnd=function(e){e.reverse();try{var r=t.skipWhiteSpace(e),i=void 0;try{i=t.findGuardPattern(e,r,t.END_PATTERN_REVERSED[0])}catch(u){u instanceof et&&(i=t.findGuardPattern(e,r,t.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,i[0]);var o=i[0];return i[0]=e.getSize()-i[1],i[1]=e.getSize()-o,i}finally{e.reverse()}},t.findGuardPattern=function(e,r,i){var o=i.length,u=new Int32Array(o),c=e.getSize(),f=!1,d=0,g=r;u.fill(0);for(var m=r;m<c;m++)if(e.get(m)!==f)u[d]++;else{if(d===o-1){if(sn.patternMatchVariance(u,i,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return[g,m];g+=u[0]+u[1],Ee.arraycopy(u,2,u,0,d-1),u[d-1]=0,u[d]=0,d--}else d++;u[d]=1,f=!f}throw new et},t.decodeDigit=function(e){for(var r=t.MAX_AVG_VARIANCE,i=-1,o=t.PATTERNS.length,u=0;u<o;u++){var c=t.PATTERNS[u],f=sn.patternMatchVariance(e,c,t.MAX_INDIVIDUAL_VARIANCE);f<r?(r=f,i=u):f===r&&(i=-1)}if(i>=0)return i%10;throw new et},t.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],t.MAX_AVG_VARIANCE=.38,t.MAX_INDIVIDUAL_VARIANCE=.5,t.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],t.START_PATTERN=Int32Array.from([1,1,1,1]),t.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],t})(sn),Gb=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),gu=(function(n){Gb(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.decodeRowStringBuffer="",e}return t.findStartGuardPattern=function(e){for(var r=!1,i,o=0,u=Int32Array.from([0,0,0]);!r;){u=Int32Array.from([0,0,0]),i=t.findGuardPattern(e,o,!1,this.START_END_PATTERN,u);var c=i[0];o=i[1];var f=c-(o-c);f>=0&&(r=e.isRange(f,c,!1))}return i},t.checkChecksum=function(e){return t.checkStandardUPCEANChecksum(e)},t.checkStandardUPCEANChecksum=function(e){var r=e.length;if(r===0)return!1;var i=parseInt(e.charAt(r-1),10);return t.getStandardUPCEANChecksum(e.substring(0,r-1))===i},t.getStandardUPCEANChecksum=function(e){for(var r=e.length,i=0,o=r-1;o>=0;o-=2){var u=e.charAt(o).charCodeAt(0)-48;if(u<0||u>9)throw new ft;i+=u}i*=3;for(var o=r-2;o>=0;o-=2){var u=e.charAt(o).charCodeAt(0)-48;if(u<0||u>9)throw new ft;i+=u}return(1e3-i)%10},t.decodeEnd=function(e,r){return t.findGuardPattern(e,r,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t.findGuardPatternWithoutCounters=function(e,r,i,o){return this.findGuardPattern(e,r,i,o,new Int32Array(o.length))},t.findGuardPattern=function(e,r,i,o,u){var c=e.getSize();r=i?e.getNextUnset(r):e.getNextSet(r);for(var f=0,d=r,g=o.length,m=i,_=r;_<c;_++)if(e.get(_)!==m)u[f]++;else{if(f===g-1){if(sn.patternMatchVariance(u,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return Int32Array.from([d,_]);d+=u[0]+u[1];for(var E=u.slice(2,u.length),w=0;w<f-1;w++)u[w]=E[w];u[f-1]=0,u[f]=0,f--}else f++;u[f]=1,m=!m}throw new et},t.decodeDigit=function(e,r,i,o){this.recordPattern(e,i,r);for(var u=this.MAX_AVG_VARIANCE,c=-1,f=o.length,d=0;d<f;d++){var g=o[d],m=sn.patternMatchVariance(r,g,t.MAX_INDIVIDUAL_VARIANCE);m<u&&(u=m,c=d)}if(c>=0)return c;throw new et},t.MAX_AVG_VARIANCE=.48,t.MAX_INDIVIDUAL_VARIANCE=.7,t.START_END_PATTERN=Int32Array.from([1,1,1]),t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],t})(sn),qb=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Xb=(function(){function n(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(t,e,r){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(e,r,i),u=i.toString(),c=n.parseExtensionString(u),f=[new vt((r[0]+r[1])/2,t),new vt(o,t)],d=new Bn(u,null,0,f,xt.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&d.putAllMetadata(c),d},n.prototype.decodeMiddle=function(t,e,r){var i,o,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var c=t.getSize(),f=e[1],d=0,g=0;g<5&&f<c;g++){var m=gu.decodeDigit(t,u,f,gu.L_AND_G_PATTERNS);r+=String.fromCharCode(48+m%10);try{for(var _=(i=void 0,qb(u)),E=_.next();!E.done;E=_.next()){var w=E.value;f+=w}}catch(I){i={error:I}}finally{try{E&&!E.done&&(o=_.return)&&o.call(_)}finally{if(i)throw i.error}}m>=10&&(d|=1<<4-g),g!==4&&(f=t.getNextSet(f),f=t.getNextUnset(f))}if(r.length!==5)throw new et;var S=this.determineCheckDigit(d);if(n.extensionChecksum(r.toString())!==S)throw new et;return f},n.extensionChecksum=function(t){for(var e=t.length,r=0,i=e-2;i>=0;i-=2)r+=t.charAt(i).charCodeAt(0)-48;r*=3;for(var i=e-1;i>=0;i-=2)r+=t.charAt(i).charCodeAt(0)-48;return r*=3,r%10},n.prototype.determineCheckDigit=function(t){for(var e=0;e<10;e++)if(t===this.CHECK_DIGIT_ENCODINGS[e])return e;throw new et},n.parseExtensionString=function(t){if(t.length!==5)return null;var e=n.parseExtension5String(t);return e==null?null:new Map([[In.SUGGESTED_PRICE,e]])},n.parseExtension5String=function(t){var e;switch(t.charAt(0)){case"0":e="";break;case"5":e="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}e="";break;default:e="";break}var r=parseInt(t.substring(1)),i=(r/100).toString(),o=r%100,u=o<10?"0"+o:o.toString();return e+i+"."+u},n})(),Yb=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Kb=(function(){function n(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(t,e,r){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(e,r,i),u=i.toString(),c=n.parseExtensionString(u),f=[new vt((r[0]+r[1])/2,t),new vt(o,t)],d=new Bn(u,null,0,f,xt.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&d.putAllMetadata(c),d},n.prototype.decodeMiddle=function(t,e,r){var i,o,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var c=t.getSize(),f=e[1],d=0,g=0;g<2&&f<c;g++){var m=gu.decodeDigit(t,u,f,gu.L_AND_G_PATTERNS);r+=String.fromCharCode(48+m%10);try{for(var _=(i=void 0,Yb(u)),E=_.next();!E.done;E=_.next()){var w=E.value;f+=w}}catch(S){i={error:S}}finally{try{E&&!E.done&&(o=_.return)&&o.call(_)}finally{if(i)throw i.error}}m>=10&&(d|=1<<1-g),g!==1&&(f=t.getNextSet(f),f=t.getNextUnset(f))}if(r.length!==2)throw new et;if(parseInt(r.toString())%4!==d)throw new et;return f},n.parseExtensionString=function(t){return t.length!==2?null:new Map([[In.ISSUE_NUMBER,parseInt(t)]])},n})(),Wb=(function(){function n(){}return n.decodeRow=function(t,e,r){var i=gu.findGuardPattern(e,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var o=new Xb;return o.decodeRow(t,e,i)}catch{var u=new Kb;return u.decodeRow(t,e,i)}},n.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),n})(),Qb=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),en=(function(n){Qb(t,n);function t(){var e=n.call(this)||this;e.decodeRowStringBuffer="",t.L_AND_G_PATTERNS=t.L_PATTERNS.map(function(c){return Int32Array.from(c)});for(var r=10;r<20;r++){for(var i=t.L_PATTERNS[r-10],o=new Int32Array(i.length),u=0;u<i.length;u++)o[u]=i[i.length-u-1];t.L_AND_G_PATTERNS[r]=o}return e}return t.prototype.decodeRow=function(e,r,i){var o=t.findStartGuardPattern(r),u=i==null?null:i.get(Ie.NEED_RESULT_POINT_CALLBACK);if(u!=null){var c=new vt((o[0]+o[1])/2,e);u.foundPossibleResultPoint(c)}var f=this.decodeMiddle(r,o,this.decodeRowStringBuffer),d=f.rowOffset,g=f.resultString;if(u!=null){var m=new vt(d,e);u.foundPossibleResultPoint(m)}var _=t.decodeEnd(r,d);if(u!=null){var E=new vt((_[0]+_[1])/2,e);u.foundPossibleResultPoint(E)}var w=_[1],S=w+(w-_[0]);if(S>=r.getSize()||!r.isRange(w,S,!1))throw new et;var I=g.toString();if(I.length<8)throw new ft;if(!t.checkChecksum(I))throw new gn;var N=(o[1]+o[0])/2,L=(_[1]+_[0])/2,V=this.getBarcodeFormat(),j=[new vt(N,e),new vt(L,e)],Q=new Bn(I,null,0,j,V,new Date().getTime()),Z=0;try{var b=Wb.decodeRow(e,r,_[1]);Q.putMetadata(In.UPC_EAN_EXTENSION,b.getText()),Q.putAllMetadata(b.getResultMetadata()),Q.addResultPoints(b.getResultPoints()),Z=b.getText().length}catch{}var R=i==null?null:i.get(Ie.ALLOWED_EAN_EXTENSIONS);if(R!=null){var P=!1;for(var B in R)if(Z.toString()===B){P=!0;break}if(!P)throw new et}return V===xt.EAN_13||xt.UPC_A,Q},t.checkChecksum=function(e){return t.checkStandardUPCEANChecksum(e)},t.checkStandardUPCEANChecksum=function(e){var r=e.length;if(r===0)return!1;var i=parseInt(e.charAt(r-1),10);return t.getStandardUPCEANChecksum(e.substring(0,r-1))===i},t.getStandardUPCEANChecksum=function(e){for(var r=e.length,i=0,o=r-1;o>=0;o-=2){var u=e.charAt(o).charCodeAt(0)-48;if(u<0||u>9)throw new ft;i+=u}i*=3;for(var o=r-2;o>=0;o-=2){var u=e.charAt(o).charCodeAt(0)-48;if(u<0||u>9)throw new ft;i+=u}return(1e3-i)%10},t.decodeEnd=function(e,r){return t.findGuardPattern(e,r,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t})(gu),Zb=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),L_=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vp=(function(n){Zb(t,n);function t(){var e=n.call(this)||this;return e.decodeMiddleCounters=Int32Array.from([0,0,0,0]),e}return t.prototype.decodeMiddle=function(e,r,i){var o,u,c,f,d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;for(var g=e.getSize(),m=r[1],_=0,E=0;E<6&&m<g;E++){var w=en.decodeDigit(e,d,m,en.L_AND_G_PATTERNS);i+=String.fromCharCode(48+w%10);try{for(var S=(o=void 0,L_(d)),I=S.next();!I.done;I=S.next()){var N=I.value;m+=N}}catch(Q){o={error:Q}}finally{try{I&&!I.done&&(u=S.return)&&u.call(S)}finally{if(o)throw o.error}}w>=10&&(_|=1<<5-E)}i=t.determineFirstDigit(i,_);var L=en.findGuardPattern(e,m,!0,en.MIDDLE_PATTERN,new Int32Array(en.MIDDLE_PATTERN.length).fill(0));m=L[1];for(var E=0;E<6&&m<g;E++){var w=en.decodeDigit(e,d,m,en.L_PATTERNS);i+=String.fromCharCode(48+w);try{for(var V=(c=void 0,L_(d)),j=V.next();!j.done;j=V.next()){var N=j.value;m+=N}}catch(b){c={error:b}}finally{try{j&&!j.done&&(f=V.return)&&f.call(V)}finally{if(c)throw c.error}}}return{rowOffset:m,resultString:i}},t.prototype.getBarcodeFormat=function(){return xt.EAN_13},t.determineFirstDigit=function(e,r){for(var i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return e=String.fromCharCode(48+i)+e,e;throw new et},t.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],t})(en),$b=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),B_=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},V_=(function(n){$b(t,n);function t(){var e=n.call(this)||this;return e.decodeMiddleCounters=Int32Array.from([0,0,0,0]),e}return t.prototype.decodeMiddle=function(e,r,i){var o,u,c,f,d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;for(var g=e.getSize(),m=r[1],_=0;_<4&&m<g;_++){var E=en.decodeDigit(e,d,m,en.L_PATTERNS);i+=String.fromCharCode(48+E);try{for(var w=(o=void 0,B_(d)),S=w.next();!S.done;S=w.next()){var I=S.value;m+=I}}catch(j){o={error:j}}finally{try{S&&!S.done&&(u=w.return)&&u.call(w)}finally{if(o)throw o.error}}}var N=en.findGuardPattern(e,m,!0,en.MIDDLE_PATTERN,new Int32Array(en.MIDDLE_PATTERN.length).fill(0));m=N[1];for(var _=0;_<4&&m<g;_++){var E=en.decodeDigit(e,d,m,en.L_PATTERNS);i+=String.fromCharCode(48+E);try{for(var L=(c=void 0,B_(d)),V=L.next();!V.done;V=L.next()){var I=V.value;m+=I}}catch(Z){c={error:Z}}finally{try{V&&!V.done&&(f=L.return)&&f.call(L)}finally{if(c)throw c.error}}}return{rowOffset:m,resultString:i}},t.prototype.getBarcodeFormat=function(){return xt.EAN_8},t})(en),Jb=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),k_=(function(n){Jb(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.ean13Reader=new vp,e}return t.prototype.getBarcodeFormat=function(){return xt.UPC_A},t.prototype.decode=function(e,r){return this.maybeReturnResult(this.ean13Reader.decode(e))},t.prototype.decodeRow=function(e,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,r,i))},t.prototype.decodeMiddle=function(e,r,i){return this.ean13Reader.decodeMiddle(e,r,i)},t.prototype.maybeReturnResult=function(e){var r=e.getText();if(r.charAt(0)==="0"){var i=new Bn(r.substring(1),null,null,e.getResultPoints(),xt.UPC_A);return e.getResultMetadata()!=null&&i.putAllMetadata(e.getResultMetadata()),i}else throw new et},t.prototype.reset=function(){this.ean13Reader.reset()},t})(en),tR=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),eR=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},U_=(function(n){tR(t,n);function t(){var e=n.call(this)||this;return e.decodeMiddleCounters=new Int32Array(4),e}return t.prototype.decodeMiddle=function(e,r,i){var o,u,c=this.decodeMiddleCounters.map(function(I){return I});c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var f=e.getSize(),d=r[1],g=0,m=0;m<6&&d<f;m++){var _=t.decodeDigit(e,c,d,t.L_AND_G_PATTERNS);i+=String.fromCharCode(48+_%10);try{for(var E=(o=void 0,eR(c)),w=E.next();!w.done;w=E.next()){var S=w.value;d+=S}}catch(I){o={error:I}}finally{try{w&&!w.done&&(u=E.return)&&u.call(E)}finally{if(o)throw o.error}}_>=10&&(g|=1<<5-m)}return t.determineNumSysAndCheckDigit(new kt(i),g),d},t.prototype.decodeEnd=function(e,r){return t.findGuardPatternWithoutCounters(e,r,!0,t.MIDDLE_END_PATTERN)},t.prototype.checkChecksum=function(e){return en.checkChecksum(t.convertUPCEtoUPCA(e))},t.determineNumSysAndCheckDigit=function(e,r){for(var i=0;i<=1;i++)for(var o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){e.insert(0,"0"+i),e.append("0"+o);return}throw et.getNotFoundInstance()},t.prototype.getBarcodeFormat=function(){return xt.UPC_E},t.convertUPCEtoUPCA=function(e){var r=e.slice(1,7).split("").map(function(u){return u.charCodeAt(0)}),i=new kt;i.append(e.charAt(0));var o=r[5];switch(o){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(o),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(o);break}return e.length>=8&&i.append(e.charAt(7)),i.toString()},t.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],t})(en),nR=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),F_=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},O0=(function(n){nR(t,n);function t(e){var r=n.call(this)||this,i=e==null?null:e.get(Ie.POSSIBLE_FORMATS),o=[];return i!=null&&(i.indexOf(xt.EAN_13)>-1&&o.push(new vp),i.indexOf(xt.UPC_A)>-1&&o.push(new k_),i.indexOf(xt.EAN_8)>-1&&o.push(new V_),i.indexOf(xt.UPC_E)>-1&&o.push(new U_)),o.length===0&&(o.push(new vp),o.push(new k_),o.push(new V_),o.push(new U_)),r.readers=o,r}return t.prototype.decodeRow=function(e,r,i){var o,u;try{for(var c=F_(this.readers),f=c.next();!f.done;f=c.next()){var d=f.value;try{var g=d.decodeRow(e,r,i),m=g.getBarcodeFormat()===xt.EAN_13&&g.getText().charAt(0)==="0",_=i==null?null:i.get(Ie.POSSIBLE_FORMATS),E=_==null||_.includes(xt.UPC_A);if(m&&E){var w=g.getRawBytes(),S=new Bn(g.getText().substring(1),w,w?w.length:null,g.getResultPoints(),xt.UPC_A);return S.putAllMetadata(g.getResultMetadata()),S}return g}catch{}}}catch(I){o={error:I}}finally{try{f&&!f.done&&(u=c.return)&&u.call(c)}finally{if(o)throw o.error}}throw new et},t.prototype.reset=function(){var e,r;try{for(var i=F_(this.readers),o=i.next();!o.done;o=i.next()){var u=o.value;u.reset()}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}},t})(sn),rR=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),iR=(function(n){rR(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},e}return t.prototype.decodeRow=function(e,r,i){var o=this.getValidRowData(r);if(!o)throw new et;var u=this.codaBarDecodeRow(o.row);if(!u)throw new et;return new Bn(u,null,0,[new vt(o.left,e),new vt(o.right,e)],xt.CODABAR,new Date().getTime())},t.prototype.getValidRowData=function(e){var r=e.toArray(),i=r.indexOf(!0);if(i===-1)return null;var o=r.lastIndexOf(!0);if(o<=i)return null;r=r.slice(i,o+1);for(var u=[],c=r[0],f=1,d=1;d<r.length;d++)r[d]===c?f++:(c=r[d],u.push(f),f=1);return u.push(f),u.length<23&&(u.length+1)%8!==0?null:{row:u,left:i,right:o}},t.prototype.codaBarDecodeRow=function(e){for(var r=[],i=Math.ceil(e.reduce(function(f,d){return(f+d)/2},0));e.length>0;){var o=e.splice(0,8).splice(0,7),u=o.map(function(f){return f<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[u]===void 0)return null;r.push(this.CODA_BAR_CHAR_SET[u])}var c=r.join("");return this.validCodaBarString(c)?c:null},t.prototype.validCodaBarString=function(e){var r=/^[A-D].{1,}[A-D]$/;return r.test(e)},t})(sn),aR=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),oR=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jo=(function(n){aR(t,n);function t(){var e=n.call(this)||this;return e.decodeFinderCounters=new Int32Array(4),e.dataCharacterCounters=new Int32Array(8),e.oddRoundingErrors=new Array(4),e.evenRoundingErrors=new Array(4),e.oddCounts=new Array(e.dataCharacterCounters.length/2),e.evenCounts=new Array(e.dataCharacterCounters.length/2),e}return t.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},t.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},t.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},t.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},t.prototype.getOddCounts=function(){return this.oddCounts},t.prototype.getEvenCounts=function(){return this.evenCounts},t.prototype.parseFinderValue=function(e,r){for(var i=0;i<r.length;i++)if(sn.patternMatchVariance(e,r[i],t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return i;throw new et},t.count=function(e){return ee.sum(new Int32Array(e))},t.increment=function(e,r){for(var i=0,o=r[0],u=1;u<e.length;u++)r[u]>o&&(o=r[u],i=u);e[i]++},t.decrement=function(e,r){for(var i=0,o=r[0],u=1;u<e.length;u++)r[u]<o&&(o=r[u],i=u);e[i]--},t.isFinderPattern=function(e){var r,i,o=e[0]+e[1],u=o+e[2]+e[3],c=o/u;if(c>=t.MIN_FINDER_PATTERN_RATIO&&c<=t.MAX_FINDER_PATTERN_RATIO){var f=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;try{for(var g=oR(e),m=g.next();!m.done;m=g.next()){var _=m.value;_>d&&(d=_),_<f&&(f=_)}}catch(E){r={error:E}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(r)throw r.error}}return d<10*f}return!1},t.MAX_AVG_VARIANCE=.2,t.MAX_INDIVIDUAL_VARIANCE=.45,t.MIN_FINDER_PATTERN_RATIO=9.5/12,t.MAX_FINDER_PATTERN_RATIO=12.5/14,t})(sn),Uh=(function(){function n(t,e){this.value=t,this.checksumPortion=e}return n.prototype.getValue=function(){return this.value},n.prototype.getChecksumPortion=function(){return this.checksumPortion},n.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},n.prototype.equals=function(t){if(!(t instanceof n))return!1;var e=t;return this.value===e.value&&this.checksumPortion===e.checksumPortion},n.prototype.hashCode=function(){return this.value^this.checksumPortion},n})(),Bx=(function(){function n(t,e,r,i,o){this.value=t,this.startEnd=e,this.value=t,this.startEnd=e,this.resultPoints=new Array,this.resultPoints.push(new vt(r,o)),this.resultPoints.push(new vt(i,o))}return n.prototype.getValue=function(){return this.value},n.prototype.getStartEnd=function(){return this.startEnd},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.equals=function(t){if(!(t instanceof n))return!1;var e=t;return this.value===e.value},n.prototype.hashCode=function(){return this.value},n})(),sR=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},$s=(function(){function n(){}return n.getRSSvalue=function(t,e,r){var i,o,u=0;try{for(var c=sR(t),f=c.next();!f.done;f=c.next()){var d=f.value;u+=d}}catch(L){i={error:L}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}for(var g=0,m=0,_=t.length,E=0;E<_-1;E++){var w=void 0;for(w=1,m|=1<<E;w<t[E];w++,m&=~(1<<E)){var S=n.combins(u-w-1,_-E-2);if(r&&m===0&&u-w-(_-E-1)>=_-E-1&&(S-=n.combins(u-w-(_-E),_-E-2)),_-E-1>1){for(var I=0,N=u-w-(_-E-2);N>e;N--)I+=n.combins(u-w-N-1,_-E-3);S-=I*(_-1-E)}else u-w>e&&S--;g+=S}u-=w}return g},n.combins=function(t,e){var r,i;t-e>e?(i=e,r=t-e):(i=t-e,r=e);for(var o=1,u=1,c=t;c>r;c--)o*=c,u<=i&&(o/=u,u++);for(;u<=i;)o/=u,u++;return o},n})(),uR=(function(){function n(){}return n.buildBitArray=function(t){var e=t.length*2-1;t[t.length-1].getRightChar()==null&&(e-=1);for(var r=12*e,i=new vn(r),o=0,u=t[0],c=u.getRightChar().getValue(),f=11;f>=0;--f)(c&1<<f)!==0&&i.set(o),o++;for(var f=1;f<t.length;++f){for(var d=t[f],g=d.getLeftChar().getValue(),m=11;m>=0;--m)(g&1<<m)!==0&&i.set(o),o++;if(d.getRightChar()!==null)for(var _=d.getRightChar().getValue(),m=11;m>=0;--m)(_&1<<m)!==0&&i.set(o),o++}return i},n})(),Fo=(function(){function n(t,e){e?this.decodedInformation=null:(this.finished=t,this.decodedInformation=e)}return n.prototype.getDecodedInformation=function(){return this.decodedInformation},n.prototype.isFinished=function(){return this.finished},n})(),_g=(function(){function n(t){this.newPosition=t}return n.prototype.getNewPosition=function(){return this.newPosition},n})(),lR=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Hr=(function(n){lR(t,n);function t(e,r){var i=n.call(this,e)||this;return i.value=r,i}return t.prototype.getValue=function(){return this.value},t.prototype.isFNC1=function(){return this.value===t.FNC1},t.FNC1="$",t})(_g),cR=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),zo=(function(n){cR(t,n);function t(e,r,i){var o=n.call(this,e)||this;return i?(o.remaining=!0,o.remainingValue=o.remainingValue):(o.remaining=!1,o.remainingValue=0),o.newString=r,o}return t.prototype.getNewString=function(){return this.newString},t.prototype.isRemaining=function(){return this.remaining},t.prototype.getRemainingValue=function(){return this.remainingValue},t})(_g),fR=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Ys=(function(n){fR(t,n);function t(e,r,i){var o=n.call(this,e)||this;if(r<0||r>10||i<0||i>10)throw new ft;return o.firstDigit=r,o.secondDigit=i,o}return t.prototype.getFirstDigit=function(){return this.firstDigit},t.prototype.getSecondDigit=function(){return this.secondDigit},t.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},t.prototype.isFirstDigitFNC1=function(){return this.firstDigit===t.FNC1},t.prototype.isSecondDigitFNC1=function(){return this.secondDigit===t.FNC1},t.prototype.isAnyFNC1=function(){return this.firstDigit===t.FNC1||this.secondDigit===t.FNC1},t.FNC1=10,t})(_g),th=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},hR=(function(){function n(){}return n.parseFieldsInGeneralPurpose=function(t){var e,r,i,o,u,c,f,d;if(!t)return null;if(t.length<2)throw new et;var g=t.substring(0,2);try{for(var m=th(n.TWO_DIGIT_DATA_LENGTH),_=m.next();!_.done;_=m.next()){var E=_.value;if(E[0]===g)return E[1]===n.VARIABLE_LENGTH?n.processVariableAI(2,E[2],t):n.processFixedAI(2,E[1],t)}}catch(Z){e={error:Z}}finally{try{_&&!_.done&&(r=m.return)&&r.call(m)}finally{if(e)throw e.error}}if(t.length<3)throw new et;var w=t.substring(0,3);try{for(var S=th(n.THREE_DIGIT_DATA_LENGTH),I=S.next();!I.done;I=S.next()){var E=I.value;if(E[0]===w)return E[1]===n.VARIABLE_LENGTH?n.processVariableAI(3,E[2],t):n.processFixedAI(3,E[1],t)}}catch(Z){i={error:Z}}finally{try{I&&!I.done&&(o=S.return)&&o.call(S)}finally{if(i)throw i.error}}try{for(var N=th(n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),L=N.next();!L.done;L=N.next()){var E=L.value;if(E[0]===w)return E[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,E[2],t):n.processFixedAI(4,E[1],t)}}catch(Z){u={error:Z}}finally{try{L&&!L.done&&(c=N.return)&&c.call(N)}finally{if(u)throw u.error}}if(t.length<4)throw new et;var V=t.substring(0,4);try{for(var j=th(n.FOUR_DIGIT_DATA_LENGTH),Q=j.next();!Q.done;Q=j.next()){var E=Q.value;if(E[0]===V)return E[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,E[2],t):n.processFixedAI(4,E[1],t)}}catch(Z){f={error:Z}}finally{try{Q&&!Q.done&&(d=j.return)&&d.call(j)}finally{if(f)throw f.error}}throw new et},n.processFixedAI=function(t,e,r){if(r.length<t)throw new et;var i=r.substring(0,t);if(r.length<t+e)throw new et;var o=r.substring(t,t+e),u=r.substring(t+e),c="("+i+")"+o,f=n.parseFieldsInGeneralPurpose(u);return f==null?c:c+f},n.processVariableAI=function(t,e,r){var i=r.substring(0,t),o;r.length<t+e?o=r.length:o=t+e;var u=r.substring(t,o),c=r.substring(o),f="("+i+")"+u,d=n.parseFieldsInGeneralPurpose(c);return d==null?f:f+d},n.VARIABLE_LENGTH=[],n.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",n.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",n.VARIABLE_LENGTH,20],["22",n.VARIABLE_LENGTH,29],["30",n.VARIABLE_LENGTH,8],["37",n.VARIABLE_LENGTH,8],["90",n.VARIABLE_LENGTH,30],["91",n.VARIABLE_LENGTH,30],["92",n.VARIABLE_LENGTH,30],["93",n.VARIABLE_LENGTH,30],["94",n.VARIABLE_LENGTH,30],["95",n.VARIABLE_LENGTH,30],["96",n.VARIABLE_LENGTH,30],["97",n.VARIABLE_LENGTH,3],["98",n.VARIABLE_LENGTH,30],["99",n.VARIABLE_LENGTH,30]],n.THREE_DIGIT_DATA_LENGTH=[["240",n.VARIABLE_LENGTH,30],["241",n.VARIABLE_LENGTH,30],["242",n.VARIABLE_LENGTH,6],["250",n.VARIABLE_LENGTH,30],["251",n.VARIABLE_LENGTH,30],["253",n.VARIABLE_LENGTH,17],["254",n.VARIABLE_LENGTH,20],["400",n.VARIABLE_LENGTH,30],["401",n.VARIABLE_LENGTH,30],["402",17],["403",n.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",n.VARIABLE_LENGTH,20],["421",n.VARIABLE_LENGTH,15],["422",3],["423",n.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",n.VARIABLE_LENGTH,15],["391",n.VARIABLE_LENGTH,18],["392",n.VARIABLE_LENGTH,15],["393",n.VARIABLE_LENGTH,18],["703",n.VARIABLE_LENGTH,30]],n.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",n.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",n.VARIABLE_LENGTH,20],["8003",n.VARIABLE_LENGTH,30],["8004",n.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",n.VARIABLE_LENGTH,30],["8008",n.VARIABLE_LENGTH,12],["8018",18],["8020",n.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",n.VARIABLE_LENGTH,70],["8200",n.VARIABLE_LENGTH,70]],n})(),gh=(function(){function n(t){this.buffer=new kt,this.information=t}return n.prototype.decodeAllCodes=function(t,e){var r=e,i=null;do{var o=this.decodeGeneralPurposeField(r,i),u=hR.parseFieldsInGeneralPurpose(o.getNewString());if(u!=null&&t.append(u),o.isRemaining()?i=""+o.getRemainingValue():i=null,r===o.getNewPosition())break;r=o.getNewPosition()}while(!0);return t.toString()},n.prototype.isStillNumeric=function(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(var e=t;e<t+3;++e)if(this.information.get(e))return!0;return this.information.get(t+3)},n.prototype.decodeNumeric=function(t){if(t+7>this.information.getSize()){var e=this.extractNumericValueFromBitArray(t,4);return e===0?new Ys(this.information.getSize(),Ys.FNC1,Ys.FNC1):new Ys(this.information.getSize(),e-1,Ys.FNC1)}var r=this.extractNumericValueFromBitArray(t,7),i=(r-8)/11,o=(r-8)%11;return new Ys(t+7,i,o)},n.prototype.extractNumericValueFromBitArray=function(t,e){return n.extractNumericValueFromBitArray(this.information,t,e)},n.extractNumericValueFromBitArray=function(t,e,r){for(var i=0,o=0;o<r;++o)t.get(e+o)&&(i|=1<<r-o-1);return i},n.prototype.decodeGeneralPurposeField=function(t,e){this.buffer.setLengthToZero(),e!=null&&this.buffer.append(e),this.current.setPosition(t);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new zo(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new zo(this.current.getPosition(),this.buffer.toString())},n.prototype.parseBlocks=function(){var t,e;do{var r=this.current.getPosition();this.current.isAlpha()?(e=this.parseAlphaBlock(),t=e.isFinished()):this.current.isIsoIec646()?(e=this.parseIsoIec646Block(),t=e.isFinished()):(e=this.parseNumericBlock(),t=e.isFinished());var i=r!==this.current.getPosition();if(!i&&!t)break}while(!t);return e.getDecodedInformation()},n.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){var e=void 0;return t.isSecondDigitFNC1()?e=new zo(this.current.getPosition(),this.buffer.toString()):e=new zo(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Fo(!0,e)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){var e=new zo(this.current.getPosition(),this.buffer.toString());return new Fo(!0,e)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Fo(!1)},n.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var e=new zo(this.current.getPosition(),this.buffer.toString());return new Fo(!0,e)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Fo(!1)},n.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var e=new zo(this.current.getPosition(),this.buffer.toString());return new Fo(!0,e)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Fo(!1)},n.prototype.isStillIsoIec646=function(t){if(t+5>this.information.getSize())return!1;var e=this.extractNumericValueFromBitArray(t,5);if(e>=5&&e<16)return!0;if(t+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<116)return!0;if(t+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(t,8);return i>=232&&i<253},n.prototype.decodeIsoIec646=function(t){var e=this.extractNumericValueFromBitArray(t,5);if(e===15)return new Hr(t+5,Hr.FNC1);if(e>=5&&e<15)return new Hr(t+5,"0"+(e-5));var r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<90)return new Hr(t+7,""+(r+1));if(r>=90&&r<116)return new Hr(t+7,""+(r+7));var i=this.extractNumericValueFromBitArray(t,8),o;switch(i){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new ft}return new Hr(t+8,o)},n.prototype.isStillAlpha=function(t){if(t+5>this.information.getSize())return!1;var e=this.extractNumericValueFromBitArray(t,5);if(e>=5&&e<16)return!0;if(t+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,6);return r>=16&&r<63},n.prototype.decodeAlphanumeric=function(t){var e=this.extractNumericValueFromBitArray(t,5);if(e===15)return new Hr(t+5,Hr.FNC1);if(e>=5&&e<15)return new Hr(t+5,"0"+(e-5));var r=this.extractNumericValueFromBitArray(t,6);if(r>=32&&r<58)return new Hr(t+6,""+(r+33));var i;switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new gc("Decoding invalid alphanumeric value: "+r)}return new Hr(t+6,i)},n.prototype.isAlphaTo646ToAlphaLatch=function(t){if(t+1>this.information.getSize())return!1;for(var e=0;e<5&&e+t<this.information.getSize();++e)if(e===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+e))return!1;return!0},n.prototype.isAlphaOr646ToNumericLatch=function(t){if(t+3>this.information.getSize())return!1;for(var e=t;e<t+3;++e)if(this.information.get(e))return!1;return!0},n.prototype.isNumericToAlphaNumericLatch=function(t){if(t+1>this.information.getSize())return!1;for(var e=0;e<4&&e+t<this.information.getSize();++e)if(this.information.get(t+e))return!1;return!0},n})(),Vx=(function(){function n(t){this.information=t,this.generalDecoder=new gh(t)}return n.prototype.getInformation=function(){return this.information},n.prototype.getGeneralDecoder=function(){return this.generalDecoder},n})(),dR=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Gr=(function(n){dR(t,n);function t(e){return n.call(this,e)||this}return t.prototype.encodeCompressedGtin=function(e,r){e.append("(01)");var i=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,r,i)},t.prototype.encodeCompressedGtinWithoutAI=function(e,r,i){for(var o=0;o<4;++o){var u=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);u/100===0&&e.append("0"),u/10===0&&e.append("0"),e.append(u)}t.appendCheckDigit(e,i)},t.appendCheckDigit=function(e,r){for(var i=0,o=0;o<13;o++){var u=e.charAt(o+r).charCodeAt(0)-48;i+=(o&1)===0?3*u:u}i=10-i%10,i===10&&(i=0),e.append(i)},t.GTIN_SIZE=40,t})(Vx),pR=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),gR=(function(n){pR(t,n);function t(e){return n.call(this,e)||this}return t.prototype.parseInformation=function(){var e=new kt;e.append("(01)");var r=e.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE,4);return e.append(i),this.encodeCompressedGtinWithoutAI(e,t.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(e,t.HEADER_SIZE+44)},t.HEADER_SIZE=4,t})(Gr),vR=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),mR=(function(n){vR(t,n);function t(e){return n.call(this,e)||this}return t.prototype.parseInformation=function(){var e=new kt;return this.getGeneralDecoder().decodeAllCodes(e,t.HEADER_SIZE)},t.HEADER_SIZE=5,t})(Vx),yR=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),vh=(function(n){yR(t,n);function t(e){return n.call(this,e)||this}return t.prototype.encodeCompressedWeight=function(e,r,i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(e,o);for(var u=this.checkWeight(o),c=1e5,f=0;f<5;++f)u/c===0&&e.append("0"),c/=10;e.append(u)},t})(Gr),_R=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),kx=(function(n){_R(t,n);function t(e){return n.call(this,e)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+vh.GTIN_SIZE+t.WEIGHT_SIZE)throw new et;var e=new kt;return this.encodeCompressedGtin(e,t.HEADER_SIZE),this.encodeCompressedWeight(e,t.HEADER_SIZE+vh.GTIN_SIZE,t.WEIGHT_SIZE),e.toString()},t.HEADER_SIZE=5,t.WEIGHT_SIZE=15,t})(vh),ER=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),AR=(function(n){ER(t,n);function t(e){return n.call(this,e)||this}return t.prototype.addWeightCode=function(e,r){e.append("(3103)")},t.prototype.checkWeight=function(e){return e},t})(kx),xR=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),wR=(function(n){xR(t,n);function t(e){return n.call(this,e)||this}return t.prototype.addWeightCode=function(e,r){r<1e4?e.append("(3202)"):e.append("(3203)")},t.prototype.checkWeight=function(e){return e<1e4?e:e-1e4},t})(kx),TR=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),SR=(function(n){TR(t,n);function t(e){return n.call(this,e)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+Gr.GTIN_SIZE)throw new et;var e=new kt;this.encodeCompressedGtin(e,t.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Gr.GTIN_SIZE,t.LAST_DIGIT_SIZE);e.append("(392"),e.append(r),e.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+Gr.GTIN_SIZE+t.LAST_DIGIT_SIZE,null);return e.append(i.getNewString()),e.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t})(Gr),CR=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),IR=(function(n){CR(t,n);function t(e){return n.call(this,e)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+Gr.GTIN_SIZE)throw new et;var e=new kt;this.encodeCompressedGtin(e,t.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Gr.GTIN_SIZE,t.LAST_DIGIT_SIZE);e.append("(393"),e.append(r),e.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Gr.GTIN_SIZE+t.LAST_DIGIT_SIZE,t.FIRST_THREE_DIGITS_SIZE);i/100===0&&e.append("0"),i/10===0&&e.append("0"),e.append(i);var o=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+Gr.GTIN_SIZE+t.LAST_DIGIT_SIZE+t.FIRST_THREE_DIGITS_SIZE,null);return e.append(o.getNewString()),e.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t.FIRST_THREE_DIGITS_SIZE=10,t})(Gr),bR=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Va=(function(n){bR(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.dateCode=i,o.firstAIdigits=r,o}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE+t.DATE_SIZE)throw new et;var e=new kt;return this.encodeCompressedGtin(e,t.HEADER_SIZE),this.encodeCompressedWeight(e,t.HEADER_SIZE+t.GTIN_SIZE,t.WEIGHT_SIZE),this.encodeCompressedDate(e,t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE),e.toString()},t.prototype.encodeCompressedDate=function(e,r){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,t.DATE_SIZE);if(i!==38400){e.append("("),e.append(this.dateCode),e.append(")");var o=i%32;i/=32;var u=i%12+1;i/=12;var c=i;c/10===0&&e.append("0"),e.append(c),u/10===0&&e.append("0"),e.append(u),o/10===0&&e.append("0"),e.append(o)}},t.prototype.addWeightCode=function(e,r){e.append("("),e.append(this.firstAIdigits),e.append(r/1e5),e.append(")")},t.prototype.checkWeight=function(e){return e%1e5},t.HEADER_SIZE=8,t.WEIGHT_SIZE=20,t.DATE_SIZE=16,t})(vh);function RR(n){try{if(n.get(1))return new gR(n);if(!n.get(2))return new mR(n);var t=gh.extractNumericValueFromBitArray(n,1,4);switch(t){case 4:return new AR(n);case 5:return new wR(n)}var e=gh.extractNumericValueFromBitArray(n,1,5);switch(e){case 12:return new SR(n);case 13:return new IR(n)}var r=gh.extractNumericValueFromBitArray(n,1,7);switch(r){case 56:return new Va(n,"310","11");case 57:return new Va(n,"320","11");case 58:return new Va(n,"310","13");case 59:return new Va(n,"320","13");case 60:return new Va(n,"310","15");case 61:return new Va(n,"320","15");case 62:return new Va(n,"310","17");case 63:return new Va(n,"320","17")}}catch(i){throw console.log(i),new gc("unknown decoder: "+n)}}var z_=(function(){function n(t,e,r,i){this.leftchar=t,this.rightchar=e,this.finderpattern=r,this.maybeLast=i}return n.prototype.mayBeLast=function(){return this.maybeLast},n.prototype.getLeftChar=function(){return this.leftchar},n.prototype.getRightChar=function(){return this.rightchar},n.prototype.getFinderPattern=function(){return this.finderpattern},n.prototype.mustBeLast=function(){return this.rightchar==null},n.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},n.equals=function(t,e){return t instanceof n?n.equalsOrNull(t.leftchar,e.leftchar)&&n.equalsOrNull(t.rightchar,e.rightchar)&&n.equalsOrNull(t.finderpattern,e.finderpattern):!1},n.equalsOrNull=function(t,e){return t===null?e===null:n.equals(t,e)},n.prototype.hashCode=function(){var t=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return t},n})(),OR=(function(){function n(t,e,r){this.pairs=t,this.rowNumber=e,this.wasReversed=r}return n.prototype.getPairs=function(){return this.pairs},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.isReversed=function(){return this.wasReversed},n.prototype.isEquivalent=function(t){return this.checkEqualitity(this,t)},n.prototype.toString=function(){return"{ "+this.pairs+" }"},n.prototype.equals=function(t,e){return t instanceof n?this.checkEqualitity(t,e)&&t.wasReversed===e.wasReversed:!1},n.prototype.checkEqualitity=function(t,e){if(!(!t||!e)){var r;return t.forEach(function(i,o){e.forEach(function(u){i.getLeftChar().getValue()===u.getLeftChar().getValue()&&i.getRightChar().getValue()===u.getRightChar().getValue()&&i.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(r=!0)})}),r}},n})(),DR=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),ka=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},NR=(function(n){DR(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.pairs=new Array(t.MAX_PAIRS),e.rows=new Array,e.startEnd=[2],e}return t.prototype.decodeRow=function(e,r,i){this.pairs.length=0,this.startFromEven=!1;try{return t.constructResult(this.decodeRow2pairs(e,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,t.constructResult(this.decodeRow2pairs(e,r))},t.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},t.prototype.decodeRow2pairs=function(e,r){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,e))}catch(c){if(c instanceof et){if(!this.pairs.length)throw new et;i=!0}}if(this.checkChecksum())return this.pairs;var o;if(this.rows.length?o=!0:o=!1,this.storeRow(e,!1),o){var u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new et},t.prototype.checkRowsBoolean=function(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(i){console.log(i)}return e&&(this.rows=this.rows.reverse()),r},t.prototype.checkRows=function(e,r){for(var i,o,u=r;u<this.rows.length;u++){var c=this.rows[u];this.pairs.length=0;try{for(var f=(i=void 0,ka(e)),d=f.next();!d.done;d=f.next()){var g=d.value;this.pairs.push(g.getPairs())}}catch(_){i={error:_}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}if(this.pairs.push(c.getPairs()),!!t.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var m=new Array(e);m.push(c);try{return this.checkRows(m,u+1)}catch(_){console.log(_)}}}throw new et},t.isValidSequence=function(e){var r,i;try{for(var o=ka(t.FINDER_PATTERN_SEQUENCES),u=o.next();!u.done;u=o.next()){var c=u.value;if(!(e.length>c.length)){for(var f=!0,d=0;d<e.length;d++)if(e[d].getFinderPattern().getValue()!==c[d]){f=!1;break}if(f)return!0}}}catch(g){r={error:g}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return!1},t.prototype.storeRow=function(e,r){for(var i=0,o=!1,u=!1;i<this.rows.length;){var c=this.rows[i];if(c.getRowNumber()>e){u=c.isEquivalent(this.pairs);break}o=c.isEquivalent(this.pairs),i++}u||o||t.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new OR(this.pairs,e,r)),this.removePartialRows(this.pairs,this.rows))},t.prototype.removePartialRows=function(e,r){var i,o,u,c,f,d;try{for(var g=ka(r),m=g.next();!m.done;m=g.next()){var _=m.value;if(_.getPairs().length!==e.length){var E=!0;try{for(var w=(u=void 0,ka(_.getPairs())),S=w.next();!S.done;S=w.next()){var I=S.value,N=!1;try{for(var L=(f=void 0,ka(e)),V=L.next();!V.done;V=L.next()){var j=V.value;if(z_.equals(I,j)){N=!0;break}}}catch(Q){f={error:Q}}finally{try{V&&!V.done&&(d=L.return)&&d.call(L)}finally{if(f)throw f.error}}N||(E=!1)}}catch(Q){u={error:Q}}finally{try{S&&!S.done&&(c=w.return)&&c.call(w)}finally{if(u)throw u.error}}}}}catch(Q){i={error:Q}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}},t.isPartialRow=function(e,r){var i,o,u,c,f,d;try{for(var g=ka(r),m=g.next();!m.done;m=g.next()){var _=m.value,E=!0;try{for(var w=(u=void 0,ka(e)),S=w.next();!S.done;S=w.next()){var I=S.value,N=!1;try{for(var L=(f=void 0,ka(_.getPairs())),V=L.next();!V.done;V=L.next()){var j=V.value;if(I.equals(j)){N=!0;break}}}catch(Q){f={error:Q}}finally{try{V&&!V.done&&(d=L.return)&&d.call(L)}finally{if(f)throw f.error}}if(!N){E=!1;break}}}catch(Q){u={error:Q}}finally{try{S&&!S.done&&(c=w.return)&&c.call(w)}finally{if(u)throw u.error}}if(E)return!0}}catch(Q){i={error:Q}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}return!1},t.prototype.getRows=function(){return this.rows},t.constructResult=function(e){var r=uR.buildBitArray(e),i=RR(r),o=i.parseInformation(),u=e[0].getFinderPattern().getResultPoints(),c=e[e.length-1].getFinderPattern().getResultPoints(),f=[u[0],u[1],c[0],c[1]];return new Bn(o,null,null,f,xt.RSS_EXPANDED,null)},t.prototype.checkChecksum=function(){var e=this.pairs.get(0),r=e.getLeftChar(),i=e.getRightChar();if(i===null)return!1;for(var o=i.getChecksumPortion(),u=2,c=1;c<this.pairs.size();++c){var f=this.pairs.get(c);o+=f.getLeftChar().getChecksumPortion(),u++;var d=f.getRightChar();d!=null&&(o+=d.getChecksumPortion(),u++)}o%=211;var g=211*(u-4)+o;return g===r.getValue()},t.getNextSecondBar=function(e,r){var i;return e.get(r)?(i=e.getNextUnset(r),i=e.getNextSet(i)):(i=e.getNextSet(r),i=e.getNextUnset(i)),i},t.prototype.retrieveNextPair=function(e,r,i){var o=r.length%2===0;this.startFromEven&&(o=!o);var u,c=!0,f=-1;do this.findNextPair(e,r,f),u=this.parseFoundFinderPattern(e,i,o),u===null?f=t.getNextSecondBar(e,this.startEnd[0]):c=!1;while(c);var d=this.decodeDataCharacter(e,u,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new et;var g;try{g=this.decodeDataCharacter(e,u,o,!1)}catch(m){g=null,console.log(m)}return new z_(d,g,u,!0)},t.prototype.isEmptyPair=function(e){return e.length===0},t.prototype.findNextPair=function(e,r,i){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;var u=e.getSize(),c;if(i>=0)c=i;else if(this.isEmptyPair(r))c=0;else{var f=r[r.length-1];c=f.getFinderPattern().getStartEnd()[1]}var d=r.length%2!==0;this.startFromEven&&(d=!d);for(var g=!1;c<u&&(g=!e.get(c),!!g);)c++;for(var m=0,_=c,E=c;E<u;E++)if(e.get(E)!==g)o[m]++;else{if(m===3){if(d&&t.reverseCounters(o),t.isFinderPattern(o)){this.startEnd[0]=_,this.startEnd[1]=E;return}d&&t.reverseCounters(o),_+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,m--}else m++;o[m]=1,g=!g}throw new et},t.reverseCounters=function(e){for(var r=e.length,i=0;i<r/2;++i){var o=e[i];e[i]=e[r-i-1],e[r-i-1]=o}},t.prototype.parseFoundFinderPattern=function(e,r,i){var o,u,c;if(i){for(var f=this.startEnd[0]-1;f>=0&&!e.get(f);)f--;f++,o=this.startEnd[0]-f,u=f,c=this.startEnd[1]}else u=this.startEnd[0],c=e.getNextUnset(this.startEnd[1]+1),o=c-this.startEnd[1];var d=this.getDecodeFinderCounters();Ee.arraycopy(d,0,d,1,d.length-1),d[0]=o;var g;try{g=this.parseFinderValue(d,t.FINDER_PATTERNS)}catch{return null}return new Bx(g,[u,c],u,c,r)},t.prototype.decodeDataCharacter=function(e,r,i,o){for(var u=this.getDataCharacterCounters(),c=0;c<u.length;c++)u[c]=0;if(o)t.recordPatternInReverse(e,r.getStartEnd()[0],u);else{t.recordPattern(e,r.getStartEnd()[1],u);for(var f=0,d=u.length-1;f<d;f++,d--){var g=u[f];u[f]=u[d],u[d]=g}}var m=17,_=ee.sum(new Int32Array(u))/m,E=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(_-E)/E>.3)throw new et;for(var w=this.getOddCounts(),S=this.getEvenCounts(),I=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors(),f=0;f<u.length;f++){var L=1*u[f]/_,V=L+.5;if(V<1){if(L<.3)throw new et;V=1}else if(V>8){if(L>8.7)throw new et;V=8}var j=f/2;(f&1)===0?(w[j]=V,I[j]=L-V):(S[j]=V,N[j]=L-V)}this.adjustOddEvenCounts(m);for(var Q=4*r.getValue()+(i?0:2)+(o?0:1)-1,Z=0,b=0,f=w.length-1;f>=0;f--){if(t.isNotA1left(r,i,o)){var R=t.WEIGHTS[Q][2*f];b+=w[f]*R}Z+=w[f]}for(var P=0,f=S.length-1;f>=0;f--)if(t.isNotA1left(r,i,o)){var R=t.WEIGHTS[Q][2*f+1];P+=S[f]*R}var B=b+P;if((Z&1)!==0||Z>13||Z<4)throw new et;var U=(13-Z)/2,F=t.SYMBOL_WIDEST[U],D=9-F,yt=$s.getRSSvalue(w,F,!0),bt=$s.getRSSvalue(S,D,!1),tt=t.EVEN_TOTAL_SUBSET[U],lt=t.GSUM[U],Et=yt*tt+bt+lt;return new Uh(Et,B)},t.isNotA1left=function(e,r,i){return!(e.getValue()===0&&r&&i)},t.prototype.adjustOddEvenCounts=function(e){var r=ee.sum(new Int32Array(this.getOddCounts())),i=ee.sum(new Int32Array(this.getEvenCounts())),o=!1,u=!1;r>13?u=!0:r<4&&(o=!0);var c=!1,f=!1;i>13?f=!0:i<4&&(c=!0);var d=r+i-e,g=(r&1)===1,m=(i&1)===0;if(d===1)if(g){if(m)throw new et;u=!0}else{if(!m)throw new et;f=!0}else if(d===-1)if(g){if(m)throw new et;o=!0}else{if(!m)throw new et;c=!0}else if(d===0){if(g){if(!m)throw new et;r<i?(o=!0,f=!0):(u=!0,c=!0)}else if(m)throw new et}else throw new et;if(o){if(u)throw new et;t.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&t.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(f)throw new et;t.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&t.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.SYMBOL_WIDEST=[7,5,4,3,1],t.EVEN_TOTAL_SUBSET=[4,20,52,104,204],t.GSUM=[0,348,1388,2948,3988],t.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],t.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],t.FINDER_PAT_A=0,t.FINDER_PAT_B=1,t.FINDER_PAT_C=2,t.FINDER_PAT_D=3,t.FINDER_PAT_E=4,t.FINDER_PAT_F=5,t.FINDER_PATTERN_SEQUENCES=[[t.FINDER_PAT_A,t.FINDER_PAT_A],[t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B],[t.FINDER_PAT_A,t.FINDER_PAT_C,t.FINDER_PAT_B,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_C],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F]],t.MAX_PAIRS=11,t})(jo),MR=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),PR=(function(n){MR(t,n);function t(e,r,i){var o=n.call(this,e,r)||this;return o.count=0,o.finderPattern=i,o}return t.prototype.getFinderPattern=function(){return this.finderPattern},t.prototype.getCount=function(){return this.count},t.prototype.incrementCount=function(){this.count++},t})(Uh),LR=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),D0=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},H_=(function(n){LR(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.possibleLeftPairs=[],e.possibleRightPairs=[],e}return t.prototype.decodeRow=function(e,r,i){var o,u,c,f,d=this.decodePair(r,!1,e,i);t.addOrTally(this.possibleLeftPairs,d),r.reverse();var g=this.decodePair(r,!0,e,i);t.addOrTally(this.possibleRightPairs,g),r.reverse();try{for(var m=D0(this.possibleLeftPairs),_=m.next();!_.done;_=m.next()){var E=_.value;if(E.getCount()>1)try{for(var w=(c=void 0,D0(this.possibleRightPairs)),S=w.next();!S.done;S=w.next()){var I=S.value;if(I.getCount()>1&&t.checkChecksum(E,I))return t.constructResult(E,I)}}catch(N){c={error:N}}finally{try{S&&!S.done&&(f=w.return)&&f.call(w)}finally{if(c)throw c.error}}}}catch(N){o={error:N}}finally{try{_&&!_.done&&(u=m.return)&&u.call(m)}finally{if(o)throw o.error}}throw new et},t.addOrTally=function(e,r){var i,o;if(r!=null){var u=!1;try{for(var c=D0(e),f=c.next();!f.done;f=c.next()){var d=f.value;if(d.getValue()===r.getValue()){d.incrementCount(),u=!0;break}}}catch(g){i={error:g}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}u||e.push(r)}},t.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},t.constructResult=function(e,r){for(var i=4537077*e.getValue()+r.getValue(),o=new String(i).toString(),u=new kt,c=13-o.length;c>0;c--)u.append("0");u.append(o);for(var f=0,c=0;c<13;c++){var d=u.charAt(c).charCodeAt(0)-48;f+=(c&1)===0?3*d:d}f=10-f%10,f===10&&(f=0),u.append(f.toString());var g=e.getFinderPattern().getResultPoints(),m=r.getFinderPattern().getResultPoints();return new Bn(u.toString(),null,0,[g[0],g[1],m[0],m[1]],xt.RSS_14,new Date().getTime())},t.checkChecksum=function(e,r){var i=(e.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*e.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o},t.prototype.decodePair=function(e,r,i,o){try{var u=this.findFinderPattern(e,r),c=this.parseFoundFinderPattern(e,i,r,u),f=o==null?null:o.get(Ie.NEED_RESULT_POINT_CALLBACK);if(f!=null){var d=(u[0]+u[1])/2;r&&(d=e.getSize()-1-d),f.foundPossibleResultPoint(new vt(d,i))}var g=this.decodeDataCharacter(e,c,!0),m=this.decodeDataCharacter(e,c,!1);return new PR(1597*g.getValue()+m.getValue(),g.getChecksumPortion()+4*m.getChecksumPortion(),c)}catch{return null}},t.prototype.decodeDataCharacter=function(e,r,i){for(var o=this.getDataCharacterCounters(),u=0;u<o.length;u++)o[u]=0;if(i)sn.recordPatternInReverse(e,r.getStartEnd()[0],o);else{sn.recordPattern(e,r.getStartEnd()[1]+1,o);for(var c=0,f=o.length-1;c<f;c++,f--){var d=o[c];o[c]=o[f],o[f]=d}}for(var g=i?16:15,m=ee.sum(new Int32Array(o))/g,_=this.getOddCounts(),E=this.getEvenCounts(),w=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors(),c=0;c<o.length;c++){var I=o[c]/m,N=Math.floor(I+.5);N<1?N=1:N>8&&(N=8);var L=Math.floor(c/2);(c&1)===0?(_[L]=N,w[L]=I-N):(E[L]=N,S[L]=I-N)}this.adjustOddEvenCounts(i,g);for(var V=0,j=0,c=_.length-1;c>=0;c--)j*=9,j+=_[c],V+=_[c];for(var Q=0,Z=0,c=E.length-1;c>=0;c--)Q*=9,Q+=E[c],Z+=E[c];var b=j+3*Q;if(i){if((V&1)!==0||V>12||V<4)throw new et;var R=(12-V)/2,P=t.OUTSIDE_ODD_WIDEST[R],B=9-P,U=$s.getRSSvalue(_,P,!1),F=$s.getRSSvalue(E,B,!0),D=t.OUTSIDE_EVEN_TOTAL_SUBSET[R],yt=t.OUTSIDE_GSUM[R];return new Uh(U*D+F+yt,b)}else{if((Z&1)!==0||Z>10||Z<4)throw new et;var R=(10-Z)/2,P=t.INSIDE_ODD_WIDEST[R],B=9-P,U=$s.getRSSvalue(_,P,!0),F=$s.getRSSvalue(E,B,!1),bt=t.INSIDE_ODD_TOTAL_SUBSET[R],yt=t.INSIDE_GSUM[R];return new Uh(F*bt+U+yt,b)}},t.prototype.findFinderPattern=function(e,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var o=e.getSize(),u=!1,c=0;c<o&&(u=!e.get(c),r!==u);)c++;for(var f=0,d=c,g=c;g<o;g++)if(e.get(g)!==u)i[f]++;else{if(f===3){if(jo.isFinderPattern(i))return[d,g];d+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,f--}else f++;i[f]=1,u=!u}throw new et},t.prototype.parseFoundFinderPattern=function(e,r,i,o){for(var u=e.get(o[0]),c=o[0]-1;c>=0&&u!==e.get(c);)c--;c++;var f=o[0]-c,d=this.getDecodeFinderCounters(),g=new Int32Array(d.length);Ee.arraycopy(d,0,g,1,d.length-1),g[0]=f;var m=this.parseFinderValue(g,t.FINDER_PATTERNS),_=c,E=o[1];return i&&(_=e.getSize()-1-_,E=e.getSize()-1-E),new Bx(m,[c,o[1]],_,E,r)},t.prototype.adjustOddEvenCounts=function(e,r){var i=ee.sum(new Int32Array(this.getOddCounts())),o=ee.sum(new Int32Array(this.getEvenCounts())),u=!1,c=!1,f=!1,d=!1;e?(i>12?c=!0:i<4&&(u=!0),o>12?d=!0:o<4&&(f=!0)):(i>11?c=!0:i<5&&(u=!0),o>10?d=!0:o<4&&(f=!0));var g=i+o-r,m=(i&1)===(e?1:0),_=(o&1)===1;if(g===1)if(m){if(_)throw new et;c=!0}else{if(!_)throw new et;d=!0}else if(g===-1)if(m){if(_)throw new et;u=!0}else{if(!_)throw new et;f=!0}else if(g===0){if(m){if(!_)throw new et;i<o?(u=!0,d=!0):(c=!0,f=!0)}else if(_)throw new et}else throw new et;if(u){if(c)throw new et;jo.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&jo.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(d)throw new et;jo.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&jo.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],t.OUTSIDE_GSUM=[0,161,961,2015,2715],t.INSIDE_GSUM=[0,336,1036,1516],t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],t.INSIDE_ODD_WIDEST=[2,4,6,8],t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],t})(jo),BR=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),zl=(function(n){BR(t,n);function t(e){var r=n.call(this)||this;r.readers=[];var i=e?e.get(Ie.POSSIBLE_FORMATS):null,o=e&&e.get(Ie.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,u=e&&e.get(Ie.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(xt.EAN_13)||i.includes(xt.UPC_A)||i.includes(xt.EAN_8)||i.includes(xt.UPC_E))&&r.readers.push(new O0(e)),i.includes(xt.CODE_39)&&r.readers.push(new N_(o,u)),i.includes(xt.CODE_93)&&r.readers.push(new M_),i.includes(xt.CODE_128)&&r.readers.push(new D_),i.includes(xt.ITF)&&r.readers.push(new P_),i.includes(xt.CODABAR)&&r.readers.push(new iR),i.includes(xt.RSS_14)&&r.readers.push(new H_),i.includes(xt.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new NR))),r.readers.length===0&&(r.readers.push(new O0(e)),r.readers.push(new N_),r.readers.push(new M_),r.readers.push(new O0(e)),r.readers.push(new D_),r.readers.push(new P_),r.readers.push(new H_)),r}return t.prototype.decodeRow=function(e,r,i){for(var o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(e,r,i)}catch{}throw new et},t.prototype.reset=function(){this.readers.forEach(function(e){return e.reset()})},t})(sn),VR=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})();(function(n){VR(t,n);function t(e,r){return e===void 0&&(e=500),n.call(this,new zl(r),e,r)||this}return t})(Tu);var j_=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},oe=(function(){function n(t,e,r){this.ecCodewords=t,this.ecBlocks=[e],r&&this.ecBlocks.push(r)}return n.prototype.getECCodewords=function(){return this.ecCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n})(),ie=(function(){function n(t,e){this.count=t,this.dataCodewords=e}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n})(),kR=(function(){function n(t,e,r,i,o,u){var c,f;this.versionNumber=t,this.symbolSizeRows=e,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=o,this.ecBlocks=u;var d=0,g=u.getECCodewords(),m=u.getECBlocks();try{for(var _=j_(m),E=_.next();!E.done;E=_.next()){var w=E.value;d+=w.getCount()*(w.getDataCodewords()+g)}}catch(S){c={error:S}}finally{try{E&&!E.done&&(f=_.return)&&f.call(_)}finally{if(c)throw c.error}}this.totalCodewords=d}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},n.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},n.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},n.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n.getVersionForDimensions=function(t,e){var r,i;if((t&1)!==0||(e&1)!==0)throw new ft;try{for(var o=j_(n.VERSIONS),u=o.next();!u.done;u=o.next()){var c=u.value;if(c.symbolSizeRows===t&&c.symbolSizeColumns===e)return c}}catch(f){r={error:f}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}throw new ft},n.prototype.toString=function(){return""+this.versionNumber},n.buildVersions=function(){return[new n(1,10,10,8,8,new oe(5,new ie(1,3))),new n(2,12,12,10,10,new oe(7,new ie(1,5))),new n(3,14,14,12,12,new oe(10,new ie(1,8))),new n(4,16,16,14,14,new oe(12,new ie(1,12))),new n(5,18,18,16,16,new oe(14,new ie(1,18))),new n(6,20,20,18,18,new oe(18,new ie(1,22))),new n(7,22,22,20,20,new oe(20,new ie(1,30))),new n(8,24,24,22,22,new oe(24,new ie(1,36))),new n(9,26,26,24,24,new oe(28,new ie(1,44))),new n(10,32,32,14,14,new oe(36,new ie(1,62))),new n(11,36,36,16,16,new oe(42,new ie(1,86))),new n(12,40,40,18,18,new oe(48,new ie(1,114))),new n(13,44,44,20,20,new oe(56,new ie(1,144))),new n(14,48,48,22,22,new oe(68,new ie(1,174))),new n(15,52,52,24,24,new oe(42,new ie(2,102))),new n(16,64,64,14,14,new oe(56,new ie(2,140))),new n(17,72,72,16,16,new oe(36,new ie(4,92))),new n(18,80,80,18,18,new oe(48,new ie(4,114))),new n(19,88,88,20,20,new oe(56,new ie(4,144))),new n(20,96,96,22,22,new oe(68,new ie(4,174))),new n(21,104,104,24,24,new oe(56,new ie(6,136))),new n(22,120,120,18,18,new oe(68,new ie(6,175))),new n(23,132,132,20,20,new oe(62,new ie(8,163))),new n(24,144,144,22,22,new oe(62,new ie(8,156),new ie(2,155))),new n(25,8,18,6,16,new oe(7,new ie(1,5))),new n(26,8,32,6,14,new oe(11,new ie(1,10))),new n(27,12,26,10,24,new oe(14,new ie(1,16))),new n(28,12,36,10,16,new oe(18,new ie(1,22))),new n(29,16,36,14,16,new oe(24,new ie(1,32))),new n(30,16,48,14,22,new oe(28,new ie(1,49)))]},n.VERSIONS=n.buildVersions(),n})(),UR=(function(){function n(t){var e=t.getHeight();if(e<8||e>144||(e&1)!==0)throw new ft;this.version=n.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Ci(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return n.prototype.getVersion=function(){return this.version},n.readVersion=function(t){var e=t.getHeight(),r=t.getWidth();return kR.getVersionForDimensions(e,r)},n.prototype.readCodewords=function(){var t=new Int8Array(this.version.getTotalCodewords()),e=0,r=4,i=0,o=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth(),c=!1,f=!1,d=!1,g=!1;do if(r===o&&i===0&&!c)t[e++]=this.readCorner1(o,u)&255,r-=2,i+=2,c=!0;else if(r===o-2&&i===0&&(u&3)!==0&&!f)t[e++]=this.readCorner2(o,u)&255,r-=2,i+=2,f=!0;else if(r===o+4&&i===2&&(u&7)===0&&!d)t[e++]=this.readCorner3(o,u)&255,r-=2,i+=2,d=!0;else if(r===o-2&&i===0&&(u&7)===4&&!g)t[e++]=this.readCorner4(o,u)&255,r-=2,i+=2,g=!0;else{do r<o&&i>=0&&!this.readMappingMatrix.get(i,r)&&(t[e++]=this.readUtah(r,i,o,u)&255),r-=2,i+=2;while(r>=0&&i<u);r+=1,i+=3;do r>=0&&i<u&&!this.readMappingMatrix.get(i,r)&&(t[e++]=this.readUtah(r,i,o,u)&255),r+=2,i-=2;while(r<o&&i>=0);r+=3,i+=1}while(r<o||i<u);if(e!==this.version.getTotalCodewords())throw new ft;return t},n.prototype.readModule=function(t,e,r,i){return t<0&&(t+=r,e+=4-(r+4&7)),e<0&&(e+=i,t+=4-(i+4&7)),this.readMappingMatrix.set(e,t),this.mappingBitMatrix.get(e,t)},n.prototype.readUtah=function(t,e,r,i){var o=0;return this.readModule(t-2,e-2,r,i)&&(o|=1),o<<=1,this.readModule(t-2,e-1,r,i)&&(o|=1),o<<=1,this.readModule(t-1,e-2,r,i)&&(o|=1),o<<=1,this.readModule(t-1,e-1,r,i)&&(o|=1),o<<=1,this.readModule(t-1,e,r,i)&&(o|=1),o<<=1,this.readModule(t,e-2,r,i)&&(o|=1),o<<=1,this.readModule(t,e-1,r,i)&&(o|=1),o<<=1,this.readModule(t,e,r,i)&&(o|=1),o},n.prototype.readCorner1=function(t,e){var r=0;return this.readModule(t-1,0,t,e)&&(r|=1),r<<=1,this.readModule(t-1,1,t,e)&&(r|=1),r<<=1,this.readModule(t-1,2,t,e)&&(r|=1),r<<=1,this.readModule(0,e-2,t,e)&&(r|=1),r<<=1,this.readModule(0,e-1,t,e)&&(r|=1),r<<=1,this.readModule(1,e-1,t,e)&&(r|=1),r<<=1,this.readModule(2,e-1,t,e)&&(r|=1),r<<=1,this.readModule(3,e-1,t,e)&&(r|=1),r},n.prototype.readCorner2=function(t,e){var r=0;return this.readModule(t-3,0,t,e)&&(r|=1),r<<=1,this.readModule(t-2,0,t,e)&&(r|=1),r<<=1,this.readModule(t-1,0,t,e)&&(r|=1),r<<=1,this.readModule(0,e-4,t,e)&&(r|=1),r<<=1,this.readModule(0,e-3,t,e)&&(r|=1),r<<=1,this.readModule(0,e-2,t,e)&&(r|=1),r<<=1,this.readModule(0,e-1,t,e)&&(r|=1),r<<=1,this.readModule(1,e-1,t,e)&&(r|=1),r},n.prototype.readCorner3=function(t,e){var r=0;return this.readModule(t-1,0,t,e)&&(r|=1),r<<=1,this.readModule(t-1,e-1,t,e)&&(r|=1),r<<=1,this.readModule(0,e-3,t,e)&&(r|=1),r<<=1,this.readModule(0,e-2,t,e)&&(r|=1),r<<=1,this.readModule(0,e-1,t,e)&&(r|=1),r<<=1,this.readModule(1,e-3,t,e)&&(r|=1),r<<=1,this.readModule(1,e-2,t,e)&&(r|=1),r<<=1,this.readModule(1,e-1,t,e)&&(r|=1),r},n.prototype.readCorner4=function(t,e){var r=0;return this.readModule(t-3,0,t,e)&&(r|=1),r<<=1,this.readModule(t-2,0,t,e)&&(r|=1),r<<=1,this.readModule(t-1,0,t,e)&&(r|=1),r<<=1,this.readModule(0,e-2,t,e)&&(r|=1),r<<=1,this.readModule(0,e-1,t,e)&&(r|=1),r<<=1,this.readModule(1,e-1,t,e)&&(r|=1),r<<=1,this.readModule(2,e-1,t,e)&&(r|=1),r<<=1,this.readModule(3,e-1,t,e)&&(r|=1),r},n.prototype.extractDataRegion=function(t){var e=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(t.getHeight()!==e)throw new Tt("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),u=e/i|0,c=r/o|0,f=u*i,d=c*o,g=new Ci(d,f),m=0;m<u;++m)for(var _=m*i,E=0;E<c;++E)for(var w=E*o,S=0;S<i;++S)for(var I=m*(i+2)+1+S,N=_+S,L=0;L<o;++L){var V=E*(o+2)+1+L;if(t.get(V,I)){var j=w+L;g.set(j,N)}}return g},n})(),G_=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},FR=(function(){function n(t,e){this.numDataCodewords=t,this.codewords=e}return n.getDataBlocks=function(t,e){var r,i,o,u,c=e.getECBlocks(),f=0,d=c.getECBlocks();try{for(var g=G_(d),m=g.next();!m.done;m=g.next()){var _=m.value;f+=_.getCount()}}catch(yt){r={error:yt}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(r)throw r.error}}var E=new Array(f),w=0;try{for(var S=G_(d),I=S.next();!I.done;I=S.next())for(var _=I.value,N=0;N<_.getCount();N++){var L=_.getDataCodewords(),V=c.getECCodewords()+L;E[w++]=new n(L,new Uint8Array(V))}}catch(yt){o={error:yt}}finally{try{I&&!I.done&&(u=S.return)&&u.call(S)}finally{if(o)throw o.error}}for(var j=E[0].codewords.length,Q=j-c.getECCodewords(),Z=Q-1,b=0,N=0;N<Z;N++)for(var R=0;R<w;R++)E[R].codewords[N]=t[b++];for(var P=e.getVersionNumber()===24,B=P?8:w,R=0;R<B;R++)E[R].codewords[Q-1]=t[b++];for(var U=E[0].codewords.length,N=Q;N<U;N++)for(var R=0;R<w;R++){var F=P?(R+8)%w:R,D=P&&F>7?N-1:N;E[F].codewords[D]=t[b++]}if(b!==t.length)throw new Tt;return E},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n})(),Ux=(function(){function n(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}return n.prototype.getBitOffset=function(){return this.bitOffset},n.prototype.getByteOffset=function(){return this.byteOffset},n.prototype.readBits=function(t){if(t<1||t>32||t>this.available())throw new Tt(""+t);var e=0,r=this.bitOffset,i=this.byteOffset,o=this.bytes;if(r>0){var u=8-r,c=t<u?t:u,f=u-c,d=255>>8-c<<f;e=(o[i]&d)>>f,t-=c,r+=c,r===8&&(r=0,i++)}if(t>0){for(;t>=8;)e=e<<8|o[i]&255,i++,t-=8;if(t>0){var f=8-t,d=255>>f<<f;e=e<<t|(o[i]&d)>>f,r+=t}}return this.bitOffset=r,this.byteOffset=i,e},n.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},n})(),Je;(function(n){n[n.PAD_ENCODE=0]="PAD_ENCODE",n[n.ASCII_ENCODE=1]="ASCII_ENCODE",n[n.C40_ENCODE=2]="C40_ENCODE",n[n.TEXT_ENCODE=3]="TEXT_ENCODE",n[n.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",n[n.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",n[n.BASE256_ENCODE=6]="BASE256_ENCODE"})(Je||(Je={}));var zR=(function(){function n(){}return n.decode=function(t){var e=new Ux(t),r=new kt,i=new kt,o=new Array,u=Je.ASCII_ENCODE;do if(u===Je.ASCII_ENCODE)u=this.decodeAsciiSegment(e,r,i);else{switch(u){case Je.C40_ENCODE:this.decodeC40Segment(e,r);break;case Je.TEXT_ENCODE:this.decodeTextSegment(e,r);break;case Je.ANSIX12_ENCODE:this.decodeAnsiX12Segment(e,r);break;case Je.EDIFACT_ENCODE:this.decodeEdifactSegment(e,r);break;case Je.BASE256_ENCODE:this.decodeBase256Segment(e,r,o);break;default:throw new ft}u=Je.ASCII_ENCODE}while(u!==Je.PAD_ENCODE&&e.available()>0);return i.length()>0&&r.append(i.toString()),new cd(t,r.toString(),o.length===0?null:o,null)},n.decodeAsciiSegment=function(t,e,r){var i=!1;do{var o=t.readBits(8);if(o===0)throw new ft;if(o<=128)return i&&(o+=128),e.append(String.fromCharCode(o-1)),Je.ASCII_ENCODE;if(o===129)return Je.PAD_ENCODE;if(o<=229){var u=o-130;u<10&&e.append("0"),e.append(""+u)}else switch(o){case 230:return Je.C40_ENCODE;case 231:return Je.BASE256_ENCODE;case 232:e.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:e.append("[)>05"),r.insert(0,"");break;case 237:e.append("[)>06"),r.insert(0,"");break;case 238:return Je.ANSIX12_ENCODE;case 239:return Je.TEXT_ENCODE;case 240:return Je.EDIFACT_ENCODE;case 241:break;default:if(o!==254||t.available()!==0)throw new ft;break}}while(t.available()>0);return Je.ASCII_ENCODE},n.decodeC40Segment=function(t,e){var r=!1,i=[],o=0;do{if(t.available()===8)return;var u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),i);for(var c=0;c<3;c++){var f=i[c];switch(o){case 0:if(f<3)o=f+1;else if(f<this.C40_BASIC_SET_CHARS.length){var d=this.C40_BASIC_SET_CHARS[f];r?(e.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):e.append(d)}else throw new ft;break;case 1:r?(e.append(String.fromCharCode(f+128)),r=!1):e.append(String.fromCharCode(f)),o=0;break;case 2:if(f<this.C40_SHIFT2_SET_CHARS.length){var d=this.C40_SHIFT2_SET_CHARS[f];r?(e.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):e.append(d)}else switch(f){case 27:e.append("");break;case 30:r=!0;break;default:throw new ft}o=0;break;case 3:r?(e.append(String.fromCharCode(f+224)),r=!1):e.append(String.fromCharCode(f+96)),o=0;break;default:throw new ft}}}while(t.available()>0)},n.decodeTextSegment=function(t,e){var r=!1,i=[],o=0;do{if(t.available()===8)return;var u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),i);for(var c=0;c<3;c++){var f=i[c];switch(o){case 0:if(f<3)o=f+1;else if(f<this.TEXT_BASIC_SET_CHARS.length){var d=this.TEXT_BASIC_SET_CHARS[f];r?(e.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):e.append(d)}else throw new ft;break;case 1:r?(e.append(String.fromCharCode(f+128)),r=!1):e.append(String.fromCharCode(f)),o=0;break;case 2:if(f<this.TEXT_SHIFT2_SET_CHARS.length){var d=this.TEXT_SHIFT2_SET_CHARS[f];r?(e.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):e.append(d)}else switch(f){case 27:e.append("");break;case 30:r=!0;break;default:throw new ft}o=0;break;case 3:if(f<this.TEXT_SHIFT3_SET_CHARS.length){var d=this.TEXT_SHIFT3_SET_CHARS[f];r?(e.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):e.append(d),o=0}else throw new ft;break;default:throw new ft}}}while(t.available()>0)},n.decodeAnsiX12Segment=function(t,e){var r=[];do{if(t.available()===8)return;var i=t.readBits(8);if(i===254)return;this.parseTwoBytes(i,t.readBits(8),r);for(var o=0;o<3;o++){var u=r[o];switch(u){case 0:e.append("\r");break;case 1:e.append("*");break;case 2:e.append(">");break;case 3:e.append(" ");break;default:if(u<14)e.append(String.fromCharCode(u+44));else if(u<40)e.append(String.fromCharCode(u+51));else throw new ft;break}}}while(t.available()>0)},n.parseTwoBytes=function(t,e,r){var i=(t<<8)+e-1,o=Math.floor(i/1600);r[0]=o,i-=o*1600,o=Math.floor(i/40),r[1]=o,r[2]=i-o*40},n.decodeEdifactSegment=function(t,e){do{if(t.available()<=16)return;for(var r=0;r<4;r++){var i=t.readBits(6);if(i===31){var o=8-t.getBitOffset();o!==8&&t.readBits(o);return}(i&32)===0&&(i|=64),e.append(String.fromCharCode(i))}}while(t.available()>0)},n.decodeBase256Segment=function(t,e,r){var i=1+t.getByteOffset(),o=this.unrandomize255State(t.readBits(8),i++),u;if(o===0?u=t.available()/8|0:o<250?u=o:u=250*(o-249)+this.unrandomize255State(t.readBits(8),i++),u<0)throw new ft;for(var c=new Uint8Array(u),f=0;f<u;f++){if(t.available()<8)throw new ft;c[f]=this.unrandomize255State(t.readBits(8),i++)}r.push(c);try{e.append(br.decode(c,Qt.ISO88591))}catch(d){throw new gc("Platform does not support required encoding: "+d.message)}},n.unrandomize255State=function(t,e){var r=149*e%255+1,i=t-r;return i>=0?i:i+256},n.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],n.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n.TEXT_SHIFT2_SET_CHARS=n.C40_SHIFT2_SET_CHARS,n.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],n})(),HR=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jR=(function(){function n(){this.rsDecoder=new fd(Jn.DATA_MATRIX_FIELD_256)}return n.prototype.decode=function(t){var e,r,i=new UR(t),o=i.getVersion(),u=i.readCodewords(),c=FR.getDataBlocks(u,o),f=0;try{for(var d=HR(c),g=d.next();!g.done;g=d.next()){var m=g.value;f+=m.getNumDataCodewords()}}catch(V){e={error:V}}finally{try{g&&!g.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}for(var _=new Uint8Array(f),E=c.length,w=0;w<E;w++){var S=c[w],I=S.getCodewords(),N=S.getNumDataCodewords();this.correctErrors(I,N);for(var L=0;L<N;L++)_[L*E+w]=I[L]}return zR.decode(_)},n.prototype.correctErrors=function(t,e){var r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-e)}catch{throw new gn}for(var i=0;i<e;i++)t[i]=r[i]},n})(),GR=(function(){function n(t){this.image=t,this.rectangleDetector=new pp(this.image)}return n.prototype.detect=function(){var t=this.rectangleDetector.detect(),e=this.detectSolid1(t);if(e=this.detectSolid2(e),e[3]=this.correctTopRight(e),!e[3])throw new et;e=this.shiftToModuleCenter(e);var r=e[0],i=e[1],o=e[2],u=e[3],c=this.transitionsBetween(r,u)+1,f=this.transitionsBetween(o,u)+1;(c&1)===1&&(c+=1),(f&1)===1&&(f+=1),4*c<7*f&&4*f<7*c&&(c=f=Math.max(c,f));var d=n.sampleGrid(this.image,r,i,o,u,c,f);return new mg(d,[r,i,o,u])},n.shiftPoint=function(t,e,r){var i=(e.getX()-t.getX())/(r+1),o=(e.getY()-t.getY())/(r+1);return new vt(t.getX()+i,t.getY()+o)},n.moveAway=function(t,e,r){var i=t.getX(),o=t.getY();return i<e?i-=1:i+=1,o<r?o-=1:o+=1,new vt(i,o)},n.prototype.detectSolid1=function(t){var e=t[0],r=t[1],i=t[3],o=t[2],u=this.transitionsBetween(e,r),c=this.transitionsBetween(r,i),f=this.transitionsBetween(i,o),d=this.transitionsBetween(o,e),g=u,m=[o,e,r,i];return g>c&&(g=c,m[0]=e,m[1]=r,m[2]=i,m[3]=o),g>f&&(g=f,m[0]=r,m[1]=i,m[2]=o,m[3]=e),g>d&&(m[0]=i,m[1]=o,m[2]=e,m[3]=r),m},n.prototype.detectSolid2=function(t){var e=t[0],r=t[1],i=t[2],o=t[3],u=this.transitionsBetween(e,o),c=n.shiftPoint(r,i,(u+1)*4),f=n.shiftPoint(i,r,(u+1)*4),d=this.transitionsBetween(c,e),g=this.transitionsBetween(f,o);return d<g?(t[0]=e,t[1]=r,t[2]=i,t[3]=o):(t[0]=r,t[1]=i,t[2]=o,t[3]=e),t},n.prototype.correctTopRight=function(t){var e=t[0],r=t[1],i=t[2],o=t[3],u=this.transitionsBetween(e,o),c=this.transitionsBetween(r,o),f=n.shiftPoint(e,r,(c+1)*4),d=n.shiftPoint(i,r,(u+1)*4);u=this.transitionsBetween(f,o),c=this.transitionsBetween(d,o);var g=new vt(o.getX()+(i.getX()-r.getX())/(u+1),o.getY()+(i.getY()-r.getY())/(u+1)),m=new vt(o.getX()+(e.getX()-r.getX())/(c+1),o.getY()+(e.getY()-r.getY())/(c+1));if(!this.isValid(g))return this.isValid(m)?m:null;if(!this.isValid(m))return g;var _=this.transitionsBetween(f,g)+this.transitionsBetween(d,g),E=this.transitionsBetween(f,m)+this.transitionsBetween(d,m);return _>E?g:m},n.prototype.shiftToModuleCenter=function(t){var e=t[0],r=t[1],i=t[2],o=t[3],u=this.transitionsBetween(e,o)+1,c=this.transitionsBetween(i,o)+1,f=n.shiftPoint(e,r,c*4),d=n.shiftPoint(i,r,u*4);u=this.transitionsBetween(f,o)+1,c=this.transitionsBetween(d,o)+1,(u&1)===1&&(u+=1),(c&1)===1&&(c+=1);var g=(e.getX()+r.getX()+i.getX()+o.getX())/4,m=(e.getY()+r.getY()+i.getY()+o.getY())/4;e=n.moveAway(e,g,m),r=n.moveAway(r,g,m),i=n.moveAway(i,g,m),o=n.moveAway(o,g,m);var _,E;return f=n.shiftPoint(e,r,c*4),f=n.shiftPoint(f,o,u*4),_=n.shiftPoint(r,e,c*4),_=n.shiftPoint(_,i,u*4),d=n.shiftPoint(i,o,c*4),d=n.shiftPoint(d,r,u*4),E=n.shiftPoint(o,i,c*4),E=n.shiftPoint(E,e,u*4),[f,_,d,E]},n.prototype.isValid=function(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()},n.sampleGrid=function(t,e,r,i,o,u,c){var f=yg.getInstance();return f.sampleGrid(t,u,c,.5,.5,u-.5,.5,u-.5,c-.5,.5,c-.5,e.getX(),e.getY(),o.getX(),o.getY(),i.getX(),i.getY(),r.getX(),r.getY())},n.prototype.transitionsBetween=function(t,e){var r=Math.trunc(t.getX()),i=Math.trunc(t.getY()),o=Math.trunc(e.getX()),u=Math.trunc(e.getY()),c=Math.abs(u-i)>Math.abs(o-r);if(c){var f=r;r=i,i=f,f=o,o=u,u=f}for(var d=Math.abs(o-r),g=Math.abs(u-i),m=-d/2,_=i<u?1:-1,E=r<o?1:-1,w=0,S=this.image.get(c?i:r,c?r:i),I=r,N=i;I!==o;I+=E){var L=this.image.get(c?N:I,c?I:N);if(L!==S&&(w++,S=L),m+=g,m>0){if(N===u)break;N+=_,m-=d}}return w},n})(),mp=(function(){function n(){this.decoder=new jR}return n.prototype.decode=function(t,e){e===void 0&&(e=null);var r,i;if(e!=null&&e.has(Ie.PURE_BARCODE)){var o=n.extractPureBits(t.getBlackMatrix());r=this.decoder.decode(o),i=n.NO_POINTS}else{var u=new GR(t.getBlackMatrix()).detect();r=this.decoder.decode(u.getBits()),i=u.getPoints()}var c=r.getRawBytes(),f=new Bn(r.getText(),c,8*c.length,i,xt.DATA_MATRIX,Ee.currentTimeMillis()),d=r.getByteSegments();d!=null&&f.putMetadata(In.BYTE_SEGMENTS,d);var g=r.getECLevel();return g!=null&&f.putMetadata(In.ERROR_CORRECTION_LEVEL,g),f},n.prototype.reset=function(){},n.extractPureBits=function(t){var e=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(e==null||r==null)throw new et;var i=this.moduleSize(e,t),o=e[1],u=r[1],c=e[0],f=r[0],d=(f-c+1)/i,g=(u-o+1)/i;if(d<=0||g<=0)throw new et;var m=i/2;o+=m,c+=m;for(var _=new Ci(d,g),E=0;E<g;E++)for(var w=o+E*i,S=0;S<d;S++)t.get(c+S*i,w)&&_.set(S,E);return _},n.moduleSize=function(t,e){for(var r=e.getWidth(),i=t[0],o=t[1];i<r&&e.get(i,o);)i++;if(i===r)throw new et;var u=i-t[0];if(u===0)throw new et;return u},n.NO_POINTS=[],n})(),qR=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})();(function(n){qR(t,n);function t(e){return e===void 0&&(e=500),n.call(this,new mp,e)||this}return t})(Tu);var Js;(function(n){n[n.L=0]="L",n[n.M=1]="M",n[n.Q=2]="Q",n[n.H=3]="H"})(Js||(Js={}));var XR=(function(){function n(t,e,r){this.value=t,this.stringValue=e,this.bits=r,n.FOR_BITS.set(r,this),n.FOR_VALUE.set(t,this)}return n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.fromString=function(t){switch(t){case"L":return n.L;case"M":return n.M;case"Q":return n.Q;case"H":return n.H;default:throw new jr(t+"not available")}},n.prototype.toString=function(){return this.stringValue},n.prototype.equals=function(t){if(!(t instanceof n))return!1;var e=t;return this.value===e.value},n.forBits=function(t){if(t<0||t>=n.FOR_BITS.size)throw new Tt;return n.FOR_BITS.get(t)},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.L=new n(Js.L,"L",1),n.M=new n(Js.M,"M",0),n.Q=new n(Js.Q,"Q",3),n.H=new n(Js.H,"H",2),n})(),YR=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Fx=(function(){function n(t){this.errorCorrectionLevel=XR.forBits(t>>3&3),this.dataMask=t&7}return n.numBitsDiffering=function(t,e){return Ut.bitCount(t^e)},n.decodeFormatInformation=function(t,e){var r=n.doDecodeFormatInformation(t,e);return r!==null?r:n.doDecodeFormatInformation(t^n.FORMAT_INFO_MASK_QR,e^n.FORMAT_INFO_MASK_QR)},n.doDecodeFormatInformation=function(t,e){var r,i,o=Number.MAX_SAFE_INTEGER,u=0;try{for(var c=YR(n.FORMAT_INFO_DECODE_LOOKUP),f=c.next();!f.done;f=c.next()){var d=f.value,g=d[0];if(g===t||g===e)return new n(d[1]);var m=n.numBitsDiffering(t,g);m<o&&(u=d[1],o=m),t!==e&&(m=n.numBitsDiffering(e,g),m<o&&(u=d[1],o=m))}}catch(_){r={error:_}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return o<=3?new n(u):null},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getDataMask=function(){return this.dataMask},n.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},n.prototype.equals=function(t){if(!(t instanceof n))return!1;var e=t;return this.errorCorrectionLevel===e.errorCorrectionLevel&&this.dataMask===e.dataMask},n.FORMAT_INFO_MASK_QR=21522,n.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],n})(),KR=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},X=(function(){function n(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];this.ecCodewordsPerBlock=t,this.ecBlocks=e}return n.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},n.prototype.getNumBlocks=function(){var t,e,r=0,i=this.ecBlocks;try{for(var o=KR(i),u=o.next();!u.done;u=o.next()){var c=u.value;r+=c.getCount()}}catch(f){t={error:f}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return r},n.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},n.prototype.getECBlocks=function(){return this.ecBlocks},n})(),M=(function(){function n(t,e){this.count=t,this.dataCodewords=e}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n})(),WR=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Wo=(function(){function n(t,e){for(var r,i,o=[],u=2;u<arguments.length;u++)o[u-2]=arguments[u];this.versionNumber=t,this.alignmentPatternCenters=e,this.ecBlocks=o;var c=0,f=o[0].getECCodewordsPerBlock(),d=o[0].getECBlocks();try{for(var g=WR(d),m=g.next();!m.done;m=g.next()){var _=m.value;c+=_.getCount()*(_.getDataCodewords()+f)}}catch(E){r={error:E}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(r)throw r.error}}this.totalCodewords=c}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},n.prototype.getECBlocksForLevel=function(t){return this.ecBlocks[t.getValue()]},n.getProvisionalVersionForDimension=function(t){if(t%4!==1)throw new ft;try{return this.getVersionForNumber((t-17)/4)}catch{throw new ft}},n.getVersionForNumber=function(t){if(t<1||t>40)throw new Tt;return n.VERSIONS[t-1]},n.decodeVersionInformation=function(t){for(var e=Number.MAX_SAFE_INTEGER,r=0,i=0;i<n.VERSION_DECODE_INFO.length;i++){var o=n.VERSION_DECODE_INFO[i];if(o===t)return n.getVersionForNumber(i+7);var u=Fx.numBitsDiffering(t,o);u<e&&(r=i+7,e=u)}return e<=3?n.getVersionForNumber(r):null},n.prototype.buildFunctionPattern=function(){var t=this.getDimensionForVersion(),e=new Ci(t);e.setRegion(0,0,9,9),e.setRegion(t-8,0,8,9),e.setRegion(0,t-8,9,8);for(var r=this.alignmentPatternCenters.length,i=0;i<r;i++)for(var o=this.alignmentPatternCenters[i]-2,u=0;u<r;u++)i===0&&(u===0||u===r-1)||i===r-1&&u===0||e.setRegion(this.alignmentPatternCenters[u]-2,o,5,5);return e.setRegion(6,9,1,t-17),e.setRegion(9,6,t-17,1),this.versionNumber>6&&(e.setRegion(t-11,0,3,6),e.setRegion(0,t-11,6,3)),e},n.prototype.toString=function(){return""+this.versionNumber},n.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),n.VERSIONS=[new n(1,new Int32Array(0),new X(7,new M(1,19)),new X(10,new M(1,16)),new X(13,new M(1,13)),new X(17,new M(1,9))),new n(2,Int32Array.from([6,18]),new X(10,new M(1,34)),new X(16,new M(1,28)),new X(22,new M(1,22)),new X(28,new M(1,16))),new n(3,Int32Array.from([6,22]),new X(15,new M(1,55)),new X(26,new M(1,44)),new X(18,new M(2,17)),new X(22,new M(2,13))),new n(4,Int32Array.from([6,26]),new X(20,new M(1,80)),new X(18,new M(2,32)),new X(26,new M(2,24)),new X(16,new M(4,9))),new n(5,Int32Array.from([6,30]),new X(26,new M(1,108)),new X(24,new M(2,43)),new X(18,new M(2,15),new M(2,16)),new X(22,new M(2,11),new M(2,12))),new n(6,Int32Array.from([6,34]),new X(18,new M(2,68)),new X(16,new M(4,27)),new X(24,new M(4,19)),new X(28,new M(4,15))),new n(7,Int32Array.from([6,22,38]),new X(20,new M(2,78)),new X(18,new M(4,31)),new X(18,new M(2,14),new M(4,15)),new X(26,new M(4,13),new M(1,14))),new n(8,Int32Array.from([6,24,42]),new X(24,new M(2,97)),new X(22,new M(2,38),new M(2,39)),new X(22,new M(4,18),new M(2,19)),new X(26,new M(4,14),new M(2,15))),new n(9,Int32Array.from([6,26,46]),new X(30,new M(2,116)),new X(22,new M(3,36),new M(2,37)),new X(20,new M(4,16),new M(4,17)),new X(24,new M(4,12),new M(4,13))),new n(10,Int32Array.from([6,28,50]),new X(18,new M(2,68),new M(2,69)),new X(26,new M(4,43),new M(1,44)),new X(24,new M(6,19),new M(2,20)),new X(28,new M(6,15),new M(2,16))),new n(11,Int32Array.from([6,30,54]),new X(20,new M(4,81)),new X(30,new M(1,50),new M(4,51)),new X(28,new M(4,22),new M(4,23)),new X(24,new M(3,12),new M(8,13))),new n(12,Int32Array.from([6,32,58]),new X(24,new M(2,92),new M(2,93)),new X(22,new M(6,36),new M(2,37)),new X(26,new M(4,20),new M(6,21)),new X(28,new M(7,14),new M(4,15))),new n(13,Int32Array.from([6,34,62]),new X(26,new M(4,107)),new X(22,new M(8,37),new M(1,38)),new X(24,new M(8,20),new M(4,21)),new X(22,new M(12,11),new M(4,12))),new n(14,Int32Array.from([6,26,46,66]),new X(30,new M(3,115),new M(1,116)),new X(24,new M(4,40),new M(5,41)),new X(20,new M(11,16),new M(5,17)),new X(24,new M(11,12),new M(5,13))),new n(15,Int32Array.from([6,26,48,70]),new X(22,new M(5,87),new M(1,88)),new X(24,new M(5,41),new M(5,42)),new X(30,new M(5,24),new M(7,25)),new X(24,new M(11,12),new M(7,13))),new n(16,Int32Array.from([6,26,50,74]),new X(24,new M(5,98),new M(1,99)),new X(28,new M(7,45),new M(3,46)),new X(24,new M(15,19),new M(2,20)),new X(30,new M(3,15),new M(13,16))),new n(17,Int32Array.from([6,30,54,78]),new X(28,new M(1,107),new M(5,108)),new X(28,new M(10,46),new M(1,47)),new X(28,new M(1,22),new M(15,23)),new X(28,new M(2,14),new M(17,15))),new n(18,Int32Array.from([6,30,56,82]),new X(30,new M(5,120),new M(1,121)),new X(26,new M(9,43),new M(4,44)),new X(28,new M(17,22),new M(1,23)),new X(28,new M(2,14),new M(19,15))),new n(19,Int32Array.from([6,30,58,86]),new X(28,new M(3,113),new M(4,114)),new X(26,new M(3,44),new M(11,45)),new X(26,new M(17,21),new M(4,22)),new X(26,new M(9,13),new M(16,14))),new n(20,Int32Array.from([6,34,62,90]),new X(28,new M(3,107),new M(5,108)),new X(26,new M(3,41),new M(13,42)),new X(30,new M(15,24),new M(5,25)),new X(28,new M(15,15),new M(10,16))),new n(21,Int32Array.from([6,28,50,72,94]),new X(28,new M(4,116),new M(4,117)),new X(26,new M(17,42)),new X(28,new M(17,22),new M(6,23)),new X(30,new M(19,16),new M(6,17))),new n(22,Int32Array.from([6,26,50,74,98]),new X(28,new M(2,111),new M(7,112)),new X(28,new M(17,46)),new X(30,new M(7,24),new M(16,25)),new X(24,new M(34,13))),new n(23,Int32Array.from([6,30,54,78,102]),new X(30,new M(4,121),new M(5,122)),new X(28,new M(4,47),new M(14,48)),new X(30,new M(11,24),new M(14,25)),new X(30,new M(16,15),new M(14,16))),new n(24,Int32Array.from([6,28,54,80,106]),new X(30,new M(6,117),new M(4,118)),new X(28,new M(6,45),new M(14,46)),new X(30,new M(11,24),new M(16,25)),new X(30,new M(30,16),new M(2,17))),new n(25,Int32Array.from([6,32,58,84,110]),new X(26,new M(8,106),new M(4,107)),new X(28,new M(8,47),new M(13,48)),new X(30,new M(7,24),new M(22,25)),new X(30,new M(22,15),new M(13,16))),new n(26,Int32Array.from([6,30,58,86,114]),new X(28,new M(10,114),new M(2,115)),new X(28,new M(19,46),new M(4,47)),new X(28,new M(28,22),new M(6,23)),new X(30,new M(33,16),new M(4,17))),new n(27,Int32Array.from([6,34,62,90,118]),new X(30,new M(8,122),new M(4,123)),new X(28,new M(22,45),new M(3,46)),new X(30,new M(8,23),new M(26,24)),new X(30,new M(12,15),new M(28,16))),new n(28,Int32Array.from([6,26,50,74,98,122]),new X(30,new M(3,117),new M(10,118)),new X(28,new M(3,45),new M(23,46)),new X(30,new M(4,24),new M(31,25)),new X(30,new M(11,15),new M(31,16))),new n(29,Int32Array.from([6,30,54,78,102,126]),new X(30,new M(7,116),new M(7,117)),new X(28,new M(21,45),new M(7,46)),new X(30,new M(1,23),new M(37,24)),new X(30,new M(19,15),new M(26,16))),new n(30,Int32Array.from([6,26,52,78,104,130]),new X(30,new M(5,115),new M(10,116)),new X(28,new M(19,47),new M(10,48)),new X(30,new M(15,24),new M(25,25)),new X(30,new M(23,15),new M(25,16))),new n(31,Int32Array.from([6,30,56,82,108,134]),new X(30,new M(13,115),new M(3,116)),new X(28,new M(2,46),new M(29,47)),new X(30,new M(42,24),new M(1,25)),new X(30,new M(23,15),new M(28,16))),new n(32,Int32Array.from([6,34,60,86,112,138]),new X(30,new M(17,115)),new X(28,new M(10,46),new M(23,47)),new X(30,new M(10,24),new M(35,25)),new X(30,new M(19,15),new M(35,16))),new n(33,Int32Array.from([6,30,58,86,114,142]),new X(30,new M(17,115),new M(1,116)),new X(28,new M(14,46),new M(21,47)),new X(30,new M(29,24),new M(19,25)),new X(30,new M(11,15),new M(46,16))),new n(34,Int32Array.from([6,34,62,90,118,146]),new X(30,new M(13,115),new M(6,116)),new X(28,new M(14,46),new M(23,47)),new X(30,new M(44,24),new M(7,25)),new X(30,new M(59,16),new M(1,17))),new n(35,Int32Array.from([6,30,54,78,102,126,150]),new X(30,new M(12,121),new M(7,122)),new X(28,new M(12,47),new M(26,48)),new X(30,new M(39,24),new M(14,25)),new X(30,new M(22,15),new M(41,16))),new n(36,Int32Array.from([6,24,50,76,102,128,154]),new X(30,new M(6,121),new M(14,122)),new X(28,new M(6,47),new M(34,48)),new X(30,new M(46,24),new M(10,25)),new X(30,new M(2,15),new M(64,16))),new n(37,Int32Array.from([6,28,54,80,106,132,158]),new X(30,new M(17,122),new M(4,123)),new X(28,new M(29,46),new M(14,47)),new X(30,new M(49,24),new M(10,25)),new X(30,new M(24,15),new M(46,16))),new n(38,Int32Array.from([6,32,58,84,110,136,162]),new X(30,new M(4,122),new M(18,123)),new X(28,new M(13,46),new M(32,47)),new X(30,new M(48,24),new M(14,25)),new X(30,new M(42,15),new M(32,16))),new n(39,Int32Array.from([6,26,54,82,110,138,166]),new X(30,new M(20,117),new M(4,118)),new X(28,new M(40,47),new M(7,48)),new X(30,new M(43,24),new M(22,25)),new X(30,new M(10,15),new M(67,16))),new n(40,Int32Array.from([6,30,58,86,114,142,170]),new X(30,new M(19,118),new M(6,119)),new X(28,new M(18,47),new M(31,48)),new X(30,new M(34,24),new M(34,25)),new X(30,new M(20,15),new M(61,16)))],n})(),hn;(function(n){n[n.DATA_MASK_000=0]="DATA_MASK_000",n[n.DATA_MASK_001=1]="DATA_MASK_001",n[n.DATA_MASK_010=2]="DATA_MASK_010",n[n.DATA_MASK_011=3]="DATA_MASK_011",n[n.DATA_MASK_100=4]="DATA_MASK_100",n[n.DATA_MASK_101=5]="DATA_MASK_101",n[n.DATA_MASK_110=6]="DATA_MASK_110",n[n.DATA_MASK_111=7]="DATA_MASK_111"})(hn||(hn={}));var q_=(function(){function n(t,e){this.value=t,this.isMasked=e}return n.prototype.unmaskBitMatrix=function(t,e){for(var r=0;r<e;r++)for(var i=0;i<e;i++)this.isMasked(r,i)&&t.flip(i,r)},n.values=new Map([[hn.DATA_MASK_000,new n(hn.DATA_MASK_000,function(t,e){return(t+e&1)===0})],[hn.DATA_MASK_001,new n(hn.DATA_MASK_001,function(t,e){return(t&1)===0})],[hn.DATA_MASK_010,new n(hn.DATA_MASK_010,function(t,e){return e%3===0})],[hn.DATA_MASK_011,new n(hn.DATA_MASK_011,function(t,e){return(t+e)%3===0})],[hn.DATA_MASK_100,new n(hn.DATA_MASK_100,function(t,e){return(Math.floor(t/2)+Math.floor(e/3)&1)===0})],[hn.DATA_MASK_101,new n(hn.DATA_MASK_101,function(t,e){return t*e%6===0})],[hn.DATA_MASK_110,new n(hn.DATA_MASK_110,function(t,e){return t*e%6<3})],[hn.DATA_MASK_111,new n(hn.DATA_MASK_111,function(t,e){return(t+e+t*e%3&1)===0})]]),n})(),QR=(function(){function n(t){var e=t.getHeight();if(e<21||(e&3)!==1)throw new ft;this.bitMatrix=t}return n.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var t=0,e=0;e<6;e++)t=this.copyBit(e,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(var r=5;r>=0;r--)t=this.copyBit(8,r,t);for(var i=this.bitMatrix.getHeight(),o=0,u=i-7,r=i-1;r>=u;r--)o=this.copyBit(8,r,o);for(var e=i-8;e<i;e++)o=this.copyBit(e,8,o);if(this.parsedFormatInfo=Fx.decodeFormatInformation(t,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ft},n.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var t=this.bitMatrix.getHeight(),e=Math.floor((t-17)/4);if(e<=6)return Wo.getVersionForNumber(e);for(var r=0,i=t-11,o=5;o>=0;o--)for(var u=t-9;u>=i;u--)r=this.copyBit(u,o,r);var c=Wo.decodeVersionInformation(r);if(c!==null&&c.getDimensionForVersion()===t)return this.parsedVersion=c,c;r=0;for(var u=5;u>=0;u--)for(var o=t-9;o>=i;o--)r=this.copyBit(u,o,r);if(c=Wo.decodeVersionInformation(r),c!==null&&c.getDimensionForVersion()===t)return this.parsedVersion=c,c;throw new ft},n.prototype.copyBit=function(t,e,r){var i=this.isMirror?this.bitMatrix.get(e,t):this.bitMatrix.get(t,e);return i?r<<1|1:r<<1},n.prototype.readCodewords=function(){var t=this.readFormatInformation(),e=this.readVersion(),r=q_.values.get(t.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);for(var o=e.buildFunctionPattern(),u=!0,c=new Uint8Array(e.getTotalCodewords()),f=0,d=0,g=0,m=i-1;m>0;m-=2){m===6&&m--;for(var _=0;_<i;_++)for(var E=u?i-1-_:_,w=0;w<2;w++)o.get(m-w,E)||(g++,d<<=1,this.bitMatrix.get(m-w,E)&&(d|=1),g===8&&(c[f++]=d,g=0,d=0));u=!u}if(f!==e.getTotalCodewords())throw new ft;return c},n.prototype.remask=function(){if(this.parsedFormatInfo!==null){var t=q_.values.get(this.parsedFormatInfo.getDataMask()),e=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,e)}},n.prototype.setMirror=function(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t},n.prototype.mirror=function(){for(var t=this.bitMatrix,e=0,r=t.getWidth();e<r;e++)for(var i=e+1,o=t.getHeight();i<o;i++)t.get(e,i)!==t.get(i,e)&&(t.flip(i,e),t.flip(e,i))},n})(),X_=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ZR=(function(){function n(t,e){this.numDataCodewords=t,this.codewords=e}return n.getDataBlocks=function(t,e,r){var i,o,u,c;if(t.length!==e.getTotalCodewords())throw new Tt;var f=e.getECBlocksForLevel(r),d=0,g=f.getECBlocks();try{for(var m=X_(g),_=m.next();!_.done;_=m.next()){var E=_.value;d+=E.getCount()}}catch(D){i={error:D}}finally{try{_&&!_.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}var w=new Array(d),S=0;try{for(var I=X_(g),N=I.next();!N.done;N=I.next())for(var E=N.value,L=0;L<E.getCount();L++){var V=E.getDataCodewords(),j=f.getECCodewordsPerBlock()+V;w[S++]=new n(V,new Uint8Array(j))}}catch(D){u={error:D}}finally{try{N&&!N.done&&(c=I.return)&&c.call(I)}finally{if(u)throw u.error}}for(var Q=w[0].codewords.length,Z=w.length-1;Z>=0;){var b=w[Z].codewords.length;if(b===Q)break;Z--}Z++;for(var R=Q-f.getECCodewordsPerBlock(),P=0,L=0;L<R;L++)for(var B=0;B<S;B++)w[B].codewords[L]=t[P++];for(var B=Z;B<S;B++)w[B].codewords[R]=t[P++];for(var U=w[0].codewords.length,L=R;L<U;L++)for(var B=0;B<S;B++){var F=B<Z?L:L+1;w[B].codewords[F]=t[P++]}return w},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n})(),Sr;(function(n){n[n.TERMINATOR=0]="TERMINATOR",n[n.NUMERIC=1]="NUMERIC",n[n.ALPHANUMERIC=2]="ALPHANUMERIC",n[n.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",n[n.BYTE=4]="BYTE",n[n.ECI=5]="ECI",n[n.KANJI=6]="KANJI",n[n.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",n[n.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",n[n.HANZI=9]="HANZI"})(Sr||(Sr={}));var Te=(function(){function n(t,e,r,i){this.value=t,this.stringValue=e,this.characterCountBitsForVersions=r,this.bits=i,n.FOR_BITS.set(i,this),n.FOR_VALUE.set(t,this)}return n.forBits=function(t){var e=n.FOR_BITS.get(t);if(e===void 0)throw new Tt;return e},n.prototype.getCharacterCountBits=function(t){var e=t.getVersionNumber(),r;return e<=9?r=0:e<=26?r=1:r=2,this.characterCountBitsForVersions[r]},n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.prototype.equals=function(t){if(!(t instanceof n))return!1;var e=t;return this.value===e.value},n.prototype.toString=function(){return this.stringValue},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.TERMINATOR=new n(Sr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),n.NUMERIC=new n(Sr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),n.ALPHANUMERIC=new n(Sr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),n.STRUCTURED_APPEND=new n(Sr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),n.BYTE=new n(Sr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),n.ECI=new n(Sr.ECI,"ECI",Int32Array.from([0,0,0]),7),n.KANJI=new n(Sr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),n.FNC1_FIRST_POSITION=new n(Sr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),n.FNC1_SECOND_POSITION=new n(Sr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),n.HANZI=new n(Sr.HANZI,"HANZI",Int32Array.from([8,10,12]),13),n})(),$R=(function(){function n(){}return n.decode=function(t,e,r,i){var o=new Ux(t),u=new kt,c=new Array,f=-1,d=-1;try{var g=null,m=!1,_=void 0;do{if(o.available()<4)_=Te.TERMINATOR;else{var E=o.readBits(4);_=Te.forBits(E)}switch(_){case Te.TERMINATOR:break;case Te.FNC1_FIRST_POSITION:case Te.FNC1_SECOND_POSITION:m=!0;break;case Te.STRUCTURED_APPEND:if(o.available()<16)throw new ft;f=o.readBits(8),d=o.readBits(8);break;case Te.ECI:var w=n.parseECIValue(o);if(g=nn.getCharacterSetECIByValue(w),g===null)throw new ft;break;case Te.HANZI:var S=o.readBits(4),I=o.readBits(_.getCharacterCountBits(e));S===n.GB2312_SUBSET&&n.decodeHanziSegment(o,u,I);break;default:var N=o.readBits(_.getCharacterCountBits(e));switch(_){case Te.NUMERIC:n.decodeNumericSegment(o,u,N);break;case Te.ALPHANUMERIC:n.decodeAlphanumericSegment(o,u,N,m);break;case Te.BYTE:n.decodeByteSegment(o,u,N,g,c,i);break;case Te.KANJI:n.decodeKanjiSegment(o,u,N);break;default:throw new ft}break}}while(_!==Te.TERMINATOR)}catch{throw new ft}return new cd(t,u.toString(),c.length===0?null:c,r===null?null:r.toString(),f,d)},n.decodeHanziSegment=function(t,e,r){if(r*13>t.available())throw new ft;for(var i=new Uint8Array(2*r),o=0;r>0;){var u=t.readBits(13),c=u/96<<8&4294967295|u%96;c<959?c+=41377:c+=42657,i[o]=c>>8&255,i[o+1]=c&255,o+=2,r--}try{e.append(br.decode(i,Qt.GB2312))}catch(f){throw new ft(f)}},n.decodeKanjiSegment=function(t,e,r){if(r*13>t.available())throw new ft;for(var i=new Uint8Array(2*r),o=0;r>0;){var u=t.readBits(13),c=u/192<<8&4294967295|u%192;c<7936?c+=33088:c+=49472,i[o]=c>>8,i[o+1]=c,o+=2,r--}try{e.append(br.decode(i,Qt.SHIFT_JIS))}catch(f){throw new ft(f)}},n.decodeByteSegment=function(t,e,r,i,o,u){if(8*r>t.available())throw new ft;for(var c=new Uint8Array(r),f=0;f<r;f++)c[f]=t.readBits(8);var d;i===null?d=Qt.guessEncoding(c,u):d=i.getName();try{e.append(br.decode(c,d))}catch(g){throw new ft(g)}o.push(c)},n.toAlphaNumericChar=function(t){if(t>=n.ALPHANUMERIC_CHARS.length)throw new ft;return n.ALPHANUMERIC_CHARS[t]},n.decodeAlphanumericSegment=function(t,e,r,i){for(var o=e.length();r>1;){if(t.available()<11)throw new ft;var u=t.readBits(11);e.append(n.toAlphaNumericChar(Math.floor(u/45))),e.append(n.toAlphaNumericChar(u%45)),r-=2}if(r===1){if(t.available()<6)throw new ft;e.append(n.toAlphaNumericChar(t.readBits(6)))}if(i)for(var c=o;c<e.length();c++)e.charAt(c)==="%"&&(c<e.length()-1&&e.charAt(c+1)==="%"?e.deleteCharAt(c+1):e.setCharAt(c,""))},n.decodeNumericSegment=function(t,e,r){for(;r>=3;){if(t.available()<10)throw new ft;var i=t.readBits(10);if(i>=1e3)throw new ft;e.append(n.toAlphaNumericChar(Math.floor(i/100))),e.append(n.toAlphaNumericChar(Math.floor(i/10)%10)),e.append(n.toAlphaNumericChar(i%10)),r-=3}if(r===2){if(t.available()<7)throw new ft;var o=t.readBits(7);if(o>=100)throw new ft;e.append(n.toAlphaNumericChar(Math.floor(o/10))),e.append(n.toAlphaNumericChar(o%10))}else if(r===1){if(t.available()<4)throw new ft;var u=t.readBits(4);if(u>=10)throw new ft;e.append(n.toAlphaNumericChar(u))}},n.parseECIValue=function(t){var e=t.readBits(8);if((e&128)===0)return e&127;if((e&192)===128){var r=t.readBits(8);return(e&63)<<8&4294967295|r}if((e&224)===192){var i=t.readBits(16);return(e&31)<<16&4294967295|i}throw new ft},n.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",n.GB2312_SUBSET=1,n})(),zx=(function(){function n(t){this.mirrored=t}return n.prototype.isMirrored=function(){return this.mirrored},n.prototype.applyMirroredCorrection=function(t){if(!(!this.mirrored||t===null||t.length<3)){var e=t[0];t[0]=t[2],t[2]=e}},n})(),Y_=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},JR=(function(){function n(){this.rsDecoder=new fd(Jn.QR_CODE_FIELD_256)}return n.prototype.decodeBooleanArray=function(t,e){return this.decodeBitMatrix(Ci.parseFromBooleanArray(t),e)},n.prototype.decodeBitMatrix=function(t,e){var r=new QR(t),i=null;try{return this.decodeBitMatrixParser(r,e)}catch(u){i=u}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var o=this.decodeBitMatrixParser(r,e);return o.setOther(new zx(!0)),o}catch(u){throw i!==null?i:u}},n.prototype.decodeBitMatrixParser=function(t,e){var r,i,o,u,c=t.readVersion(),f=t.readFormatInformation().getErrorCorrectionLevel(),d=t.readCodewords(),g=ZR.getDataBlocks(d,c,f),m=0;try{for(var _=Y_(g),E=_.next();!E.done;E=_.next()){var w=E.value;m+=w.getNumDataCodewords()}}catch(Z){r={error:Z}}finally{try{E&&!E.done&&(i=_.return)&&i.call(_)}finally{if(r)throw r.error}}var S=new Uint8Array(m),I=0;try{for(var N=Y_(g),L=N.next();!L.done;L=N.next()){var w=L.value,V=w.getCodewords(),j=w.getNumDataCodewords();this.correctErrors(V,j);for(var Q=0;Q<j;Q++)S[I++]=V[Q]}}catch(Z){o={error:Z}}finally{try{L&&!L.done&&(u=N.return)&&u.call(N)}finally{if(o)throw o.error}}return $R.decode(S,c,f,e)},n.prototype.correctErrors=function(t,e){var r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-e)}catch{throw new gn}for(var i=0;i<e;i++)t[i]=r[i]},n})(),tO=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),eO=(function(n){tO(t,n);function t(e,r,i){var o=n.call(this,e,r)||this;return o.estimatedModuleSize=i,o}return t.prototype.aboutEquals=function(e,r,i){if(Math.abs(r-this.getY())<=e&&Math.abs(i-this.getX())<=e){var o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(e,r,i){var o=(this.getX()+r)/2,u=(this.getY()+e)/2,c=(this.estimatedModuleSize+i)/2;return new t(o,u,c)},t})(vt),nO=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},rO=(function(){function n(t,e,r,i,o,u,c){this.image=t,this.startX=e,this.startY=r,this.width=i,this.height=o,this.moduleSize=u,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return n.prototype.find=function(){for(var t=this.startX,e=this.height,r=this.width,i=t+r,o=this.startY+e/2,u=new Int32Array(3),c=this.image,f=0;f<e;f++){var d=o+((f&1)===0?Math.floor((f+1)/2):-Math.floor((f+1)/2));u[0]=0,u[1]=0,u[2]=0;for(var g=t;g<i&&!c.get(g,d);)g++;for(var m=0;g<i;){if(c.get(g,d))if(m===1)u[1]++;else if(m===2){if(this.foundPatternCross(u)){var _=this.handlePossibleCenter(u,d,g);if(_!==null)return _}u[0]=u[2],u[1]=1,u[2]=0,m=1}else u[++m]++;else m===1&&m++,u[m]++;g++}if(this.foundPatternCross(u)){var _=this.handlePossibleCenter(u,d,i);if(_!==null)return _}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new et},n.centerFromEnd=function(t,e){return e-t[2]-t[1]/2},n.prototype.foundPatternCross=function(t){for(var e=this.moduleSize,r=e/2,i=0;i<3;i++)if(Math.abs(e-t[i])>=r)return!1;return!0},n.prototype.crossCheckVertical=function(t,e,r,i){var o=this.image,u=o.getHeight(),c=this.crossCheckStateCount;c[0]=0,c[1]=0,c[2]=0;for(var f=t;f>=0&&o.get(e,f)&&c[1]<=r;)c[1]++,f--;if(f<0||c[1]>r)return NaN;for(;f>=0&&!o.get(e,f)&&c[0]<=r;)c[0]++,f--;if(c[0]>r)return NaN;for(f=t+1;f<u&&o.get(e,f)&&c[1]<=r;)c[1]++,f++;if(f===u||c[1]>r)return NaN;for(;f<u&&!o.get(e,f)&&c[2]<=r;)c[2]++,f++;if(c[2]>r)return NaN;var d=c[0]+c[1]+c[2];return 5*Math.abs(d-i)>=2*i?NaN:this.foundPatternCross(c)?n.centerFromEnd(c,f):NaN},n.prototype.handlePossibleCenter=function(t,e,r){var i,o,u=t[0]+t[1]+t[2],c=n.centerFromEnd(t,r),f=this.crossCheckVertical(e,c,2*t[1],u);if(!isNaN(f)){var d=(t[0]+t[1]+t[2])/3;try{for(var g=nO(this.possibleCenters),m=g.next();!m.done;m=g.next()){var _=m.value;if(_.aboutEquals(d,f,c))return _.combineEstimate(f,c,d)}}catch(w){i={error:w}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}var E=new eO(c,f,d);this.possibleCenters.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return null},n})(),iO=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),aO=(function(n){iO(t,n);function t(e,r,i,o){var u=n.call(this,e,r)||this;return u.estimatedModuleSize=i,u.count=o,o===void 0&&(u.count=1),u}return t.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},t.prototype.getCount=function(){return this.count},t.prototype.aboutEquals=function(e,r,i){if(Math.abs(r-this.getY())<=e&&Math.abs(i-this.getX())<=e){var o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(e,r,i){var o=this.count+1,u=(this.count*this.getX()+r)/o,c=(this.count*this.getY()+e)/o,f=(this.count*this.estimatedModuleSize+i)/o;return new t(u,c,f,o)},t})(vt),oO=(function(){function n(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}return n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n})(),Dl=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},sO=(function(){function n(t,e){this.image=t,this.resultPointCallback=e,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=e}return n.prototype.getImage=function(){return this.image},n.prototype.getPossibleCenters=function(){return this.possibleCenters},n.prototype.find=function(t){var e=t!=null&&t.get(Ie.TRY_HARDER)!==void 0,r=t!=null&&t.get(Ie.PURE_BARCODE)!==void 0,i=this.image,o=i.getHeight(),u=i.getWidth(),c=Math.floor(3*o/(4*n.MAX_MODULES));(c<n.MIN_SKIP||e)&&(c=n.MIN_SKIP);for(var f=!1,d=new Int32Array(5),g=c-1;g<o&&!f;g+=c){d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0;for(var m=0,_=0;_<u;_++)if(i.get(_,g))(m&1)===1&&m++,d[m]++;else if((m&1)===0)if(m===4)if(n.foundPatternCross(d)){var E=this.handlePossibleCenter(d,g,_,r);if(E===!0)if(c=2,this.hasSkipped===!0)f=this.haveMultiplyConfirmedCenters();else{var w=this.findRowSkip();w>d[2]&&(g+=w-d[2]-c,_=u-1)}else{d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,m=3;continue}m=0,d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0}else d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,m=3;else d[++m]++;else d[m]++;if(n.foundPatternCross(d)){var E=this.handlePossibleCenter(d,g,u,r);E===!0&&(c=d[0],this.hasSkipped&&(f=this.haveMultiplyConfirmedCenters()))}}var S=this.selectBestPatterns();return vt.orderBestPatterns(S),new oO(S)},n.centerFromEnd=function(t,e){return e-t[4]-t[3]-t[2]/2},n.foundPatternCross=function(t){for(var e=0,r=0;r<5;r++){var i=t[r];if(i===0)return!1;e+=i}if(e<7)return!1;var o=e/7,u=o/2;return Math.abs(o-t[0])<u&&Math.abs(o-t[1])<u&&Math.abs(3*o-t[2])<3*u&&Math.abs(o-t[3])<u&&Math.abs(o-t[4])<u},n.prototype.getCrossCheckStateCount=function(){var t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t},n.prototype.crossCheckDiagonal=function(t,e,r,i){for(var o=this.getCrossCheckStateCount(),u=0,c=this.image;t>=u&&e>=u&&c.get(e-u,t-u);)o[2]++,u++;if(t<u||e<u)return!1;for(;t>=u&&e>=u&&!c.get(e-u,t-u)&&o[1]<=r;)o[1]++,u++;if(t<u||e<u||o[1]>r)return!1;for(;t>=u&&e>=u&&c.get(e-u,t-u)&&o[0]<=r;)o[0]++,u++;if(o[0]>r)return!1;var f=c.getHeight(),d=c.getWidth();for(u=1;t+u<f&&e+u<d&&c.get(e+u,t+u);)o[2]++,u++;if(t+u>=f||e+u>=d)return!1;for(;t+u<f&&e+u<d&&!c.get(e+u,t+u)&&o[3]<r;)o[3]++,u++;if(t+u>=f||e+u>=d||o[3]>=r)return!1;for(;t+u<f&&e+u<d&&c.get(e+u,t+u)&&o[4]<r;)o[4]++,u++;if(o[4]>=r)return!1;var g=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(g-i)<2*i&&n.foundPatternCross(o)},n.prototype.crossCheckVertical=function(t,e,r,i){for(var o=this.image,u=o.getHeight(),c=this.getCrossCheckStateCount(),f=t;f>=0&&o.get(e,f);)c[2]++,f--;if(f<0)return NaN;for(;f>=0&&!o.get(e,f)&&c[1]<=r;)c[1]++,f--;if(f<0||c[1]>r)return NaN;for(;f>=0&&o.get(e,f)&&c[0]<=r;)c[0]++,f--;if(c[0]>r)return NaN;for(f=t+1;f<u&&o.get(e,f);)c[2]++,f++;if(f===u)return NaN;for(;f<u&&!o.get(e,f)&&c[3]<r;)c[3]++,f++;if(f===u||c[3]>=r)return NaN;for(;f<u&&o.get(e,f)&&c[4]<r;)c[4]++,f++;if(c[4]>=r)return NaN;var d=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(d-i)>=2*i?NaN:n.foundPatternCross(c)?n.centerFromEnd(c,f):NaN},n.prototype.crossCheckHorizontal=function(t,e,r,i){for(var o=this.image,u=o.getWidth(),c=this.getCrossCheckStateCount(),f=t;f>=0&&o.get(f,e);)c[2]++,f--;if(f<0)return NaN;for(;f>=0&&!o.get(f,e)&&c[1]<=r;)c[1]++,f--;if(f<0||c[1]>r)return NaN;for(;f>=0&&o.get(f,e)&&c[0]<=r;)c[0]++,f--;if(c[0]>r)return NaN;for(f=t+1;f<u&&o.get(f,e);)c[2]++,f++;if(f===u)return NaN;for(;f<u&&!o.get(f,e)&&c[3]<r;)c[3]++,f++;if(f===u||c[3]>=r)return NaN;for(;f<u&&o.get(f,e)&&c[4]<r;)c[4]++,f++;if(c[4]>=r)return NaN;var d=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(d-i)>=i?NaN:n.foundPatternCross(c)?n.centerFromEnd(c,f):NaN},n.prototype.handlePossibleCenter=function(t,e,r,i){var o=t[0]+t[1]+t[2]+t[3]+t[4],u=n.centerFromEnd(t,r),c=this.crossCheckVertical(e,Math.floor(u),t[2],o);if(!isNaN(c)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(c),t[2],o),!isNaN(u)&&(!i||this.crossCheckDiagonal(Math.floor(c),Math.floor(u),t[2],o)))){for(var f=o/7,d=!1,g=this.possibleCenters,m=0,_=g.length;m<_;m++){var E=g[m];if(E.aboutEquals(f,c,u)){g[m]=E.combineEstimate(c,u,f),d=!0;break}}if(!d){var w=new aO(u,c,f);g.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return!0}return!1},n.prototype.findRowSkip=function(){var t,e,r=this.possibleCenters.length;if(r<=1)return 0;var i=null;try{for(var o=Dl(this.possibleCenters),u=o.next();!u.done;u=o.next()){var c=u.value;if(c.getCount()>=n.CENTER_QUORUM)if(i==null)i=c;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-c.getX())-Math.abs(i.getY()-c.getY()))/2)}}catch(f){t={error:f}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return 0},n.prototype.haveMultiplyConfirmedCenters=function(){var t,e,r,i,o=0,u=0,c=this.possibleCenters.length;try{for(var f=Dl(this.possibleCenters),d=f.next();!d.done;d=f.next()){var g=d.value;g.getCount()>=n.CENTER_QUORUM&&(o++,u+=g.getEstimatedModuleSize())}}catch(S){t={error:S}}finally{try{d&&!d.done&&(e=f.return)&&e.call(f)}finally{if(t)throw t.error}}if(o<3)return!1;var m=u/c,_=0;try{for(var E=Dl(this.possibleCenters),w=E.next();!w.done;w=E.next()){var g=w.value;_+=Math.abs(g.getEstimatedModuleSize()-m)}}catch(S){r={error:S}}finally{try{w&&!w.done&&(i=E.return)&&i.call(E)}finally{if(r)throw r.error}}return _<=.05*u},n.prototype.selectBestPatterns=function(){var t,e,r,i,o=this.possibleCenters.length;if(o<3)throw new et;var u=this.possibleCenters,c;if(o>3){var f=0,d=0;try{for(var g=Dl(this.possibleCenters),m=g.next();!m.done;m=g.next()){var _=m.value,E=_.getEstimatedModuleSize();f+=E,d+=E*E}}catch(Q){t={error:Q}}finally{try{m&&!m.done&&(e=g.return)&&e.call(g)}finally{if(t)throw t.error}}c=f/o;var w=Math.sqrt(d/o-c*c);u.sort(function(Q,Z){var b=Math.abs(Z.getEstimatedModuleSize()-c),R=Math.abs(Q.getEstimatedModuleSize()-c);return b<R?-1:b>R?1:0});for(var S=Math.max(.2*c,w),I=0;I<u.length&&u.length>3;I++){var N=u[I];Math.abs(N.getEstimatedModuleSize()-c)>S&&(u.splice(I,1),I--)}}if(u.length>3){var f=0;try{for(var L=Dl(u),V=L.next();!V.done;V=L.next()){var j=V.value;f+=j.getEstimatedModuleSize()}}catch(Z){r={error:Z}}finally{try{V&&!V.done&&(i=L.return)&&i.call(L)}finally{if(r)throw r.error}}c=f/u.length,u.sort(function(Z,b){if(b.getCount()===Z.getCount()){var R=Math.abs(b.getEstimatedModuleSize()-c),P=Math.abs(Z.getEstimatedModuleSize()-c);return R<P?1:R>P?-1:0}else return b.getCount()-Z.getCount()}),u.splice(3)}return[u[0],u[1],u[2]]},n.CENTER_QUORUM=2,n.MIN_SKIP=3,n.MAX_MODULES=57,n})(),uO=(function(){function n(t){this.image=t}return n.prototype.getImage=function(){return this.image},n.prototype.getResultPointCallback=function(){return this.resultPointCallback},n.prototype.detect=function(t){this.resultPointCallback=t==null?null:t.get(Ie.NEED_RESULT_POINT_CALLBACK);var e=new sO(this.image,this.resultPointCallback),r=e.find(t);return this.processFinderPatternInfo(r)},n.prototype.processFinderPatternInfo=function(t){var e=t.getTopLeft(),r=t.getTopRight(),i=t.getBottomLeft(),o=this.calculateModuleSize(e,r,i);if(o<1)throw new et("No pattern found in proccess finder.");var u=n.computeDimension(e,r,i,o),c=Wo.getProvisionalVersionForDimension(u),f=c.getDimensionForVersion()-7,d=null;if(c.getAlignmentPatternCenters().length>0)for(var g=r.getX()-e.getX()+i.getX(),m=r.getY()-e.getY()+i.getY(),_=1-3/f,E=Math.floor(e.getX()+_*(g-e.getX())),w=Math.floor(e.getY()+_*(m-e.getY())),S=4;S<=16;S<<=1)try{d=this.findAlignmentInRegion(o,E,w,S);break}catch(V){if(!(V instanceof et))throw V}var I=n.createTransform(e,r,i,d,u),N=n.sampleGrid(this.image,I,u),L;return d===null?L=[i,e,r]:L=[i,e,r,d],new mg(N,L)},n.createTransform=function(t,e,r,i,o){var u=o-3.5,c,f,d,g;return i!==null?(c=i.getX(),f=i.getY(),d=u-3,g=d):(c=e.getX()-t.getX()+r.getX(),f=e.getY()-t.getY()+r.getY(),d=u,g=u),Lx.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,d,g,3.5,u,t.getX(),t.getY(),e.getX(),e.getY(),c,f,r.getX(),r.getY())},n.sampleGrid=function(t,e,r){var i=yg.getInstance();return i.sampleGridWithTransform(t,r,r,e)},n.computeDimension=function(t,e,r,i){var o=ee.round(vt.distance(t,e)/i),u=ee.round(vt.distance(t,r)/i),c=Math.floor((o+u)/2)+7;switch(c&3){case 0:c++;break;case 2:c--;break;case 3:throw new et("Dimensions could be not found.")}return c},n.prototype.calculateModuleSize=function(t,e,r){return(this.calculateModuleSizeOneWay(t,e)+this.calculateModuleSizeOneWay(t,r))/2},n.prototype.calculateModuleSizeOneWay=function(t,e){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14},n.prototype.sizeOfBlackWhiteBlackRunBothWays=function(t,e,r,i){var o=this.sizeOfBlackWhiteBlackRun(t,e,r,i),u=1,c=t-(r-t);c<0?(u=t/(t-c),c=0):c>=this.image.getWidth()&&(u=(this.image.getWidth()-1-t)/(c-t),c=this.image.getWidth()-1);var f=Math.floor(e-(i-e)*u);return u=1,f<0?(u=e/(e-f),f=0):f>=this.image.getHeight()&&(u=(this.image.getHeight()-1-e)/(f-e),f=this.image.getHeight()-1),c=Math.floor(t+(c-t)*u),o+=this.sizeOfBlackWhiteBlackRun(t,e,c,f),o-1},n.prototype.sizeOfBlackWhiteBlackRun=function(t,e,r,i){var o=Math.abs(i-e)>Math.abs(r-t);if(o){var u=t;t=e,e=u,u=r,r=i,i=u}for(var c=Math.abs(r-t),f=Math.abs(i-e),d=-c/2,g=t<r?1:-1,m=e<i?1:-1,_=0,E=r+g,w=t,S=e;w!==E;w+=g){var I=o?S:w,N=o?w:S;if(_===1===this.image.get(I,N)){if(_===2)return ee.distance(w,S,t,e);_++}if(d+=f,d>0){if(S===i)break;S+=m,d-=c}}return _===2?ee.distance(r+g,i,t,e):NaN},n.prototype.findAlignmentInRegion=function(t,e,r,i){var o=Math.floor(i*t),u=Math.max(0,e-o),c=Math.min(this.image.getWidth()-1,e+o);if(c-u<t*3)throw new et("Alignment top exceeds estimated module size.");var f=Math.max(0,r-o),d=Math.min(this.image.getHeight()-1,r+o);if(d-f<t*3)throw new et("Alignment bottom exceeds estimated module size.");var g=new rO(this.image,u,f,c-u,d-f,t,this.resultPointCallback);return g.find()},n})(),yp=(function(){function n(){this.decoder=new JR}return n.prototype.getDecoder=function(){return this.decoder},n.prototype.decode=function(t,e){var r,i;if(e!=null&&e.get(Ie.PURE_BARCODE)!==void 0){var o=n.extractPureBits(t.getBlackMatrix());r=this.decoder.decodeBitMatrix(o,e),i=n.NO_POINTS}else{var u=new uO(t.getBlackMatrix()).detect(e);r=this.decoder.decodeBitMatrix(u.getBits(),e),i=u.getPoints()}r.getOther()instanceof zx&&r.getOther().applyMirroredCorrection(i);var c=new Bn(r.getText(),r.getRawBytes(),void 0,i,xt.QR_CODE,void 0),f=r.getByteSegments();f!==null&&c.putMetadata(In.BYTE_SEGMENTS,f);var d=r.getECLevel();return d!==null&&c.putMetadata(In.ERROR_CORRECTION_LEVEL,d),r.hasStructuredAppend()&&(c.putMetadata(In.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),c.putMetadata(In.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),c},n.prototype.reset=function(){},n.extractPureBits=function(t){var e=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(e===null||r===null)throw new et;var i=this.moduleSize(e,t),o=e[1],u=r[1],c=e[0],f=r[0];if(c>=f||o>=u)throw new et;if(u-o!==f-c&&(f=c+(u-o),f>=t.getWidth()))throw new et;var d=Math.round((f-c+1)/i),g=Math.round((u-o+1)/i);if(d<=0||g<=0)throw new et;if(g!==d)throw new et;var m=Math.floor(i/2);o+=m,c+=m;var _=c+Math.floor((d-1)*i)-f;if(_>0){if(_>m)throw new et;c-=_}var E=o+Math.floor((g-1)*i)-u;if(E>0){if(E>m)throw new et;o-=E}for(var w=new Ci(d,g),S=0;S<g;S++)for(var I=o+Math.floor(S*i),N=0;N<d;N++)t.get(c+Math.floor(N*i),I)&&w.set(N,S);return w},n.moduleSize=function(t,e){for(var r=e.getHeight(),i=e.getWidth(),o=t[0],u=t[1],c=!0,f=0;o<i&&u<r;){if(c!==e.get(o,u)){if(++f===5)break;c=!c}o++,u++}if(o===i||u===r)throw new et;return(o-t[0])/7},n.NO_POINTS=new Array,n})(),lO=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},$t=(function(){function n(){}return n.prototype.PDF417Common=function(){},n.getBitCountSum=function(t){return ee.sum(t)},n.toIntArray=function(t){var e,r;if(t==null||!t.length)return n.EMPTY_INT_ARRAY;var i=new Int32Array(t.length),o=0;try{for(var u=lO(t),c=u.next();!c.done;c=u.next()){var f=c.value;i[o++]=f}}catch(d){e={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}return i},n.getCodeword=function(t){var e=an.binarySearch(n.SYMBOL_TABLE,t&262143);return e<0?-1:(n.CODEWORD_TABLE[e]-1)%n.NUMBER_OF_CODEWORDS},n.NUMBER_OF_CODEWORDS=929,n.MAX_CODEWORDS_IN_BARCODE=n.NUMBER_OF_CODEWORDS-1,n.MIN_ROWS_IN_BARCODE=3,n.MAX_ROWS_IN_BARCODE=90,n.MODULES_IN_CODEWORD=17,n.MODULES_IN_STOP_PATTERN=18,n.BARS_IN_MODULE=8,n.EMPTY_INT_ARRAY=new Int32Array([]),n.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),n.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),n})(),cO=(function(){function n(t,e){this.bits=t,this.points=e}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n})(),fO=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},hO=(function(){function n(){}return n.detectMultiple=function(t,e,r){var i=t.getBlackMatrix(),o=n.detect(r,i);return o.length||(i=i.clone(),i.rotate180(),o=n.detect(r,i)),new cO(i,o)},n.detect=function(t,e){for(var r,i,o=new Array,u=0,c=0,f=!1;u<e.getHeight();){var d=n.findVertices(e,u,c);if(d[0]==null&&d[3]==null){if(!f)break;f=!1,c=0;try{for(var g=(r=void 0,fO(o)),m=g.next();!m.done;m=g.next()){var _=m.value;_[1]!=null&&(u=Math.trunc(Math.max(u,_[1].getY()))),_[3]!=null&&(u=Math.max(u,Math.trunc(_[3].getY())))}}catch(E){r={error:E}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(r)throw r.error}}u+=n.ROW_STEP;continue}if(f=!0,o.push(d),!t)break;d[2]!=null?(c=Math.trunc(d[2].getX()),u=Math.trunc(d[2].getY())):(c=Math.trunc(d[4].getX()),u=Math.trunc(d[4].getY()))}return o},n.findVertices=function(t,e,r){var i=t.getHeight(),o=t.getWidth(),u=new Array(8);return n.copyToResult(u,n.findRowsWithPattern(t,i,o,e,r,n.START_PATTERN),n.INDEXES_START_PATTERN),u[4]!=null&&(r=Math.trunc(u[4].getX()),e=Math.trunc(u[4].getY())),n.copyToResult(u,n.findRowsWithPattern(t,i,o,e,r,n.STOP_PATTERN),n.INDEXES_STOP_PATTERN),u},n.copyToResult=function(t,e,r){for(var i=0;i<r.length;i++)t[r[i]]=e[i]},n.findRowsWithPattern=function(t,e,r,i,o,u){for(var c=new Array(4),f=!1,d=new Int32Array(u.length);i<e;i+=n.ROW_STEP){var g=n.findGuardPattern(t,o,i,r,!1,u,d);if(g!=null){for(;i>0;){var m=n.findGuardPattern(t,o,--i,r,!1,u,d);if(m!=null)g=m;else{i++;break}}c[0]=new vt(g[0],i),c[1]=new vt(g[1],i),f=!0;break}}var _=i+1;if(f){for(var E=0,m=Int32Array.from([Math.trunc(c[0].getX()),Math.trunc(c[1].getX())]);_<e;_++){var g=n.findGuardPattern(t,m[0],_,r,!1,u,d);if(g!=null&&Math.abs(m[0]-g[0])<n.MAX_PATTERN_DRIFT&&Math.abs(m[1]-g[1])<n.MAX_PATTERN_DRIFT)m=g,E=0;else{if(E>n.SKIPPED_ROW_COUNT_MAX)break;E++}}_-=E+1,c[2]=new vt(m[0],_),c[3]=new vt(m[1],_)}return _-i<n.BARCODE_MIN_HEIGHT&&an.fill(c,null),c},n.findGuardPattern=function(t,e,r,i,o,u,c){an.fillWithin(c,0,c.length,0);for(var f=e,d=0;t.get(f,r)&&f>0&&d++<n.MAX_PIXEL_DRIFT;)f--;for(var g=f,m=0,_=u.length,E=o;g<i;g++){var w=t.get(g,r);if(w!==E)c[m]++;else{if(m===_-1){if(n.patternMatchVariance(c,u,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE)return new Int32Array([f,g]);f+=c[0]+c[1],Ee.arraycopy(c,2,c,0,m-1),c[m-1]=0,c[m]=0,m--}else m++;c[m]=1,E=!E}}return m===_-1&&n.patternMatchVariance(c,u,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE?new Int32Array([f,g-1]):null},n.patternMatchVariance=function(t,e,r){for(var i=t.length,o=0,u=0,c=0;c<i;c++)o+=t[c],u+=e[c];if(o<u)return 1/0;var f=o/u;r*=f;for(var d=0,g=0;g<i;g++){var m=t[g],_=e[g]*f,E=m>_?m-_:_-m;if(E>r)return 1/0;d+=E}return d/o},n.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),n.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),n.MAX_AVG_VARIANCE=.42,n.MAX_INDIVIDUAL_VARIANCE=.8,n.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),n.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),n.MAX_PIXEL_DRIFT=3,n.MAX_PATTERN_DRIFT=5,n.SKIPPED_ROW_COUNT_MAX=25,n.ROW_STEP=5,n.BARCODE_MIN_HEIGHT=10,n})(),dO=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Xo=(function(){function n(t,e){if(e.length===0)throw new Tt;this.field=t;var r=e.length;if(r>1&&e[0]===0){for(var i=1;i<r&&e[i]===0;)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),Ee.arraycopy(e,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=e}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},n.prototype.evaluateAt=function(t){var e,r;if(t===0)return this.getCoefficient(0);if(t===1){var i=0;try{for(var o=dO(this.coefficients),u=o.next();!u.done;u=o.next()){var c=u.value;i=this.field.add(i,c)}}catch(m){e={error:m}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return i}for(var f=this.coefficients[0],d=this.coefficients.length,g=1;g<d;g++)f=this.field.add(this.field.multiply(t,f),this.coefficients[g]);return f},n.prototype.add=function(t){if(!this.field.equals(t.field))throw new Tt("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;var e=this.coefficients,r=t.coefficients;if(e.length>r.length){var i=e;e=r,r=i}var o=new Int32Array(r.length),u=r.length-e.length;Ee.arraycopy(r,0,o,0,u);for(var c=u;c<r.length;c++)o[c]=this.field.add(e[c-u],r[c]);return new n(this.field,o)},n.prototype.subtract=function(t){if(!this.field.equals(t.field))throw new Tt("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())},n.prototype.multiply=function(t){return t instanceof n?this.multiplyOther(t):this.multiplyScalar(t)},n.prototype.multiplyOther=function(t){if(!this.field.equals(t.field))throw new Tt("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new n(this.field,new Int32Array([0]));for(var e=this.coefficients,r=e.length,i=t.coefficients,o=i.length,u=new Int32Array(r+o-1),c=0;c<r;c++)for(var f=e[c],d=0;d<o;d++)u[c+d]=this.field.add(u[c+d],this.field.multiply(f,i[d]));return new n(this.field,u)},n.prototype.negative=function(){for(var t=this.coefficients.length,e=new Int32Array(t),r=0;r<t;r++)e[r]=this.field.subtract(0,this.coefficients[r]);return new n(this.field,e)},n.prototype.multiplyScalar=function(t){if(t===0)return new n(this.field,new Int32Array([0]));if(t===1)return this;for(var e=this.coefficients.length,r=new Int32Array(e),i=0;i<e;i++)r[i]=this.field.multiply(this.coefficients[i],t);return new n(this.field,r)},n.prototype.multiplyByMonomial=function(t,e){if(t<0)throw new Tt;if(e===0)return new n(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+t),o=0;o<r;o++)i[o]=this.field.multiply(this.coefficients[o],e);return new n(this.field,i)},n.prototype.toString=function(){for(var t=new kt,e=this.getDegree();e>=0;e--){var r=this.getCoefficient(e);r!==0&&(r<0?(t.append(" - "),r=-r):t.length()>0&&t.append(" + "),(e===0||r!==1)&&t.append(r),e!==0&&(e===1?t.append("x"):(t.append("x^"),t.append(e))))}return t.toString()},n})(),pO=(function(){function n(){}return n.prototype.add=function(t,e){return(t+e)%this.modulus},n.prototype.subtract=function(t,e){return(this.modulus+t-e)%this.modulus},n.prototype.exp=function(t){return this.expTable[t]},n.prototype.log=function(t){if(t===0)throw new Tt;return this.logTable[t]},n.prototype.inverse=function(t){if(t===0)throw new Px;return this.expTable[this.modulus-this.logTable[t]-1]},n.prototype.multiply=function(t,e){return t===0||e===0?0:this.expTable[(this.logTable[t]+this.logTable[e])%(this.modulus-1)]},n.prototype.getSize=function(){return this.modulus},n.prototype.equals=function(t){return t===this},n})(),gO=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),vO=(function(n){gO(t,n);function t(e,r){var i=n.call(this)||this;i.modulus=e,i.expTable=new Int32Array(e),i.logTable=new Int32Array(e);for(var o=1,u=0;u<e;u++)i.expTable[u]=o,o=o*r%e;for(var u=0;u<e-1;u++)i.logTable[i.expTable[u]]=u;return i.zero=new Xo(i,new Int32Array([0])),i.one=new Xo(i,new Int32Array([1])),i}return t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(e,r){if(e<0)throw new Tt;if(r===0)return this.zero;var i=new Int32Array(e+1);return i[0]=r,new Xo(this,i)},t.PDF417_GF=new t($t.NUMBER_OF_CODEWORDS,3),t})(pO),mO=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},yO=(function(){function n(){this.field=vO.PDF417_GF}return n.prototype.decode=function(t,e,r){for(var i,o,u=new Xo(this.field,t),c=new Int32Array(e),f=!1,d=e;d>0;d--){var g=u.evaluateAt(this.field.exp(d));c[e-d]=g,g!==0&&(f=!0)}if(!f)return 0;var m=this.field.getOne();if(r!=null)try{for(var _=mO(r),E=_.next();!E.done;E=_.next()){var w=E.value,S=this.field.exp(t.length-1-w),I=new Xo(this.field,new Int32Array([this.field.subtract(0,S),1]));m=m.multiply(I)}}catch(R){i={error:R}}finally{try{E&&!E.done&&(o=_.return)&&o.call(_)}finally{if(i)throw i.error}}for(var N=new Xo(this.field,c),L=this.runEuclideanAlgorithm(this.field.buildMonomial(e,1),N,e),V=L[0],j=L[1],Q=this.findErrorLocations(V),Z=this.findErrorMagnitudes(j,V,Q),d=0;d<Q.length;d++){var b=t.length-1-this.field.log(Q[d]);if(b<0)throw gn.getChecksumInstance();t[b]=this.field.subtract(t[b],Z[d])}return Q.length},n.prototype.runEuclideanAlgorithm=function(t,e,r){if(t.getDegree()<e.getDegree()){var i=t;t=e,e=i}for(var o=t,u=e,c=this.field.getZero(),f=this.field.getOne();u.getDegree()>=Math.round(r/2);){var d=o,g=c;if(o=u,c=f,o.isZero())throw gn.getChecksumInstance();u=d;for(var m=this.field.getZero(),_=o.getCoefficient(o.getDegree()),E=this.field.inverse(_);u.getDegree()>=o.getDegree()&&!u.isZero();){var w=u.getDegree()-o.getDegree(),S=this.field.multiply(u.getCoefficient(u.getDegree()),E);m=m.add(this.field.buildMonomial(w,S)),u=u.subtract(o.multiplyByMonomial(w,S))}f=m.multiply(c).subtract(g).negative()}var I=f.getCoefficient(0);if(I===0)throw gn.getChecksumInstance();var N=this.field.inverse(I),L=f.multiply(N),V=u.multiply(N);return[L,V]},n.prototype.findErrorLocations=function(t){for(var e=t.getDegree(),r=new Int32Array(e),i=0,o=1;o<this.field.getSize()&&i<e;o++)t.evaluateAt(o)===0&&(r[i]=this.field.inverse(o),i++);if(i!==e)throw gn.getChecksumInstance();return r},n.prototype.findErrorMagnitudes=function(t,e,r){for(var i=e.getDegree(),o=new Int32Array(i),u=1;u<=i;u++)o[i-u]=this.field.multiply(u,e.getCoefficient(u));for(var c=new Xo(this.field,o),f=r.length,d=new Int32Array(f),u=0;u<f;u++){var g=this.field.inverse(r[u]),m=this.field.subtract(0,t.evaluateAt(g)),_=this.field.inverse(c.evaluateAt(g));d[u]=this.field.multiply(m,_)}return d},n})(),_p=(function(){function n(t,e,r,i,o){t instanceof n?this.constructor_2(t):this.constructor_1(t,e,r,i,o)}return n.prototype.constructor_1=function(t,e,r,i,o){var u=e==null||r==null,c=i==null||o==null;if(u&&c)throw new et;u?(e=new vt(0,i.getY()),r=new vt(0,o.getY())):c&&(i=new vt(t.getWidth()-1,e.getY()),o=new vt(t.getWidth()-1,r.getY())),this.image=t,this.topLeft=e,this.bottomLeft=r,this.topRight=i,this.bottomRight=o,this.minX=Math.trunc(Math.min(e.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),o.getX())),this.minY=Math.trunc(Math.min(e.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),o.getY()))},n.prototype.constructor_2=function(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()},n.merge=function(t,e){return t==null?e:e==null?t:new n(t.image,t.topLeft,t.bottomLeft,e.topRight,e.bottomRight)},n.prototype.addMissingRows=function(t,e,r){var i=this.topLeft,o=this.bottomLeft,u=this.topRight,c=this.bottomRight;if(t>0){var f=r?this.topLeft:this.topRight,d=Math.trunc(f.getY()-t);d<0&&(d=0);var g=new vt(f.getX(),d);r?i=g:u=g}if(e>0){var m=r?this.bottomLeft:this.bottomRight,_=Math.trunc(m.getY()+e);_>=this.image.getHeight()&&(_=this.image.getHeight()-1);var E=new vt(m.getX(),_);r?o=E:c=E}return new n(this.image,i,o,u,c)},n.prototype.getMinX=function(){return this.minX},n.prototype.getMaxX=function(){return this.maxX},n.prototype.getMinY=function(){return this.minY},n.prototype.getMaxY=function(){return this.maxY},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getBottomRight=function(){return this.bottomRight},n})(),_O=(function(){function n(t,e,r,i){this.columnCount=t,this.errorCorrectionLevel=i,this.rowCountUpperPart=e,this.rowCountLowerPart=r,this.rowCount=e+r}return n.prototype.getColumnCount=function(){return this.columnCount},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getRowCount=function(){return this.rowCount},n.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},n.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},n})(),Eg=(function(){function n(){this.buffer=""}return n.form=function(t,e){var r=-1;function i(u,c,f,d,g,m){if(u==="%%")return"%";if(e[++r]!==void 0){u=d?parseInt(d.substr(1)):void 0;var _=g?parseInt(g.substr(1)):void 0,E;switch(m){case"s":E=e[r];break;case"c":E=e[r][0];break;case"f":E=parseFloat(e[r]).toFixed(u);break;case"p":E=parseFloat(e[r]).toPrecision(u);break;case"e":E=parseFloat(e[r]).toExponential(u);break;case"x":E=parseInt(e[r]).toString(_||16);break;case"d":E=parseFloat(parseInt(e[r],_||10).toPrecision(u)).toFixed(0);break}E=typeof E=="object"?JSON.stringify(E):(+E).toString(_);for(var w=parseInt(f),S=f&&f[0]+""=="0"?"0":" ";E.length<w;)E=c!==void 0?E+S:S+E;return E}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(o,i)},n.prototype.format=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];this.buffer+=n.form(t,e)},n.prototype.toString=function(){return this.buffer},n})(),EO=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Hx=(function(){function n(t){this.boundingBox=new _p(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}return n.prototype.getCodewordNearby=function(t){var e=this.getCodeword(t);if(e!=null)return e;for(var r=1;r<n.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(t)-r;if(i>=0&&(e=this.codewords[i],e!=null)||(i=this.imageRowToCodewordIndex(t)+r,i<this.codewords.length&&(e=this.codewords[i],e!=null)))return e}return null},n.prototype.imageRowToCodewordIndex=function(t){return t-this.boundingBox.getMinY()},n.prototype.setCodeword=function(t,e){this.codewords[this.imageRowToCodewordIndex(t)]=e},n.prototype.getCodeword=function(t){return this.codewords[this.imageRowToCodewordIndex(t)]},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.getCodewords=function(){return this.codewords},n.prototype.toString=function(){var t,e,r=new Eg,i=0;try{for(var o=EO(this.codewords),u=o.next();!u.done;u=o.next()){var c=u.value;if(c==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,c.getRowNumber(),c.getValue())}}catch(f){t={error:f}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return r.toString()},n.MAX_NEARBY_DISTANCE=5,n})(),AO=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},xO=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],u;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(c){u={error:c}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(u)throw u.error}}return o},Hl=(function(){function n(){this.values=new Map}return n.prototype.setValue=function(t){t=Math.trunc(t);var e=this.values.get(t);e==null&&(e=0),e++,this.values.set(t,e)},n.prototype.getValue=function(){var t,e,r=-1,i=new Array,o=function(m,_){var E={getKey:function(){return m},getValue:function(){return _}};E.getValue()>r?(r=E.getValue(),i=[],i.push(E.getKey())):E.getValue()===r&&i.push(E.getKey())};try{for(var u=AO(this.values.entries()),c=u.next();!c.done;c=u.next()){var f=xO(c.value,2),d=f[0],g=f[1];o(d,g)}}catch(m){t={error:m}}finally{try{c&&!c.done&&(e=u.return)&&e.call(u)}finally{if(t)throw t.error}}return $t.toIntArray(i)},n.prototype.getConfidence=function(t){return this.values.get(t)},n})(),wO=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),N0=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},K_=(function(n){wO(t,n);function t(e,r){var i=n.call(this,e)||this;return i._isLeft=r,i}return t.prototype.setRowNumbers=function(){var e,r;try{for(var i=N0(this.getCodewords()),o=i.next();!o.done;o=i.next()){var u=o.value;u?.setRowNumberAsRowIndicatorColumn()}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}},t.prototype.adjustCompleteIndicatorColumnRowNumbers=function(e){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,e);for(var i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),u=this._isLeft?i.getBottomLeft():i.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),d=-1,g=1,m=0,_=c;_<f;_++)if(r[_]!=null){var E=r[_],w=E.getRowNumber()-d;if(w===0)m++;else if(w===1)g=Math.max(g,m),m=1,d=E.getRowNumber();else if(w<0||E.getRowNumber()>=e.getRowCount()||w>_)r[_]=null;else{var S=void 0;g>2?S=(g-2)*w:S=w;for(var I=S>=_,N=1;N<=S&&!I;N++)I=r[_-N]!=null;I?r[_]=null:(d=E.getRowNumber(),m=1)}}},t.prototype.getRowHeights=function(){var e,r,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var o=new Int32Array(i.getRowCount());try{for(var u=N0(this.getCodewords()),c=u.next();!c.done;c=u.next()){var f=c.value;if(f!=null){var d=f.getRowNumber();if(d>=o.length)continue;o[d]++}}}catch(g){e={error:g}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}return o},t.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(e){for(var r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.getCodewords(),d=-1,g=u;g<c;g++)if(f[g]!=null){var m=f[g];m.setRowNumberAsRowIndicatorColumn();var _=m.getRowNumber()-d;_===0||(_===1?d=m.getRowNumber():m.getRowNumber()>=e.getRowCount()?f[g]=null:d=m.getRowNumber())}},t.prototype.getBarcodeMetadata=function(){var e,r,i=this.getCodewords(),o=new Hl,u=new Hl,c=new Hl,f=new Hl;try{for(var d=N0(i),g=d.next();!g.done;g=d.next()){var m=g.value;if(m!=null){m.setRowNumberAsRowIndicatorColumn();var _=m.getValue()%30,E=m.getRowNumber();switch(this._isLeft||(E+=2),E%3){case 0:u.setValue(_*3+1);break;case 1:f.setValue(_/3),c.setValue(_%3);break;case 2:o.setValue(_+1);break}}}}catch(S){e={error:S}}finally{try{g&&!g.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}if(o.getValue().length===0||u.getValue().length===0||c.getValue().length===0||f.getValue().length===0||o.getValue()[0]<1||u.getValue()[0]+c.getValue()[0]<$t.MIN_ROWS_IN_BARCODE||u.getValue()[0]+c.getValue()[0]>$t.MAX_ROWS_IN_BARCODE)return null;var w=new _O(o.getValue()[0],u.getValue()[0],c.getValue()[0],f.getValue()[0]);return this.removeIncorrectCodewords(i,w),w},t.prototype.removeIncorrectCodewords=function(e,r){for(var i=0;i<e.length;i++){var o=e[i];if(e[i]!=null){var u=o.getValue()%30,c=o.getRowNumber();if(c>r.getRowCount()){e[i]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:u*3+1!==r.getRowCountUpperPart()&&(e[i]=null);break;case 1:(Math.trunc(u/3)!==r.getErrorCorrectionLevel()||u%3!==r.getRowCountLowerPart())&&(e[i]=null);break;case 2:u+1!==r.getColumnCount()&&(e[i]=null);break}}}},t.prototype.isLeft=function(){return this._isLeft},t.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+n.prototype.toString.call(this)},t})(Hx),TO=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},SO=(function(){function n(t,e){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=e,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return n.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var t=$t.MAX_CODEWORDS_IN_BARCODE,e;do e=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<e);return this.detectionResultColumns},n.prototype.adjustIndicatorColumnRowNumbers=function(t){t?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},n.prototype.adjustRowNumbersAndGetCount=function(){var t=this.adjustRowNumbersByRow();if(t===0)return 0;for(var e=1;e<this.barcodeColumnCount+1;e++)for(var r=this.detectionResultColumns[e].getCodewords(),i=0;i<r.length;i++)r[i]!=null&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(e,i,r));return t},n.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var t=this.adjustRowNumbersFromLRI();return t+this.adjustRowNumbersFromRRI()},n.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var t=this.detectionResultColumns[0].getCodewords(),e=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null&&e[r]!=null&&t[r].getRowNumber()===e[r].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var o=this.detectionResultColumns[i].getCodewords()[r];o!=null&&(o.setRowNumber(t[r].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}}},n.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var t=0,e=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(e[r]!=null)for(var i=e[r].getRowNumber(),o=0,u=this.barcodeColumnCount+1;u>0&&o<this.ADJUST_ROW_NUMBER_SKIP;u--){var c=this.detectionResultColumns[u].getCodewords()[r];c!=null&&(o=n.adjustRowNumberIfValid(i,o,c),c.hasValidRowNumber()||t++)}return t},n.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var t=0,e=this.detectionResultColumns[0].getCodewords(),r=0;r<e.length;r++)if(e[r]!=null)for(var i=e[r].getRowNumber(),o=0,u=1;u<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;u++){var c=this.detectionResultColumns[u].getCodewords()[r];c!=null&&(o=n.adjustRowNumberIfValid(i,o,c),c.hasValidRowNumber()||t++)}return t},n.adjustRowNumberIfValid=function(t,e,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(t)?(r.setRowNumber(t),e=0):++e),e},n.prototype.adjustRowNumbers=function(t,e,r){var i,o;if(this.detectionResultColumns[t-1]!=null){var u=r[e],c=this.detectionResultColumns[t-1].getCodewords(),f=c;this.detectionResultColumns[t+1]!=null&&(f=this.detectionResultColumns[t+1].getCodewords());var d=new Array(14);d[2]=c[e],d[3]=f[e],e>0&&(d[0]=r[e-1],d[4]=c[e-1],d[5]=f[e-1]),e>1&&(d[8]=r[e-2],d[10]=c[e-2],d[11]=f[e-2]),e<r.length-1&&(d[1]=r[e+1],d[6]=c[e+1],d[7]=f[e+1]),e<r.length-2&&(d[9]=r[e+2],d[12]=c[e+2],d[13]=f[e+2]);try{for(var g=TO(d),m=g.next();!m.done;m=g.next()){var _=m.value;if(n.adjustRowNumber(u,_))return}}catch(E){i={error:E}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}}},n.adjustRowNumber=function(t,e){return e==null?!1:e.hasValidRowNumber()&&e.getBucket()===t.getBucket()?(t.setRowNumber(e.getRowNumber()),!0):!1},n.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},n.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},n.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},n.prototype.setBoundingBox=function(t){this.boundingBox=t},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.setDetectionResultColumn=function(t,e){this.detectionResultColumns[t]=e},n.prototype.getDetectionResultColumn=function(t){return this.detectionResultColumns[t]},n.prototype.toString=function(){var t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var e=new Eg,r=0;r<t.getCodewords().length;r++){e.format("CW %3d:",r);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){e.format("    |   ");continue}var o=this.detectionResultColumns[i].getCodewords()[r];if(o==null){e.format("    |   ");continue}e.format(" %3d|%3d",o.getRowNumber(),o.getValue())}e.format("%n")}return e.toString()},n})(),CO=(function(){function n(t,e,r,i){this.rowNumber=n.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(e),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return n.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},n.prototype.isValidRowNumber=function(t){return t!==n.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3},n.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},n.prototype.getWidth=function(){return this.endX-this.startX},n.prototype.getStartX=function(){return this.startX},n.prototype.getEndX=function(){return this.endX},n.prototype.getBucket=function(){return this.bucket},n.prototype.getValue=function(){return this.value},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.setRowNumber=function(t){this.rowNumber=t},n.prototype.toString=function(){return this.rowNumber+"|"+this.value},n.BARCODE_ROW_UNKNOWN=-1,n})(),IO=(function(){function n(){}return n.initialize=function(){for(var t=0;t<$t.SYMBOL_TABLE.length;t++)for(var e=$t.SYMBOL_TABLE[t],r=e&1,i=0;i<$t.BARS_IN_MODULE;i++){for(var o=0;(e&1)===r;)o+=1,e>>=1;r=e&1,n.RATIOS_TABLE[t]||(n.RATIOS_TABLE[t]=new Array($t.BARS_IN_MODULE)),n.RATIOS_TABLE[t][$t.BARS_IN_MODULE-i-1]=Math.fround(o/$t.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},n.getDecodedValue=function(t){var e=n.getDecodedCodewordValue(n.sampleBitCounts(t));return e!==-1?e:n.getClosestDecodedValue(t)},n.sampleBitCounts=function(t){for(var e=ee.sum(t),r=new Int32Array($t.BARS_IN_MODULE),i=0,o=0,u=0;u<$t.MODULES_IN_CODEWORD;u++){var c=e/(2*$t.MODULES_IN_CODEWORD)+u*e/$t.MODULES_IN_CODEWORD;o+t[i]<=c&&(o+=t[i],i++),r[i]++}return r},n.getDecodedCodewordValue=function(t){var e=n.getBitValue(t);return $t.getCodeword(e)===-1?-1:e},n.getBitValue=function(t){for(var e=0,r=0;r<t.length;r++)for(var i=0;i<t[r];i++)e=e<<1|(r%2===0?1:0);return Math.trunc(e)},n.getClosestDecodedValue=function(t){var e=ee.sum(t),r=new Array($t.BARS_IN_MODULE);if(e>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(t[i]/e);var o=dp.MAX_VALUE,u=-1;this.bSymbolTableReady||n.initialize();for(var c=0;c<n.RATIOS_TABLE.length;c++){for(var f=0,d=n.RATIOS_TABLE[c],g=0;g<$t.BARS_IN_MODULE;g++){var m=Math.fround(d[g]-r[g]);if(f+=Math.fround(m*m),f>=o)break}f<o&&(o=f,u=$t.SYMBOL_TABLE[c])}return u},n.bSymbolTableReady=!1,n.RATIOS_TABLE=new Array($t.SYMBOL_TABLE.length).map(function(t){return new Array($t.BARS_IN_MODULE)}),n})(),bO=(function(){function n(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return n.prototype.getSegmentIndex=function(){return this.segmentIndex},n.prototype.setSegmentIndex=function(t){this.segmentIndex=t},n.prototype.getFileId=function(){return this.fileId},n.prototype.setFileId=function(t){this.fileId=t},n.prototype.getOptionalData=function(){return this.optionalData},n.prototype.setOptionalData=function(t){this.optionalData=t},n.prototype.isLastSegment=function(){return this.lastSegment},n.prototype.setLastSegment=function(t){this.lastSegment=t},n.prototype.getSegmentCount=function(){return this.segmentCount},n.prototype.setSegmentCount=function(t){this.segmentCount=t},n.prototype.getSender=function(){return this.sender||null},n.prototype.setSender=function(t){this.sender=t},n.prototype.getAddressee=function(){return this.addressee||null},n.prototype.setAddressee=function(t){this.addressee=t},n.prototype.getFileName=function(){return this.fileName},n.prototype.setFileName=function(t){this.fileName=t},n.prototype.getFileSize=function(){return this.fileSize},n.prototype.setFileSize=function(t){this.fileSize=t},n.prototype.getChecksum=function(){return this.checksum},n.prototype.setChecksum=function(t){this.checksum=t},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.setTimestamp=function(t){this.timestamp=t},n})(),W_=(function(){function n(){}return n.parseLong=function(t,e){return e===void 0&&(e=void 0),parseInt(t,e)},n})(),RO=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),OO=(function(n){RO(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.kind="NullPointerException",t})(tr),DO=(function(){function n(){}return n.prototype.writeBytes=function(t){this.writeBytesOffset(t,0,t.length)},n.prototype.writeBytesOffset=function(t,e,r){if(t==null)throw new OO;if(e<0||e>t.length||r<0||e+r>t.length||e+r<0)throw new gg;if(r===0)return;for(var i=0;i<r;i++)this.write(t[e+i])},n.prototype.flush=function(){},n.prototype.close=function(){},n})(),NO=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),MO=(function(n){NO(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t})(tr),PO=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),LO=(function(n){PO(t,n);function t(e){e===void 0&&(e=32);var r=n.call(this)||this;if(r.count=0,e<0)throw new Tt("Negative initial size: "+e);return r.buf=new Uint8Array(e),r}return t.prototype.ensureCapacity=function(e){e-this.buf.length>0&&this.grow(e)},t.prototype.grow=function(e){var r=this.buf.length,i=r<<1;if(i-e<0&&(i=e),i<0){if(e<0)throw new MO;i=Ut.MAX_VALUE}this.buf=an.copyOfUint8Array(this.buf,i)},t.prototype.write=function(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1},t.prototype.writeBytesOffset=function(e,r,i){if(r<0||r>e.length||i<0||r+i-e.length>0)throw new gg;this.ensureCapacity(this.count+i),Ee.arraycopy(e,r,this.buf,this.count,i),this.count+=i},t.prototype.writeTo=function(e){e.writeBytesOffset(this.buf,0,this.count)},t.prototype.reset=function(){this.count=0},t.prototype.toByteArray=function(){return an.copyOfUint8Array(this.buf,this.count)},t.prototype.size=function(){return this.count},t.prototype.toString=function(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()},t.prototype.toString_void=function(){return new String(this.buf).toString()},t.prototype.toString_string=function(e){return new String(this.buf).toString()},t.prototype.toString_number=function(e){return new String(this.buf).toString()},t.prototype.close=function(){},t})(DO),ye;(function(n){n[n.ALPHA=0]="ALPHA",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.PUNCT=3]="PUNCT",n[n.ALPHA_SHIFT=4]="ALPHA_SHIFT",n[n.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ye||(ye={}));function jx(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var eh;function Ua(n){if(typeof eh>"u"&&(eh=jx()),eh===null)throw new Error("BigInt is not supported!");return eh(n)}function BO(){var n=[];n[0]=Ua(1);var t=Ua(900);n[1]=t;for(var e=2;e<16;e++)n[e]=n[e-1]*t;return n}var VO=(function(){function n(){}return n.decode=function(t,e){var r=new kt(""),i=nn.ISO8859_1;r.enableDecoding(i);for(var o=1,u=t[o++],c=new bO;o<t[0];){switch(u){case n.TEXT_COMPACTION_MODE_LATCH:o=n.textCompaction(t,o,r);break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:o=n.byteCompaction(u,t,i,o,r);break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[o++]);break;case n.NUMERIC_COMPACTION_MODE_LATCH:o=n.numericCompaction(t,o,r);break;case n.ECI_CHARSET:nn.getCharacterSetECIByValue(t[o++]);break;case n.ECI_GENERAL_PURPOSE:o+=2;break;case n.ECI_USER_DEFINED:o++;break;case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=n.decodeMacroBlock(t,o,c);break;case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:throw new ft;default:o--,o=n.textCompaction(t,o,r);break}if(o<t.length)u=t[o++];else throw ft.getFormatInstance()}if(r.length()===0)throw ft.getFormatInstance();var f=new cd(null,r.toString(),null,e);return f.setOther(c),f},n.decodeMacroBlock=function(t,e,r){if(e+n.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw ft.getFormatInstance();for(var i=new Int32Array(n.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<n.NUMBER_OF_SEQUENCE_CODEWORDS;o++,e++)i[o]=t[e];r.setSegmentIndex(Ut.parseInt(n.decodeBase900toBase10(i,n.NUMBER_OF_SEQUENCE_CODEWORDS)));var u=new kt;e=n.textCompaction(t,e,u),r.setFileId(u.toString());var c=-1;for(t[e]===n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=e+1);e<t[0];)switch(t[e]){case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e++,t[e]){case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var f=new kt;e=n.textCompaction(t,e+1,f),r.setFileName(f.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var d=new kt;e=n.textCompaction(t,e+1,d),r.setSender(d.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var g=new kt;e=n.textCompaction(t,e+1,g),r.setAddressee(g.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var m=new kt;e=n.numericCompaction(t,e+1,m),r.setSegmentCount(Ut.parseInt(m.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var _=new kt;e=n.numericCompaction(t,e+1,_),r.setTimestamp(W_.parseLong(_.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var E=new kt;e=n.numericCompaction(t,e+1,E),r.setChecksum(Ut.parseInt(E.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var w=new kt;e=n.numericCompaction(t,e+1,w),r.setFileSize(W_.parseLong(w.toString()));break;default:throw ft.getFormatInstance()}break;case n.MACRO_PDF417_TERMINATOR:e++,r.setLastSegment(!0);break;default:throw ft.getFormatInstance()}if(c!==-1){var S=e-c;r.isLastSegment()&&S--,r.setOptionalData(an.copyOfRange(t,c,c+S))}return e},n.textCompaction=function(t,e,r){for(var i=new Int32Array((t[0]-e)*2),o=new Int32Array((t[0]-e)*2),u=0,c=!1;e<t[0]&&!c;){var f=t[e++];if(f<n.TEXT_COMPACTION_MODE_LATCH)i[u]=f/30,i[u+1]=f%30,u+=2;else switch(f){case n.TEXT_COMPACTION_MODE_LATCH:i[u++]=n.TEXT_COMPACTION_MODE_LATCH;break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:e--,c=!0;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[u]=n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,f=t[e++],o[u]=f,u++;break}}return n.decodeTextCompaction(i,o,u,r),e},n.decodeTextCompaction=function(t,e,r,i){for(var o=ye.ALPHA,u=ye.ALPHA,c=0;c<r;){var f=t[c],d="";switch(o){case ye.ALPHA:if(f<26)d=String.fromCharCode(65+f);else switch(f){case 26:d=" ";break;case n.LL:o=ye.LOWER;break;case n.ML:o=ye.MIXED;break;case n.PS:u=o,o=ye.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[c]);break;case n.TEXT_COMPACTION_MODE_LATCH:o=ye.ALPHA;break}break;case ye.LOWER:if(f<26)d=String.fromCharCode(97+f);else switch(f){case 26:d=" ";break;case n.AS:u=o,o=ye.ALPHA_SHIFT;break;case n.ML:o=ye.MIXED;break;case n.PS:u=o,o=ye.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[c]);break;case n.TEXT_COMPACTION_MODE_LATCH:o=ye.ALPHA;break}break;case ye.MIXED:if(f<n.PL)d=n.MIXED_CHARS[f];else switch(f){case n.PL:o=ye.PUNCT;break;case 26:d=" ";break;case n.LL:o=ye.LOWER;break;case n.AL:o=ye.ALPHA;break;case n.PS:u=o,o=ye.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[c]);break;case n.TEXT_COMPACTION_MODE_LATCH:o=ye.ALPHA;break}break;case ye.PUNCT:if(f<n.PAL)d=n.PUNCT_CHARS[f];else switch(f){case n.PAL:o=ye.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[c]);break;case n.TEXT_COMPACTION_MODE_LATCH:o=ye.ALPHA;break}break;case ye.ALPHA_SHIFT:if(o=u,f<26)d=String.fromCharCode(65+f);else switch(f){case 26:d=" ";break;case n.TEXT_COMPACTION_MODE_LATCH:o=ye.ALPHA;break}break;case ye.PUNCT_SHIFT:if(o=u,f<n.PAL)d=n.PUNCT_CHARS[f];else switch(f){case n.PAL:o=ye.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[c]);break;case n.TEXT_COMPACTION_MODE_LATCH:o=ye.ALPHA;break}break}d!==""&&i.append(d),c++}},n.byteCompaction=function(t,e,r,i,o){var u=new LO,c=0,f=0,d=!1;switch(t){case n.BYTE_COMPACTION_MODE_LATCH:for(var g=new Int32Array(6),m=e[i++];i<e[0]&&!d;)switch(g[c++]=m,f=900*f+m,m=e[i++],m){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,d=!0;break;default:if(c%5===0&&c>0){for(var _=0;_<6;++_)u.write(Number(Ua(f)>>Ua(8*(5-_))));f=0,c=0}break}i===e[0]&&m<n.TEXT_COMPACTION_MODE_LATCH&&(g[c++]=m);for(var E=0;E<c;E++)u.write(g[E]);break;case n.BYTE_COMPACTION_MODE_LATCH_6:for(;i<e[0]&&!d;){var w=e[i++];if(w<n.TEXT_COMPACTION_MODE_LATCH)c++,f=900*f+w;else switch(w){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,d=!0;break}if(c%5===0&&c>0){for(var _=0;_<6;++_)u.write(Number(Ua(f)>>Ua(8*(5-_))));f=0,c=0}}break}return o.append(br.decode(u.toByteArray(),r)),i},n.numericCompaction=function(t,e,r){for(var i=0,o=!1,u=new Int32Array(n.MAX_NUMERIC_CODEWORDS);e<t[0]&&!o;){var c=t[e++];if(e===t[0]&&(o=!0),c<n.TEXT_COMPACTION_MODE_LATCH)u[i]=c,i++;else switch(c){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:e--,o=!0;break}(i%n.MAX_NUMERIC_CODEWORDS===0||c===n.NUMERIC_COMPACTION_MODE_LATCH||o)&&i>0&&(r.append(n.decodeBase900toBase10(u,i)),i=0)}return e},n.decodeBase900toBase10=function(t,e){for(var r=Ua(0),i=0;i<e;i++)r+=n.EXP900[e-i-1]*Ua(t[i]);var o=r.toString();if(o.charAt(0)!=="1")throw new ft;return o.substring(1)},n.TEXT_COMPACTION_MODE_LATCH=900,n.BYTE_COMPACTION_MODE_LATCH=901,n.NUMERIC_COMPACTION_MODE_LATCH=902,n.BYTE_COMPACTION_MODE_LATCH_6=924,n.ECI_USER_DEFINED=925,n.ECI_GENERAL_PURPOSE=926,n.ECI_CHARSET=927,n.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,n.MACRO_PDF417_TERMINATOR=922,n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,n.MAX_NUMERIC_CODEWORDS=15,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,n.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,n.PL=25,n.LL=27,n.AS=27,n.ML=28,n.AL=28,n.PS=29,n.PAL=29,n.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,n.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",n.EXP900=jx()?BO():[],n.NUMBER_OF_SEQUENCE_CODEWORDS=2,n})(),Nl=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},kO=(function(){function n(){}return n.decode=function(t,e,r,i,o,u,c){for(var f=new _p(t,e,r,i,o),d=null,g=null,m,_=!0;;_=!1){if(e!=null&&(d=n.getRowIndicatorColumn(t,f,e,!0,u,c)),i!=null&&(g=n.getRowIndicatorColumn(t,f,i,!1,u,c)),m=n.merge(d,g),m==null)throw et.getNotFoundInstance();var E=m.getBoundingBox();if(_&&E!=null&&(E.getMinY()<f.getMinY()||E.getMaxY()>f.getMaxY()))f=E;else break}m.setBoundingBox(f);var w=m.getBarcodeColumnCount()+1;m.setDetectionResultColumn(0,d),m.setDetectionResultColumn(w,g);for(var S=d!=null,I=1;I<=w;I++){var N=S?I:w-I;if(m.getDetectionResultColumn(N)===void 0){var L=void 0;N===0||N===w?L=new K_(f,N===0):L=new Hx(f),m.setDetectionResultColumn(N,L);for(var V=-1,j=V,Q=f.getMinY();Q<=f.getMaxY();Q++){if(V=n.getStartColumn(m,N,Q,S),V<0||V>f.getMaxX()){if(j===-1)continue;V=j}var Z=n.detectCodeword(t,f.getMinX(),f.getMaxX(),S,V,Q,u,c);Z!=null&&(L.setCodeword(Q,Z),j=V,u=Math.min(u,Z.getWidth()),c=Math.max(c,Z.getWidth()))}}}return n.createDecoderResult(m)},n.merge=function(t,e){if(t==null&&e==null)return null;var r=n.getBarcodeMetadata(t,e);if(r==null)return null;var i=_p.merge(n.adjustBoundingBox(t),n.adjustBoundingBox(e));return new SO(r,i)},n.adjustBoundingBox=function(t){var e,r;if(t==null)return null;var i=t.getRowHeights();if(i==null)return null;var o=n.getMax(i),u=0;try{for(var c=Nl(i),f=c.next();!f.done;f=c.next()){var d=f.value;if(u+=o-d,d>0)break}}catch(E){e={error:E}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}for(var g=t.getCodewords(),m=0;u>0&&g[m]==null;m++)u--;for(var _=0,m=i.length-1;m>=0&&(_+=o-i[m],!(i[m]>0));m--);for(var m=g.length-1;_>0&&g[m]==null;m--)_--;return t.getBoundingBox().addMissingRows(u,_,t.isLeft())},n.getMax=function(t){var e,r,i=-1;try{for(var o=Nl(t),u=o.next();!u.done;u=o.next()){var c=u.value;i=Math.max(i,c)}}catch(f){e={error:f}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return i},n.getBarcodeMetadata=function(t,e){var r;if(t==null||(r=t.getBarcodeMetadata())==null)return e==null?null:e.getBarcodeMetadata();var i;return e==null||(i=e.getBarcodeMetadata())==null?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r},n.getRowIndicatorColumn=function(t,e,r,i,o,u){for(var c=new K_(e,i),f=0;f<2;f++)for(var d=f===0?1:-1,g=Math.trunc(Math.trunc(r.getX())),m=Math.trunc(Math.trunc(r.getY()));m<=e.getMaxY()&&m>=e.getMinY();m+=d){var _=n.detectCodeword(t,0,t.getWidth(),i,g,m,o,u);_!=null&&(c.setCodeword(m,_),i?g=_.getStartX():g=_.getEndX())}return c},n.adjustCodewordCount=function(t,e){var r=e[0][1],i=r.getValue(),o=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-n.getNumberOfECCodeWords(t.getBarcodeECLevel());if(i.length===0){if(o<1||o>$t.MAX_CODEWORDS_IN_BARCODE)throw et.getNotFoundInstance();r.setValue(o)}else i[0]!==o&&r.setValue(o)},n.createDecoderResult=function(t){var e=n.createBarcodeMatrix(t);n.adjustCodewordCount(t,e);for(var r=new Array,i=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),o=[],u=new Array,c=0;c<t.getBarcodeRowCount();c++)for(var f=0;f<t.getBarcodeColumnCount();f++){var d=e[c][f+1].getValue(),g=c*t.getBarcodeColumnCount()+f;d.length===0?r.push(g):d.length===1?i[g]=d[0]:(u.push(g),o.push(d))}for(var m=new Array(o.length),_=0;_<m.length;_++)m[_]=o[_];return n.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),i,$t.toIntArray(r),$t.toIntArray(u),m)},n.createDecoderResultFromAmbiguousValues=function(t,e,r,i,o){for(var u=new Int32Array(i.length),c=100;c-- >0;){for(var f=0;f<u.length;f++)e[i[f]]=o[f][u[f]];try{return n.decodeCodewords(e,t,r)}catch(g){var d=g instanceof gn;if(!d)throw g}if(u.length===0)throw gn.getChecksumInstance();for(var f=0;f<u.length;f++)if(u[f]<o[f].length-1){u[f]++;break}else if(u[f]=0,f===u.length-1)throw gn.getChecksumInstance()}throw gn.getChecksumInstance()},n.createBarcodeMatrix=function(t){for(var e,r,i,o,u=Array.from({length:t.getBarcodeRowCount()},function(){return new Array(t.getBarcodeColumnCount()+2)}),c=0;c<u.length;c++)for(var f=0;f<u[c].length;f++)u[c][f]=new Hl;var d=0;try{for(var g=Nl(t.getDetectionResultColumns()),m=g.next();!m.done;m=g.next()){var _=m.value;if(_!=null)try{for(var E=(i=void 0,Nl(_.getCodewords())),w=E.next();!w.done;w=E.next()){var S=w.value;if(S!=null){var I=S.getRowNumber();if(I>=0){if(I>=u.length)continue;u[I][d].setValue(S.getValue())}}}}catch(N){i={error:N}}finally{try{w&&!w.done&&(o=E.return)&&o.call(E)}finally{if(i)throw i.error}}d++}}catch(N){e={error:N}}finally{try{m&&!m.done&&(r=g.return)&&r.call(g)}finally{if(e)throw e.error}}return u},n.isValidBarcodeColumn=function(t,e){return e>=0&&e<=t.getBarcodeColumnCount()+1},n.getStartColumn=function(t,e,r,i){var o,u,c=i?1:-1,f=null;if(n.isValidBarcodeColumn(t,e-c)&&(f=t.getDetectionResultColumn(e-c).getCodeword(r)),f!=null)return i?f.getEndX():f.getStartX();if(f=t.getDetectionResultColumn(e).getCodewordNearby(r),f!=null)return i?f.getStartX():f.getEndX();if(n.isValidBarcodeColumn(t,e-c)&&(f=t.getDetectionResultColumn(e-c).getCodewordNearby(r)),f!=null)return i?f.getEndX():f.getStartX();for(var d=0;n.isValidBarcodeColumn(t,e-c);){e-=c;try{for(var g=(o=void 0,Nl(t.getDetectionResultColumn(e).getCodewords())),m=g.next();!m.done;m=g.next()){var _=m.value;if(_!=null)return(i?_.getEndX():_.getStartX())+c*d*(_.getEndX()-_.getStartX())}}catch(E){o={error:E}}finally{try{m&&!m.done&&(u=g.return)&&u.call(g)}finally{if(o)throw o.error}}d++}return i?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()},n.detectCodeword=function(t,e,r,i,o,u,c,f){o=n.adjustCodewordStartColumn(t,e,r,i,o,u);var d=n.getModuleBitCount(t,e,r,i,o,u);if(d==null)return null;var g,m=ee.sum(d);if(i)g=o+m;else{for(var _=0;_<d.length/2;_++){var E=d[_];d[_]=d[d.length-1-_],d[d.length-1-_]=E}g=o,o=g-m}if(!n.checkCodewordSkew(m,c,f))return null;var w=IO.getDecodedValue(d),S=$t.getCodeword(w);return S===-1?null:new CO(o,g,n.getCodewordBucketNumber(w),S)},n.getModuleBitCount=function(t,e,r,i,o,u){for(var c=o,f=new Int32Array(8),d=0,g=i?1:-1,m=i;(i?c<r:c>=e)&&d<f.length;)t.get(c,u)===m?(f[d]++,c+=g):(d++,m=!m);return d===f.length||c===(i?r:e)&&d===f.length-1?f:null},n.getNumberOfECCodeWords=function(t){return 2<<t},n.adjustCodewordStartColumn=function(t,e,r,i,o,u){for(var c=o,f=i?-1:1,d=0;d<2;d++){for(;(i?c>=e:c<r)&&i===t.get(c,u);){if(Math.abs(o-c)>n.CODEWORD_SKEW_SIZE)return o;c+=f}f=-f,i=!i}return c},n.checkCodewordSkew=function(t,e,r){return e-n.CODEWORD_SKEW_SIZE<=t&&t<=r+n.CODEWORD_SKEW_SIZE},n.decodeCodewords=function(t,e,r){if(t.length===0)throw ft.getFormatInstance();var i=1<<e+1,o=n.correctErrors(t,r,i);n.verifyCodewordCount(t,i);var u=VO.decode(t,""+e);return u.setErrorsCorrected(o),u.setErasures(r.length),u},n.correctErrors=function(t,e,r){if(e!=null&&e.length>r/2+n.MAX_ERRORS||r<0||r>n.MAX_EC_CODEWORDS)throw gn.getChecksumInstance();return n.errorCorrection.decode(t,r,e)},n.verifyCodewordCount=function(t,e){if(t.length<4)throw ft.getFormatInstance();var r=t[0];if(r>t.length)throw ft.getFormatInstance();if(r===0)if(e<t.length)t[0]=t.length-e;else throw ft.getFormatInstance()},n.getBitCountForCodeword=function(t){for(var e=new Int32Array(8),r=0,i=e.length-1;!((t&1)!==r&&(r=t&1,i--,i<0));)e[i]++,t>>=1;return e},n.getCodewordBucketNumber=function(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)},n.getCodewordBucketNumber_number=function(t){return n.getCodewordBucketNumber(n.getBitCountForCodeword(t))},n.getCodewordBucketNumber_Int32Array=function(t){return(t[0]-t[2]+t[4]-t[6]+9)%9},n.toString=function(t){for(var e=new Eg,r=0;r<t.length;r++){e.format("Row %2d: ",r);for(var i=0;i<t[r].length;i++){var o=t[r][i];o.getValue().length===0?e.format("        ",null):e.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}e.format("%n")}return e.toString()},n.CODEWORD_SKEW_SIZE=2,n.MAX_ERRORS=3,n.MAX_EC_CODEWORDS=512,n.errorCorrection=new yO,n})(),UO=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ep=(function(){function n(){}return n.prototype.decode=function(t,e){e===void 0&&(e=null);var r=n.decode(t,e,!1);if(r==null||r.length===0||r[0]==null)throw et.getNotFoundInstance();return r[0]},n.prototype.decodeMultiple=function(t,e){e===void 0&&(e=null);try{return n.decode(t,e,!0)}catch(r){throw r instanceof ft||r instanceof gn?et.getNotFoundInstance():r}},n.decode=function(t,e,r){var i,o,u=new Array,c=hO.detectMultiple(t,e,r);try{for(var f=UO(c.getPoints()),d=f.next();!d.done;d=f.next()){var g=d.value,m=kO.decode(c.getBits(),g[4],g[5],g[6],g[7],n.getMinCodewordWidth(g),n.getMaxCodewordWidth(g)),_=new Bn(m.getText(),m.getRawBytes(),void 0,g,xt.PDF_417);_.putMetadata(In.ERROR_CORRECTION_LEVEL,m.getECLevel());var E=m.getOther();E!=null&&_.putMetadata(In.PDF417_EXTRA_METADATA,E),u.push(_)}}catch(w){i={error:w}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}return u.map(function(w){return w})},n.getMaxWidth=function(t,e){return t==null||e==null?0:Math.trunc(Math.abs(t.getX()-e.getX()))},n.getMinWidth=function(t,e){return t==null||e==null?Ut.MAX_VALUE:Math.trunc(Math.abs(t.getX()-e.getX()))},n.getMaxCodewordWidth=function(t){return Math.floor(Math.max(Math.max(n.getMaxWidth(t[0],t[4]),n.getMaxWidth(t[6],t[2])*$t.MODULES_IN_CODEWORD/$t.MODULES_IN_STOP_PATTERN),Math.max(n.getMaxWidth(t[1],t[5]),n.getMaxWidth(t[7],t[3])*$t.MODULES_IN_CODEWORD/$t.MODULES_IN_STOP_PATTERN)))},n.getMinCodewordWidth=function(t){return Math.floor(Math.min(Math.min(n.getMinWidth(t[0],t[4]),n.getMinWidth(t[6],t[2])*$t.MODULES_IN_CODEWORD/$t.MODULES_IN_STOP_PATTERN),Math.min(n.getMinWidth(t[1],t[5]),n.getMinWidth(t[7],t[3])*$t.MODULES_IN_CODEWORD/$t.MODULES_IN_STOP_PATTERN)))},n.prototype.reset=function(){},n})(),FO=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Q_=(function(n){FO(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.kind="ReaderException",t})(tr),Z_=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},zO=(function(){function n(){}return n.prototype.decode=function(t,e){return this.setHints(e),this.decodeInternal(t)},n.prototype.decodeWithState=function(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)},n.prototype.setHints=function(t){this.hints=t;var e=t!=null&&t.get(Ie.TRY_HARDER)!==void 0,r=t==null?null:t.get(Ie.POSSIBLE_FORMATS),i=new Array;if(r!=null){var o=r.some(function(u){return u===xt.UPC_A||u===xt.UPC_E||u===xt.EAN_13||u===xt.EAN_8||u===xt.CODABAR||u===xt.CODE_39||u===xt.CODE_93||u===xt.CODE_128||u===xt.ITF||u===xt.RSS_14||u===xt.RSS_EXPANDED});o&&!e&&i.push(new zl(t)),r.includes(xt.QR_CODE)&&i.push(new yp),r.includes(xt.DATA_MATRIX)&&i.push(new mp),r.includes(xt.AZTEC)&&i.push(new gp),r.includes(xt.PDF_417)&&i.push(new Ep),o&&e&&i.push(new zl(t))}i.length===0&&(e||i.push(new zl(t)),i.push(new yp),i.push(new mp),i.push(new gp),i.push(new Ep),e&&i.push(new zl(t))),this.readers=i},n.prototype.reset=function(){var t,e;if(this.readers!==null)try{for(var r=Z_(this.readers),i=r.next();!i.done;i=r.next()){var o=i.value;o.reset()}}catch(u){t={error:u}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},n.prototype.decodeInternal=function(t){var e,r;if(this.readers===null)throw new Q_("No readers where selected, nothing can be read.");try{for(var i=Z_(this.readers),o=i.next();!o.done;o=i.next()){var u=o.value;try{return u.decode(t,this.hints)}catch(c){if(c instanceof Q_)continue}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}throw new et("No MultiFormat Readers were able to detect the code.")},n})(),HO=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),jO=(function(n){HO(t,n);function t(e,r){e===void 0&&(e=null),r===void 0&&(r=500);var i=this,o=new zO;return o.setHints(e),i=n.call(this,o,r)||this,i}return t.prototype.decodeBitmap=function(e){return this.reader.decodeWithState(e)},t})(Tu),GO=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})();(function(n){GO(t,n);function t(e){return e===void 0&&(e=500),n.call(this,new Ep,e)||this}return t})(Tu);var qO=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})();(function(n){qO(t,n);function t(e){return e===void 0&&(e=500),n.call(this,new yp,e)||this}return t})(Tu);var Ap;(function(n){n[n.ERROR_CORRECTION=0]="ERROR_CORRECTION",n[n.CHARACTER_SET=1]="CHARACTER_SET",n[n.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",n[n.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",n[n.MIN_SIZE=4]="MIN_SIZE",n[n.MAX_SIZE=5]="MAX_SIZE",n[n.MARGIN=6]="MARGIN",n[n.PDF417_COMPACT=7]="PDF417_COMPACT",n[n.PDF417_COMPACTION=8]="PDF417_COMPACTION",n[n.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",n[n.AZTEC_LAYERS=10]="AZTEC_LAYERS",n[n.QR_VERSION=11]="QR_VERSION",n[n.GS1_FORMAT=12]="GS1_FORMAT",n[n.FORCE_C40=13]="FORCE_C40"})(Ap||(Ap={}));const nh=Ap;var Gx=(function(){function n(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new Qa(t,Int32Array.from([1])))}return n.prototype.buildGenerator=function(t){var e=this.cachedGenerators;if(t>=e.length)for(var r=e[e.length-1],i=this.field,o=e.length;o<=t;o++){var u=r.multiply(new Qa(i,Int32Array.from([1,i.exp(o-1+i.getGeneratorBase())])));e.push(u),r=u}return e[t]},n.prototype.encode=function(t,e){if(e===0)throw new Tt("No error correction bytes");var r=t.length-e;if(r<=0)throw new Tt("No data bytes provided");var i=this.buildGenerator(e),o=new Int32Array(r);Ee.arraycopy(t,0,o,0,r);var u=new Qa(this.field,o);u=u.multiplyByMonomial(e,1);for(var c=u.divide(i)[1],f=c.getCoefficients(),d=e-f.length,g=0;g<d;g++)t[r+g]=0;Ee.arraycopy(f,0,t,r+d,f.length)},n})(),jl=(function(){function n(){}return n.applyMaskPenaltyRule1=function(t){return n.applyMaskPenaltyRule1Internal(t,!0)+n.applyMaskPenaltyRule1Internal(t,!1)},n.applyMaskPenaltyRule2=function(t){for(var e=0,r=t.getArray(),i=t.getWidth(),o=t.getHeight(),u=0;u<o-1;u++)for(var c=r[u],f=0;f<i-1;f++){var d=c[f];d===c[f+1]&&d===r[u+1][f]&&d===r[u+1][f+1]&&e++}return n.N2*e},n.applyMaskPenaltyRule3=function(t){for(var e=0,r=t.getArray(),i=t.getWidth(),o=t.getHeight(),u=0;u<o;u++)for(var c=0;c<i;c++){var f=r[u];c+6<i&&f[c]===1&&f[c+1]===0&&f[c+2]===1&&f[c+3]===1&&f[c+4]===1&&f[c+5]===0&&f[c+6]===1&&(n.isWhiteHorizontal(f,c-4,c)||n.isWhiteHorizontal(f,c+7,c+11))&&e++,u+6<o&&r[u][c]===1&&r[u+1][c]===0&&r[u+2][c]===1&&r[u+3][c]===1&&r[u+4][c]===1&&r[u+5][c]===0&&r[u+6][c]===1&&(n.isWhiteVertical(r,c,u-4,u)||n.isWhiteVertical(r,c,u+7,u+11))&&e++}return e*n.N3},n.isWhiteHorizontal=function(t,e,r){e=Math.max(e,0),r=Math.min(r,t.length);for(var i=e;i<r;i++)if(t[i]===1)return!1;return!0},n.isWhiteVertical=function(t,e,r,i){r=Math.max(r,0),i=Math.min(i,t.length);for(var o=r;o<i;o++)if(t[o][e]===1)return!1;return!0},n.applyMaskPenaltyRule4=function(t){for(var e=0,r=t.getArray(),i=t.getWidth(),o=t.getHeight(),u=0;u<o;u++)for(var c=r[u],f=0;f<i;f++)c[f]===1&&e++;var d=t.getHeight()*t.getWidth(),g=Math.floor(Math.abs(e*2-d)*10/d);return g*n.N4},n.getDataMaskBit=function(t,e,r){var i,o;switch(t){case 0:i=r+e&1;break;case 1:i=r&1;break;case 2:i=e%3;break;case 3:i=(r+e)%3;break;case 4:i=Math.floor(r/2)+Math.floor(e/3)&1;break;case 5:o=r*e,i=(o&1)+o%3;break;case 6:o=r*e,i=(o&1)+o%3&1;break;case 7:o=r*e,i=o%3+(r+e&1)&1;break;default:throw new Tt("Invalid mask pattern: "+t)}return i===0},n.applyMaskPenaltyRule1Internal=function(t,e){for(var r=0,i=e?t.getHeight():t.getWidth(),o=e?t.getWidth():t.getHeight(),u=t.getArray(),c=0;c<i;c++){for(var f=0,d=-1,g=0;g<o;g++){var m=e?u[c][g]:u[g][c];m===d?f++:(f>=5&&(r+=n.N1+(f-5)),f=1,d=m)}f>=5&&(r+=n.N1+(f-5))}return r},n.N1=3,n.N2=3,n.N3=40,n.N4=10,n})(),XO=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},YO=(function(){function n(t,e){this.width=t,this.height=e;for(var r=new Array(e),i=0;i!==e;i++)r[i]=new Uint8Array(t);this.bytes=r}return n.prototype.getHeight=function(){return this.height},n.prototype.getWidth=function(){return this.width},n.prototype.get=function(t,e){return this.bytes[e][t]},n.prototype.getArray=function(){return this.bytes},n.prototype.setNumber=function(t,e,r){this.bytes[e][t]=r},n.prototype.setBoolean=function(t,e,r){this.bytes[e][t]=r?1:0},n.prototype.clear=function(t){var e,r;try{for(var i=XO(this.bytes),o=i.next();!o.done;o=i.next()){var u=o.value;an.fill(u,t)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}},n.prototype.equals=function(t){if(!(t instanceof n))return!1;var e=t;if(this.width!==e.width||this.height!==e.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var o=this.bytes[r],u=e.bytes[r],c=0,f=this.width;c<f;++c)if(o[c]!==u[c])return!1;return!0},n.prototype.toString=function(){for(var t=new kt,e=0,r=this.height;e<r;++e){for(var i=this.bytes[e],o=0,u=this.width;o<u;++o)switch(i[o]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()},n})(),xp=(function(){function n(){this.maskPattern=-1}return n.prototype.getMode=function(){return this.mode},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getVersion=function(){return this.version},n.prototype.getMaskPattern=function(){return this.maskPattern},n.prototype.getMatrix=function(){return this.matrix},n.prototype.toString=function(){var t=new kt;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()},n.prototype.setMode=function(t){this.mode=t},n.prototype.setECLevel=function(t){this.ecLevel=t},n.prototype.setVersion=function(t){this.version=t},n.prototype.setMaskPattern=function(t){this.maskPattern=t},n.prototype.setMatrix=function(t){this.matrix=t},n.isValidMaskPattern=function(t){return t>=0&&t<n.NUM_MASK_PATTERNS},n.NUM_MASK_PATTERNS=8,n})(),KO=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),we=(function(n){KO(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.kind="WriterException",t})(tr),$_=(function(){function n(){}return n.clearMatrix=function(t){t.clear(255)},n.buildMatrix=function(t,e,r,i,o){n.clearMatrix(o),n.embedBasicPatterns(r,o),n.embedTypeInfo(e,i,o),n.maybeEmbedVersionInfo(r,o),n.embedDataBits(t,i,o)},n.embedBasicPatterns=function(t,e){n.embedPositionDetectionPatternsAndSeparators(e),n.embedDarkDotAtLeftBottomCorner(e),n.maybeEmbedPositionAdjustmentPatterns(t,e),n.embedTimingPatterns(e)},n.embedTypeInfo=function(t,e,r){var i=new vn;n.makeTypeInfoBits(t,e,i);for(var o=0,u=i.getSize();o<u;++o){var c=i.get(i.getSize()-1-o),f=n.TYPE_INFO_COORDINATES[o],d=f[0],g=f[1];if(r.setBoolean(d,g,c),o<8){var m=r.getWidth()-o-1,_=8;r.setBoolean(m,_,c)}else{var m=8,_=r.getHeight()-7+(o-8);r.setBoolean(m,_,c)}}},n.maybeEmbedVersionInfo=function(t,e){if(!(t.getVersionNumber()<7)){var r=new vn;n.makeVersionInfoBits(t,r);for(var i=17,o=0;o<6;++o)for(var u=0;u<3;++u){var c=r.get(i);i--,e.setBoolean(o,e.getHeight()-11+u,c),e.setBoolean(e.getHeight()-11+u,o,c)}}},n.embedDataBits=function(t,e,r){for(var i=0,o=-1,u=r.getWidth()-1,c=r.getHeight()-1;u>0;){for(u===6&&(u-=1);c>=0&&c<r.getHeight();){for(var f=0;f<2;++f){var d=u-f;if(n.isEmpty(r.get(d,c))){var g=void 0;i<t.getSize()?(g=t.get(i),++i):g=!1,e!==255&&jl.getDataMaskBit(e,d,c)&&(g=!g),r.setBoolean(d,c,g)}}c+=o}o=-o,c+=o,u-=2}if(i!==t.getSize())throw new we("Not all bits consumed: "+i+"/"+t.getSize())},n.findMSBSet=function(t){return 32-Ut.numberOfLeadingZeros(t)},n.calculateBCHCode=function(t,e){if(e===0)throw new Tt("0 polynomial");var r=n.findMSBSet(e);for(t<<=r-1;n.findMSBSet(t)>=r;)t^=e<<n.findMSBSet(t)-r;return t},n.makeTypeInfoBits=function(t,e,r){if(!xp.isValidMaskPattern(e))throw new we("Invalid mask pattern");var i=t.getBits()<<3|e;r.appendBits(i,5);var o=n.calculateBCHCode(i,n.TYPE_INFO_POLY);r.appendBits(o,10);var u=new vn;if(u.appendBits(n.TYPE_INFO_MASK_PATTERN,15),r.xor(u),r.getSize()!==15)throw new we("should not happen but we got: "+r.getSize())},n.makeVersionInfoBits=function(t,e){e.appendBits(t.getVersionNumber(),6);var r=n.calculateBCHCode(t.getVersionNumber(),n.VERSION_INFO_POLY);if(e.appendBits(r,12),e.getSize()!==18)throw new we("should not happen but we got: "+e.getSize())},n.isEmpty=function(t){return t===255},n.embedTimingPatterns=function(t){for(var e=8;e<t.getWidth()-8;++e){var r=(e+1)%2;n.isEmpty(t.get(e,6))&&t.setNumber(e,6,r),n.isEmpty(t.get(6,e))&&t.setNumber(6,e,r)}},n.embedDarkDotAtLeftBottomCorner=function(t){if(t.get(8,t.getHeight()-8)===0)throw new we;t.setNumber(8,t.getHeight()-8,1)},n.embedHorizontalSeparationPattern=function(t,e,r){for(var i=0;i<8;++i){if(!n.isEmpty(r.get(t+i,e)))throw new we;r.setNumber(t+i,e,0)}},n.embedVerticalSeparationPattern=function(t,e,r){for(var i=0;i<7;++i){if(!n.isEmpty(r.get(t,e+i)))throw new we;r.setNumber(t,e+i,0)}},n.embedPositionAdjustmentPattern=function(t,e,r){for(var i=0;i<5;++i)for(var o=n.POSITION_ADJUSTMENT_PATTERN[i],u=0;u<5;++u)r.setNumber(t+u,e+i,o[u])},n.embedPositionDetectionPattern=function(t,e,r){for(var i=0;i<7;++i)for(var o=n.POSITION_DETECTION_PATTERN[i],u=0;u<7;++u)r.setNumber(t+u,e+i,o[u])},n.embedPositionDetectionPatternsAndSeparators=function(t){var e=n.POSITION_DETECTION_PATTERN[0].length;n.embedPositionDetectionPattern(0,0,t),n.embedPositionDetectionPattern(t.getWidth()-e,0,t),n.embedPositionDetectionPattern(0,t.getWidth()-e,t);var r=8;n.embedHorizontalSeparationPattern(0,r-1,t),n.embedHorizontalSeparationPattern(t.getWidth()-r,r-1,t),n.embedHorizontalSeparationPattern(0,t.getWidth()-r,t);var i=7;n.embedVerticalSeparationPattern(i,0,t),n.embedVerticalSeparationPattern(t.getHeight()-i-1,0,t),n.embedVerticalSeparationPattern(i,t.getHeight()-i,t)},n.maybeEmbedPositionAdjustmentPatterns=function(t,e){if(!(t.getVersionNumber()<2))for(var r=t.getVersionNumber()-1,i=n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],o=0,u=i.length;o!==u;o++){var c=i[o];if(c>=0)for(var f=0;f!==u;f++){var d=i[f];d>=0&&n.isEmpty(e.get(d,c))&&n.embedPositionAdjustmentPattern(d-2,c-2,e)}}},n.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),n.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),n.VERSION_INFO_POLY=7973,n.TYPE_INFO_POLY=1335,n.TYPE_INFO_MASK_PATTERN=21522,n})(),WO=(function(){function n(t,e){this.dataBytes=t,this.errorCorrectionBytes=e}return n.prototype.getDataBytes=function(){return this.dataBytes},n.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},n})(),J_=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.calculateMaskPenalty=function(t){return jl.applyMaskPenaltyRule1(t)+jl.applyMaskPenaltyRule2(t)+jl.applyMaskPenaltyRule3(t)+jl.applyMaskPenaltyRule4(t)},n.encode=function(t,e,r){r===void 0&&(r=null);var i=n.DEFAULT_BYTE_MODE_ENCODING,o=r!==null&&r.get(nh.CHARACTER_SET)!==void 0;o&&(i=r.get(nh.CHARACTER_SET).toString());var u=this.chooseMode(t,i),c=new vn;if(u===Te.BYTE&&(o||n.DEFAULT_BYTE_MODE_ENCODING!==i)){var f=nn.getCharacterSetECIByName(i);f!==void 0&&this.appendECI(f,c)}this.appendModeInfo(u,c);var d=new vn;this.appendBytes(t,u,d,i);var g;if(r!==null&&r.get(nh.QR_VERSION)!==void 0){var m=Number.parseInt(r.get(nh.QR_VERSION).toString(),10);g=Wo.getVersionForNumber(m);var _=this.calculateBitsNeeded(u,c,d,g);if(!this.willFit(_,g,e))throw new we("Data too big for requested version")}else g=this.recommendVersion(e,u,c,d);var E=new vn;E.appendBitArray(c);var w=u===Te.BYTE?d.getSizeInBytes():t.length;this.appendLengthInfo(w,g,u,E),E.appendBitArray(d);var S=g.getECBlocksForLevel(e),I=g.getTotalCodewords()-S.getTotalECCodewords();this.terminateBits(I,E);var N=this.interleaveWithECBytes(E,g.getTotalCodewords(),I,S.getNumBlocks()),L=new xp;L.setECLevel(e),L.setMode(u),L.setVersion(g);var V=g.getDimensionForVersion(),j=new YO(V,V),Q=this.chooseMaskPattern(N,e,g,j);return L.setMaskPattern(Q),$_.buildMatrix(N,e,g,Q,j),L.setMatrix(j),L},n.recommendVersion=function(t,e,r,i){var o=this.calculateBitsNeeded(e,r,i,Wo.getVersionForNumber(1)),u=this.chooseVersion(o,t),c=this.calculateBitsNeeded(e,r,i,u);return this.chooseVersion(c,t)},n.calculateBitsNeeded=function(t,e,r,i){return e.getSize()+t.getCharacterCountBits(i)+r.getSize()},n.getAlphanumericCode=function(t){return t<n.ALPHANUMERIC_TABLE.length?n.ALPHANUMERIC_TABLE[t]:-1},n.chooseMode=function(t,e){if(e===void 0&&(e=null),nn.SJIS.getName()===e&&this.isOnlyDoubleByteKanji(t))return Te.KANJI;for(var r=!1,i=!1,o=0,u=t.length;o<u;++o){var c=t.charAt(o);if(n.isDigit(c))r=!0;else if(this.getAlphanumericCode(c.charCodeAt(0))!==-1)i=!0;else return Te.BYTE}return i?Te.ALPHANUMERIC:r?Te.NUMERIC:Te.BYTE},n.isOnlyDoubleByteKanji=function(t){var e;try{e=br.encode(t,nn.SJIS)}catch{return!1}var r=e.length;if(r%2!==0)return!1;for(var i=0;i<r;i+=2){var o=e[i]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0},n.chooseMaskPattern=function(t,e,r,i){for(var o=Number.MAX_SAFE_INTEGER,u=-1,c=0;c<xp.NUM_MASK_PATTERNS;c++){$_.buildMatrix(t,e,r,c,i);var f=this.calculateMaskPenalty(i);f<o&&(o=f,u=c)}return u},n.chooseVersion=function(t,e){for(var r=1;r<=40;r++){var i=Wo.getVersionForNumber(r);if(n.willFit(t,i,e))return i}throw new we("Data too big")},n.willFit=function(t,e,r){var i=e.getTotalCodewords(),o=e.getECBlocksForLevel(r),u=o.getTotalECCodewords(),c=i-u,f=(t+7)/8;return c>=f},n.terminateBits=function(t,e){var r=t*8;if(e.getSize()>r)throw new we("data bits cannot fit in the QR Code"+e.getSize()+" > "+r);for(var i=0;i<4&&e.getSize()<r;++i)e.appendBit(!1);var o=e.getSize()&7;if(o>0)for(var i=o;i<8;i++)e.appendBit(!1);for(var u=t-e.getSizeInBytes(),i=0;i<u;++i)e.appendBits((i&1)===0?236:17,8);if(e.getSize()!==r)throw new we("Bits size does not equal capacity")},n.getNumDataBytesAndNumECBytesForBlockID=function(t,e,r,i,o,u){if(i>=r)throw new we("Block ID too large");var c=t%r,f=r-c,d=Math.floor(t/r),g=d+1,m=Math.floor(e/r),_=m+1,E=d-m,w=g-_;if(E!==w)throw new we("EC bytes mismatch");if(r!==f+c)throw new we("RS blocks mismatch");if(t!==(m+E)*f+(_+w)*c)throw new we("Total bytes mismatch");i<f?(o[0]=m,u[0]=E):(o[0]=_,u[0]=w)},n.interleaveWithECBytes=function(t,e,r,i){var o,u,c,f;if(t.getSizeInBytes()!==r)throw new we("Number of bits and data bytes does not match");for(var d=0,g=0,m=0,_=new Array,E=0;E<i;++E){var w=new Int32Array(1),S=new Int32Array(1);n.getNumDataBytesAndNumECBytesForBlockID(e,r,i,E,w,S);var I=w[0],N=new Uint8Array(I);t.toBytes(8*d,N,0,I);var L=n.generateECBytes(N,S[0]);_.push(new WO(N,L)),g=Math.max(g,I),m=Math.max(m,L.length),d+=w[0]}if(r!==d)throw new we("Data bytes does not match offset");for(var V=new vn,E=0;E<g;++E)try{for(var j=(o=void 0,J_(_)),Q=j.next();!Q.done;Q=j.next()){var Z=Q.value,N=Z.getDataBytes();E<N.length&&V.appendBits(N[E],8)}}catch(B){o={error:B}}finally{try{Q&&!Q.done&&(u=j.return)&&u.call(j)}finally{if(o)throw o.error}}for(var E=0;E<m;++E)try{for(var b=(c=void 0,J_(_)),R=b.next();!R.done;R=b.next()){var Z=R.value,L=Z.getErrorCorrectionBytes();E<L.length&&V.appendBits(L[E],8)}}catch(B){c={error:B}}finally{try{R&&!R.done&&(f=b.return)&&f.call(b)}finally{if(c)throw c.error}}if(e!==V.getSizeInBytes())throw new we("Interleaving error: "+e+" and "+V.getSizeInBytes()+" differ.");return V},n.generateECBytes=function(t,e){for(var r=t.length,i=new Int32Array(r+e),o=0;o<r;o++)i[o]=t[o]&255;new Gx(Jn.QR_CODE_FIELD_256).encode(i,e);for(var u=new Uint8Array(e),o=0;o<e;o++)u[o]=i[r+o];return u},n.appendModeInfo=function(t,e){e.appendBits(t.getBits(),4)},n.appendLengthInfo=function(t,e,r,i){var o=r.getCharacterCountBits(e);if(t>=1<<o)throw new we(t+" is bigger than "+((1<<o)-1));i.appendBits(t,o)},n.appendBytes=function(t,e,r,i){switch(e){case Te.NUMERIC:n.appendNumericBytes(t,r);break;case Te.ALPHANUMERIC:n.appendAlphanumericBytes(t,r);break;case Te.BYTE:n.append8BitBytes(t,r,i);break;case Te.KANJI:n.appendKanjiBytes(t,r);break;default:throw new we("Invalid mode: "+e)}},n.getDigit=function(t){return t.charCodeAt(0)-48},n.isDigit=function(t){var e=n.getDigit(t);return e>=0&&e<=9},n.appendNumericBytes=function(t,e){for(var r=t.length,i=0;i<r;){var o=n.getDigit(t.charAt(i));if(i+2<r){var u=n.getDigit(t.charAt(i+1)),c=n.getDigit(t.charAt(i+2));e.appendBits(o*100+u*10+c,10),i+=3}else if(i+1<r){var u=n.getDigit(t.charAt(i+1));e.appendBits(o*10+u,7),i+=2}else e.appendBits(o,4),i++}},n.appendAlphanumericBytes=function(t,e){for(var r=t.length,i=0;i<r;){var o=n.getAlphanumericCode(t.charCodeAt(i));if(o===-1)throw new we;if(i+1<r){var u=n.getAlphanumericCode(t.charCodeAt(i+1));if(u===-1)throw new we;e.appendBits(o*45+u,11),i+=2}else e.appendBits(o,6),i++}},n.append8BitBytes=function(t,e,r){var i;try{i=br.encode(t,r)}catch(f){throw new we(f)}for(var o=0,u=i.length;o!==u;o++){var c=i[o];e.appendBits(c,8)}},n.appendKanjiBytes=function(t,e){var r;try{r=br.encode(t,nn.SJIS)}catch(m){throw new we(m)}for(var i=r.length,o=0;o<i;o+=2){var u=r[o]&255,c=r[o+1]&255,f=u<<8&4294967295|c,d=-1;if(f>=33088&&f<=40956?d=f-33088:f>=57408&&f<=60351&&(d=f-49472),d===-1)throw new we("Invalid byte sequence");var g=(d>>8)*192+(d&255);e.appendBits(g,13)}},n.appendECI=function(t,e){e.appendBits(Te.ECI.getBits(),4),e.appendBits(t.getValue(),8)},n.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),n.DEFAULT_BYTE_MODE_ENCODING=nn.UTF8.getName(),n})();var QO=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})();(function(n){QO(t,n);function t(e,r,i,o,u,c,f,d){var g=n.call(this,c,f)||this;if(g.yuvData=e,g.dataWidth=r,g.dataHeight=i,g.left=o,g.top=u,o+c>r||u+f>i)throw new Tt("Crop rectangle does not fit within image data.");return d&&g.reverseHorizontal(c,f),g}return t.prototype.getRow=function(e,r){if(e<0||e>=this.getHeight())throw new Tt("Requested row is outside the image: "+e);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var o=(e+this.top)*this.dataWidth+this.left;return Ee.arraycopy(this.yuvData,o,r,0,i),r},t.prototype.getMatrix=function(){var e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.yuvData;var i=e*r,o=new Uint8ClampedArray(i),u=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return Ee.arraycopy(this.yuvData,u,o,0,i),o;for(var c=0;c<r;c++){var f=c*e;Ee.arraycopy(this.yuvData,u,o,f,e),u+=this.dataWidth}return o},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(e,r,i,o){return new t(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+r,i,o,!1)},t.prototype.renderThumbnail=function(){for(var e=this.getWidth()/t.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/t.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(e*r),o=this.yuvData,u=this.top*this.dataWidth+this.left,c=0;c<r;c++){for(var f=c*e,d=0;d<e;d++){var g=o[u+d*t.THUMBNAIL_SCALE_FACTOR]&255;i[f+d]=4278190080|g*65793}u+=this.dataWidth*t.THUMBNAIL_SCALE_FACTOR}return i},t.prototype.getThumbnailWidth=function(){return this.getWidth()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.getThumbnailHeight=function(){return this.getHeight()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.reverseHorizontal=function(e,r){for(var i=this.yuvData,o=0,u=this.top*this.dataWidth+this.left;o<r;o++,u+=this.dataWidth)for(var c=u+e/2,f=u,d=u+e-1;f<c;f++,d--){var g=i[f];i[f]=i[d],i[d]=g}},t.prototype.invert=function(){return new vg(this)},t.THUMBNAIL_SCALE_FACTOR=2,t})(ld);var ZO=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})();(function(n){ZO(t,n);function t(e,r,i,o,u,c,f){var d=n.call(this,r,i)||this;if(d.dataWidth=o,d.dataHeight=u,d.left=c,d.top=f,e.BYTES_PER_ELEMENT===4){for(var g=r*i,m=new Uint8ClampedArray(g),_=0;_<g;_++){var E=e[_],w=E>>16&255,S=E>>7&510,I=E&255;m[_]=(w+S+I)/4&255}d.luminances=m}else d.luminances=e;if(o===void 0&&(d.dataWidth=r),u===void 0&&(d.dataHeight=i),c===void 0&&(d.left=0),f===void 0&&(d.top=0),d.left+r>d.dataWidth||d.top+i>d.dataHeight)throw new Tt("Crop rectangle does not fit within image data.");return d}return t.prototype.getRow=function(e,r){if(e<0||e>=this.getHeight())throw new Tt("Requested row is outside the image: "+e);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var o=(e+this.top)*this.dataWidth+this.left;return Ee.arraycopy(this.luminances,o,r,0,i),r},t.prototype.getMatrix=function(){var e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.luminances;var i=e*r,o=new Uint8ClampedArray(i),u=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return Ee.arraycopy(this.luminances,u,o,0,i),o;for(var c=0;c<r;c++){var f=c*e;Ee.arraycopy(this.luminances,u,o,f,e),u+=this.dataWidth}return o},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(e,r,i,o){return new t(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+e,this.top+r)},t.prototype.invert=function(){return new vg(this)},t})(ld);var $O=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),JO=(function(n){$O(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.forName=function(e){return this.getCharacterSetECIByName(e)},t})(nn),tD=(function(){function n(){}return n.ISO_8859_1=nn.ISO8859_1,n})(),wp,eD=301,nD=function(n,t){for(var e=1,r=0;r<255;r++)t[r]=e,n[e]=r,e*=2,e>=256&&(e^=eD);return{LOG:n,ALOG:t}};wp=nD([],[]),wp.LOG;wp.ALOG;var tE;(function(n){n[n.FORCE_NONE=0]="FORCE_NONE",n[n.FORCE_SQUARE=1]="FORCE_SQUARE",n[n.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(tE||(tE={}));var eE=129,qx=230,rD=231,iD=235,aD=236,oD=237,sD=238,uD=239,lD=240,M0=254,cD=254,nE="[)>05",rE="[)>06",iE="",de=0,Tn=1,Hn=2,tn=3,dn=4,Nn=5,fD=(function(){function n(){}return n.prototype.getEncodingMode=function(){return de},n.prototype.encode=function(t){var e=qr.determineConsecutiveDigitCount(t.getMessage(),t.pos);if(e>=2)t.writeCodeword(this.encodeASCIIDigits(t.getMessage().charCodeAt(t.pos),t.getMessage().charCodeAt(t.pos+1))),t.pos+=2;else{var r=t.getCurrentChar(),i=qr.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Nn:t.writeCodeword(rD),t.signalEncoderChange(Nn);return;case Tn:t.writeCodeword(qx),t.signalEncoderChange(Tn);return;case tn:t.writeCodeword(sD),t.signalEncoderChange(tn);break;case Hn:t.writeCodeword(uD),t.signalEncoderChange(Hn);break;case dn:t.writeCodeword(lD),t.signalEncoderChange(dn);break;default:throw new Error("Illegal mode: "+i)}else qr.isExtendedASCII(r)?(t.writeCodeword(iD),t.writeCodeword(r-128+1),t.pos++):(t.writeCodeword(r+1),t.pos++)}},n.prototype.encodeASCIIDigits=function(t,e){if(qr.isDigit(t)&&qr.isDigit(e)){var r=(t-48)*10+(e-48);return r+130}throw new Error("not digits: "+t+e)},n})(),hD=(function(){function n(){}return n.prototype.getEncodingMode=function(){return Nn},n.prototype.encode=function(t){var e=new kt;for(e.append(0);t.hasMoreCharacters();){var r=t.getCurrentChar();e.append(r),t.pos++;var i=qr.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){t.signalEncoderChange(de);break}}var o=e.length()-1,u=1,c=t.getCodewordCount()+o+u;t.updateSymbolInfo(c);var f=t.getSymbolInfo().getDataCapacity()-c>0;if(t.hasMoreCharacters()||f)if(o<=249)e.setCharAt(0,Qt.getCharAt(o));else if(o<=1555)e.setCharAt(0,Qt.getCharAt(Math.floor(o/250)+249)),e.insert(1,Qt.getCharAt(o%250));else throw new Error("Message length not in valid ranges: "+o);for(var d=0,r=e.length();d<r;d++)t.writeCodeword(this.randomize255State(e.charAt(d).charCodeAt(0),t.getCodewordCount()+1))},n.prototype.randomize255State=function(t,e){var r=149*e%255+1,i=t+r;return i<=255?i:i-256},n})(),Ag=(function(){function n(){}return n.prototype.getEncodingMode=function(){return Tn},n.prototype.encodeMaximal=function(t){for(var e=new kt,r=0,i=t.pos,o=0;t.hasMoreCharacters();){var u=t.getCurrentChar();t.pos++,r=this.encodeChar(u,e),e.length()%3===0&&(i=t.pos,o=e.length())}if(o!==e.length()){var c=Math.floor(e.length()/3*2),f=Math.floor(t.getCodewordCount()+c+1);t.updateSymbolInfo(f);var d=t.getSymbolInfo().getDataCapacity()-f,g=Math.floor(e.length()%3);(g===2&&d!==2||g===1&&(r>3||d!==1))&&(t.pos=i)}e.length()>0&&t.writeCodeword(qx),this.handleEOD(t,e)},n.prototype.encode=function(t){for(var e=new kt;t.hasMoreCharacters();){var r=t.getCurrentChar();t.pos++;var i=this.encodeChar(r,e),o=Math.floor(e.length()/3)*2,u=t.getCodewordCount()+o;t.updateSymbolInfo(u);var c=t.getSymbolInfo().getDataCapacity()-u;if(!t.hasMoreCharacters()){var f=new kt;for(e.length()%3===2&&c!==2&&(i=this.backtrackOneCharacter(t,e,f,i));e.length()%3===1&&(i>3||c!==1);)i=this.backtrackOneCharacter(t,e,f,i);break}var d=e.length();if(d%3===0){var g=qr.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(g!==this.getEncodingMode()){t.signalEncoderChange(de);break}}}this.handleEOD(t,e)},n.prototype.backtrackOneCharacter=function(t,e,r,i){var o=e.length(),u=e.toString().substring(0,o-i);e.setLengthToZero(),e.append(u),t.pos--;var c=t.getCurrentChar();return i=this.encodeChar(c,r),t.resetSymbolInfo(),i},n.prototype.writeNextTriplet=function(t,e){t.writeCodewords(this.encodeToCodewords(e.toString()));var r=e.toString().substring(3);e.setLengthToZero(),e.append(r)},n.prototype.handleEOD=function(t,e){var r=Math.floor(e.length()/3*2),i=e.length()%3,o=t.getCodewordCount()+r;t.updateSymbolInfo(o);var u=t.getSymbolInfo().getDataCapacity()-o;if(i===2){for(e.append("\0");e.length()>=3;)this.writeNextTriplet(t,e);t.hasMoreCharacters()&&t.writeCodeword(M0)}else if(u===1&&i===1){for(;e.length()>=3;)this.writeNextTriplet(t,e);t.hasMoreCharacters()&&t.writeCodeword(M0),t.pos--}else if(i===0){for(;e.length()>=3;)this.writeNextTriplet(t,e);(u>0||t.hasMoreCharacters())&&t.writeCodeword(M0)}else throw new Error("Unexpected case. Please report!");t.signalEncoderChange(de)},n.prototype.encodeChar=function(t,e){if(t===32)return e.append(3),1;if(t>=48&&t<=57)return e.append(t-48+4),1;if(t>=65&&t<=90)return e.append(t-65+14),1;if(t<32)return e.append(0),e.append(t),2;if(t<=47)return e.append(1),e.append(t-33),2;if(t<=64)return e.append(1),e.append(t-58+15),2;if(t<=95)return e.append(1),e.append(t-91+22),2;if(t<=127)return e.append(2),e.append(t-96),2;e.append("1");var r=2;return r+=this.encodeChar(t-128,e),r},n.prototype.encodeToCodewords=function(t){var e=1600*t.charCodeAt(0)+40*t.charCodeAt(1)+t.charCodeAt(2)+1,r=e/256,i=e%256,o=new kt;return o.append(r),o.append(i),o.toString()},n})(),dD=(function(){function n(){}return n.prototype.getEncodingMode=function(){return dn},n.prototype.encode=function(t){for(var e=new kt;t.hasMoreCharacters();){var r=t.getCurrentChar();this.encodeChar(r,e),t.pos++;var i=e.length();if(i>=4){t.writeCodewords(this.encodeToCodewords(e.toString()));var o=e.toString().substring(4);e.setLengthToZero(),e.append(o);var u=qr.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(u!==this.getEncodingMode()){t.signalEncoderChange(de);break}}}e.append(Qt.getCharAt(31)),this.handleEOD(t,e)},n.prototype.handleEOD=function(t,e){try{var r=e.length();if(r===0)return;if(r===1){t.updateSymbolInfo();var i=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),o=t.getRemainingCharacters();if(o>i&&(t.updateSymbolInfo(t.getCodewordCount()+1),i=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount()),o<=i&&i<=2)return}if(r>4)throw new Error("Count must not exceed 4");var u=r-1,c=this.encodeToCodewords(e.toString()),f=!t.hasMoreCharacters(),d=f&&u<=2;if(u<=2){t.updateSymbolInfo(t.getCodewordCount()+u);var i=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount();i>=3&&(d=!1,t.updateSymbolInfo(t.getCodewordCount()+c.length))}d?(t.resetSymbolInfo(),t.pos-=u):t.writeCodewords(c)}finally{t.signalEncoderChange(de)}},n.prototype.encodeChar=function(t,e){t>=32&&t<=63?e.append(t):t>=64&&t<=94?e.append(Qt.getCharAt(t-64)):qr.illegalCharacter(Qt.getCharAt(t))},n.prototype.encodeToCodewords=function(t){var e=t.length;if(e===0)throw new Error("StringBuilder must not be empty");var r=t.charAt(0).charCodeAt(0),i=e>=2?t.charAt(1).charCodeAt(0):0,o=e>=3?t.charAt(2).charCodeAt(0):0,u=e>=4?t.charAt(3).charCodeAt(0):0,c=(r<<18)+(i<<12)+(o<<6)+u,f=c>>16&255,d=c>>8&255,g=c&255,m=new kt;return m.append(f),e>=2&&m.append(d),e>=3&&m.append(g),m.toString()},n})(),pD=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),gD=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ae=(function(){function n(t,e,r,i,o,u,c,f){c===void 0&&(c=0),f===void 0&&(f=0),this.rectangular=t,this.dataCapacity=e,this.errorCodewords=r,this.matrixWidth=i,this.matrixHeight=o,this.dataRegions=u,this.rsBlockData=c,this.rsBlockError=f}return n.lookup=function(t,e,r,i,o){var u,c;e===void 0&&(e=0),r===void 0&&(r=null),i===void 0&&(i=null),o===void 0&&(o=!0);try{for(var f=gD(mD),d=f.next();!d.done;d=f.next()){var g=d.value;if(!(e===1&&g.rectangular)&&!(e===2&&!g.rectangular)&&!(r!=null&&(g.getSymbolWidth()<r.getWidth()||g.getSymbolHeight()<r.getHeight()))&&!(i!=null&&(g.getSymbolWidth()>i.getWidth()||g.getSymbolHeight()>i.getHeight()))&&t<=g.dataCapacity)return g}}catch(m){u={error:m}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(u)throw u.error}}if(o)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+t);return null},n.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},n.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},n.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},n.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},n.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},n.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},n.prototype.getDataCapacity=function(){return this.dataCapacity},n.prototype.getErrorCodewords=function(){return this.errorCodewords},n.prototype.getDataLengthForInterleavedBlock=function(t){return this.rsBlockData},n.prototype.getErrorLengthForInterleavedBlock=function(t){return this.rsBlockError},n})(),vD=(function(n){pD(t,n);function t(){return n.call(this,!1,1558,620,22,22,36,-1,62)||this}return t.prototype.getInterleavedBlockCount=function(){return 10},t.prototype.getDataLengthForInterleavedBlock=function(e){return e<=8?156:155},t})(ae),mD=[new ae(!1,3,5,8,8,1),new ae(!1,5,7,10,10,1),new ae(!0,5,7,16,6,1),new ae(!1,8,10,12,12,1),new ae(!0,10,11,14,6,2),new ae(!1,12,12,14,14,1),new ae(!0,16,14,24,10,1),new ae(!1,18,14,16,16,1),new ae(!1,22,18,18,18,1),new ae(!0,22,18,16,10,2),new ae(!1,30,20,20,20,1),new ae(!0,32,24,16,14,2),new ae(!1,36,24,22,22,1),new ae(!1,44,28,24,24,1),new ae(!0,49,28,22,14,2),new ae(!1,62,36,14,14,4),new ae(!1,86,42,16,16,4),new ae(!1,114,48,18,18,4),new ae(!1,144,56,20,20,4),new ae(!1,174,68,22,22,4),new ae(!1,204,84,24,24,4,102,42),new ae(!1,280,112,14,14,16,140,56),new ae(!1,368,144,16,16,16,92,36),new ae(!1,456,192,18,18,16,114,48),new ae(!1,576,224,20,20,16,144,56),new ae(!1,696,272,22,22,16,174,68),new ae(!1,816,336,24,24,16,136,56),new ae(!1,1050,408,18,18,36,175,68),new ae(!1,1304,496,20,20,36,163,62),new vD],yD=(function(){function n(t){this.msg=t,this.pos=0,this.skipAtEnd=0;for(var e=t.split("").map(function(c){return c.charCodeAt(0)}),r=new kt,i=0,o=e.length;i<o;i++){var u=String.fromCharCode(e[i]&255);if(u==="?"&&t.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(u)}this.msg=r.toString(),this.shape=0,this.codewords=new kt,this.newEncoding=-1}return n.prototype.setSymbolShape=function(t){this.shape=t},n.prototype.setSizeConstraints=function(t,e){this.minSize=t,this.maxSize=e},n.prototype.getMessage=function(){return this.msg},n.prototype.setSkipAtEnd=function(t){this.skipAtEnd=t},n.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCodewords=function(){return this.codewords},n.prototype.writeCodewords=function(t){this.codewords.append(t)},n.prototype.writeCodeword=function(t){this.codewords.append(t)},n.prototype.getCodewordCount=function(){return this.codewords.length()},n.prototype.getNewEncoding=function(){return this.newEncoding},n.prototype.signalEncoderChange=function(t){this.newEncoding=t},n.prototype.resetEncoderSignal=function(){this.newEncoding=-1},n.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},n.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},n.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},n.prototype.getSymbolInfo=function(){return this.symbolInfo},n.prototype.updateSymbolInfo=function(t){t===void 0&&(t=this.getCodewordCount()),(this.symbolInfo==null||t>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=ae.lookup(t,this.shape,this.minSize,this.maxSize,!0))},n.prototype.resetSymbolInfo=function(){this.symbolInfo=null},n})(),_D=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),ED=(function(n){_D(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getEncodingMode=function(){return tn},t.prototype.encode=function(e){for(var r=new kt;e.hasMoreCharacters();){var i=e.getCurrentChar();e.pos++,this.encodeChar(i,r);var o=r.length();if(o%3===0){this.writeNextTriplet(e,r);var u=qr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(u!==this.getEncodingMode()){e.signalEncoderChange(de);break}}}this.handleEOD(e,r)},t.prototype.encodeChar=function(e,r){switch(e){case 13:r.append(0);break;case 42:r.append(1);break;case 62:r.append(2);break;case 32:r.append(3);break;default:e>=48&&e<=57?r.append(e-48+4):e>=65&&e<=90?r.append(e-65+14):qr.illegalCharacter(Qt.getCharAt(e));break}return 1},t.prototype.handleEOD=function(e,r){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),o=r.length();e.pos-=o,(e.getRemainingCharacters()>1||i>1||e.getRemainingCharacters()!==i)&&e.writeCodeword(cD),e.getNewEncoding()<0&&e.signalEncoderChange(de)},t})(Ag),AD=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),xD=(function(n){AD(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getEncodingMode=function(){return Hn},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=97&&e<=122)return r.append(e-97+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e>=91&&e<=95)return r.append(1),r.append(e-91+22),2;if(e===96)return r.append(2),r.append(0),2;if(e<=90)return r.append(2),r.append(e-65+1),2;if(e<=127)return r.append(2),r.append(e-123+27),2;r.append("1");var i=2;return i+=this.encodeChar(e-128,r),i},t})(Ag),qr=(function(){function n(){}return n.randomize253State=function(t){var e=149*t%253+1,r=eE+e;return r<=254?r:r-254},n.encodeHighLevel=function(t,e,r,i,o){e===void 0&&(e=0),r===void 0&&(r=null),i===void 0&&(i=null),o===void 0&&(o=!1);var u=new Ag,c=[new fD,u,new xD,new ED,new dD,new hD],f=new yD(t);f.setSymbolShape(e),f.setSizeConstraints(r,i),t.startsWith(nE)&&t.endsWith(iE)?(f.writeCodeword(aD),f.setSkipAtEnd(2),f.pos+=nE.length):t.startsWith(rE)&&t.endsWith(iE)&&(f.writeCodeword(oD),f.setSkipAtEnd(2),f.pos+=rE.length);var d=de;for(o&&(u.encodeMaximal(f),d=f.getNewEncoding(),f.resetEncoderSignal());f.hasMoreCharacters();)c[d].encode(f),f.getNewEncoding()>=0&&(d=f.getNewEncoding(),f.resetEncoderSignal());var g=f.getCodewordCount();f.updateSymbolInfo();var m=f.getSymbolInfo().getDataCapacity();g<m&&d!==de&&d!==Nn&&d!==dn&&f.writeCodeword("");var _=f.getCodewords();for(_.length()<m&&_.append(eE);_.length()<m;)_.append(this.randomize253State(_.length()+1));return f.getCodewords().toString()},n.lookAheadTest=function(t,e,r){var i=this.lookAheadTestIntern(t,e,r);if(r===tn&&i===tn){for(var o=Math.min(e+3,t.length),u=e;u<o;u++)if(!this.isNativeX12(t.charCodeAt(u)))return de}else if(r===dn&&i===dn){for(var o=Math.min(e+4,t.length),u=e;u<o;u++)if(!this.isNativeEDIFACT(t.charCodeAt(u)))return de}return i},n.lookAheadTestIntern=function(t,e,r){if(e>=t.length)return r;var i;r===de?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[r]=0);for(var o=0,u=new Uint8Array(6),c=[];;){if(e+o===t.length){an.fill(u,0),an.fill(c,0);var f=this.findMinimums(i,c,Ut.MAX_VALUE,u),d=this.getMinimumCount(u);if(c[de]===f)return de;if(d===1){if(u[Nn]>0)return Nn;if(u[dn]>0)return dn;if(u[Hn]>0)return Hn;if(u[tn]>0)return tn}return Tn}var g=t.charCodeAt(e+o);if(o++,this.isDigit(g)?i[de]+=.5:this.isExtendedASCII(g)?(i[de]=Math.ceil(i[de]),i[de]+=2):(i[de]=Math.ceil(i[de]),i[de]++),this.isNativeC40(g)?i[Tn]+=2/3:this.isExtendedASCII(g)?i[Tn]+=8/3:i[Tn]+=4/3,this.isNativeText(g)?i[Hn]+=2/3:this.isExtendedASCII(g)?i[Hn]+=8/3:i[Hn]+=4/3,this.isNativeX12(g)?i[tn]+=2/3:this.isExtendedASCII(g)?i[tn]+=13/3:i[tn]+=10/3,this.isNativeEDIFACT(g)?i[dn]+=3/4:this.isExtendedASCII(g)?i[dn]+=17/4:i[dn]+=13/4,this.isSpecialB256(g)?i[Nn]+=4:i[Nn]++,o>=4){if(an.fill(u,0),an.fill(c,0),this.findMinimums(i,c,Ut.MAX_VALUE,u),c[de]<this.min(c[Nn],c[Tn],c[Hn],c[tn],c[dn]))return de;if(c[Nn]<c[de]||c[Nn]+1<this.min(c[Tn],c[Hn],c[tn],c[dn]))return Nn;if(c[dn]+1<this.min(c[Nn],c[Tn],c[Hn],c[tn],c[de]))return dn;if(c[Hn]+1<this.min(c[Nn],c[Tn],c[dn],c[tn],c[de]))return Hn;if(c[tn]+1<this.min(c[Nn],c[Tn],c[dn],c[Hn],c[de]))return tn;if(c[Tn]+1<this.min(c[de],c[Nn],c[dn],c[Hn])){if(c[Tn]<c[tn])return Tn;if(c[Tn]===c[tn]){for(var m=e+o+1;m<t.length;){var _=t.charCodeAt(m);if(this.isX12TermSep(_))return tn;if(!this.isNativeX12(_))break;m++}return Tn}}}}},n.min=function(t,e,r,i,o){var u=Math.min(t,Math.min(e,Math.min(r,i)));return o===void 0?u:Math.min(u,o)},n.findMinimums=function(t,e,r,i){for(var o=0;o<6;o++){var u=e[o]=Math.ceil(t[o]);r>u&&(r=u,an.fill(i,0)),r===u&&(i[o]=i[o]+1)}return r},n.getMinimumCount=function(t){for(var e=0,r=0;r<6;r++)e+=t[r];return e||0},n.isDigit=function(t){return t>=48&&t<=57},n.isExtendedASCII=function(t){return t>=128&&t<=255},n.isNativeC40=function(t){return t===32||t>=48&&t<=57||t>=65&&t<=90},n.isNativeText=function(t){return t===32||t>=48&&t<=57||t>=97&&t<=122},n.isNativeX12=function(t){return this.isX12TermSep(t)||t===32||t>=48&&t<=57||t>=65&&t<=90},n.isX12TermSep=function(t){return t===13||t===42||t===62},n.isNativeEDIFACT=function(t){return t>=32&&t<=94},n.isSpecialB256=function(t){return!1},n.determineConsecutiveDigitCount=function(t,e){e===void 0&&(e=0);for(var r=t.length,i=e;i<r&&this.isDigit(t.charCodeAt(i));)i++;return i-e},n.illegalCharacter=function(t){var e=Ut.toHexString(t.charCodeAt(0));throw e="0000".substring(0,4-e.length)+e,new Error("Illegal character: "+t+" (0x"+e+")")},n})(),P0=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},aE=(function(){function n(t){this.charset=t,this.name=t.name}return n.prototype.canEncode=function(t){try{return br.encode(t,this.charset)!=null}catch{return!1}},n})(),wD=(function(){function n(t,e,r){var i,o,u,c,f,d;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(P){return new aE(JO.forName(P))}),this.encoders=[];var g=[];g.push(new aE(tD.ISO_8859_1));for(var m=e!=null&&e.name.startsWith("UTF"),_=0;_<t.length;_++){var E=!1;try{for(var w=(i=void 0,P0(g)),S=w.next();!S.done;S=w.next()){var I=S.value,N=t.charAt(_),L=N.charCodeAt(0);if(L===r||I.canEncode(N)){E=!0;break}}}catch(P){i={error:P}}finally{try{S&&!S.done&&(o=w.return)&&o.call(w)}finally{if(i)throw i.error}}if(!E)try{for(var V=(u=void 0,P0(this.ENCODERS)),j=V.next();!j.done;j=V.next()){var I=j.value;if(I.canEncode(t.charAt(_))){g.push(I),E=!0;break}}}catch(P){u={error:P}}finally{try{j&&!j.done&&(c=V.return)&&c.call(V)}finally{if(u)throw u.error}}E||(m=!0)}if(g.length===1&&!m)this.encoders=[g[0]];else{this.encoders=[];var Q=0;try{for(var Z=P0(g),b=Z.next();!b.done;b=Z.next()){var I=b.value;this.encoders[Q++]=I}}catch(P){f={error:P}}finally{try{b&&!b.done&&(d=Z.return)&&d.call(Z)}finally{if(f)throw f.error}}}var R=-1;if(e!=null){for(var _=0;_<this.encoders.length;_++)if(this.encoders[_]!=null&&e.name===this.encoders[_].name){R=_;break}}this.priorityEncoderIndex=R}return n.prototype.length=function(){return this.encoders.length},n.prototype.getCharsetName=function(t){if(!(t<this.length()))throw new Error("index must be less than length");return this.encoders[t].name},n.prototype.getCharset=function(t){if(!(t<this.length()))throw new Error("index must be less than length");return this.encoders[t].charset},n.prototype.getECIValue=function(t){return this.encoders[t].charset.getValueIdentifier()},n.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},n.prototype.canEncode=function(t,e){if(!(e<this.length()))throw new Error("index must be less than length");return!0},n.prototype.encode=function(t,e){if(!(e<this.length()))throw new Error("index must be less than length");return br.encode(Qt.getCharAt(t),this.encoders[e].name)},n})(),TD=3,SD=(function(){function n(t,e,r){this.fnc1=r;var i=new wD(t,e,r);if(i.length()===1)for(var o=0;o<this.bytes.length;o++){var u=t.charAt(o).charCodeAt(0);this.bytes[o]=u===r?1e3:u}else this.bytes=this.encodeMinimally(t,i,r)}return n.prototype.getFNC1Character=function(){return this.fnc1},n.prototype.length=function(){return this.bytes.length},n.prototype.haveNCharacters=function(t,e){if(t+e-1>=this.bytes.length)return!1;for(var r=0;r<e;r++)if(this.isECI(t+r))return!1;return!0},n.prototype.charAt=function(t){if(t<0||t>=this.length())throw new Error(""+t);if(this.isECI(t))throw new Error("value at "+t+" is not a character but an ECI");return this.isFNC1(t)?this.fnc1:this.bytes[t]},n.prototype.subSequence=function(t,e){if(t<0||t>e||e>this.length())throw new Error(""+t);for(var r=new kt,i=t;i<e;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");r.append(this.charAt(i))}return r.toString()},n.prototype.isECI=function(t){if(t<0||t>=this.length())throw new Error(""+t);return this.bytes[t]>255&&this.bytes[t]<=999},n.prototype.isFNC1=function(t){if(t<0||t>=this.length())throw new Error(""+t);return this.bytes[t]===1e3},n.prototype.getECIValue=function(t){if(t<0||t>=this.length())throw new Error(""+t);if(!this.isECI(t))throw new Error("value at "+t+" is not an ECI but a character");return this.bytes[t]-256},n.prototype.addEdge=function(t,e,r){(t[e][r.encoderIndex]==null||t[e][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(t[e][r.encoderIndex]=r)},n.prototype.addEdges=function(t,e,r,i,o,u){var c=t.charAt(i).charCodeAt(0),f=0,d=e.length();e.getPriorityEncoderIndex()>=0&&(c===u||e.canEncode(c,e.getPriorityEncoderIndex()))&&(f=e.getPriorityEncoderIndex(),d=f+1);for(var g=f;g<d;g++)(c===u||e.canEncode(c,g))&&this.addEdge(r,i+1,new oE(c,e,g,o,u))},n.prototype.encodeMinimally=function(t,e,r){var i=t.length,o=new oE[i+1][e.length()];this.addEdges(t,e,o,0,null,r);for(var u=1;u<=i;u++){for(var c=0;c<e.length();c++)o[u][c]!=null&&u<i&&this.addEdges(t,e,o,u,o[u][c],r);for(var c=0;c<e.length();c++)o[u-1][c]=null}for(var f=-1,d=Ut.MAX_VALUE,c=0;c<e.length();c++)if(o[i][c]!=null){var g=o[i][c];g.cachedTotalSize<d&&(d=g.cachedTotalSize,f=c)}if(f<0)throw new Error('Failed to encode "'+t+'"');for(var m=[],_=o[i][f];_!=null;){if(_.isFNC1())m.unshift(1e3);else for(var E=e.encode(_.c,_.encoderIndex),u=E.length-1;u>=0;u--)m.unshift(E[u]&255);var w=_.previous===null?0:_.previous.encoderIndex;w!==_.encoderIndex&&m.unshift(256+e.getECIValue(_.encoderIndex)),_=_.previous}for(var S=[],u=0;u<S.length;u++)S[u]=m[u];return S},n})(),oE=(function(){function n(t,e,r,i,o){this.c=t,this.encoderSet=e,this.encoderIndex=r,this.previous=i,this.fnc1=o,this.c=t===o?1e3:t;var u=this.isFNC1()?1:e.encode(t,r).length,c=i===null?0:i.encoderIndex;c!==r&&(u+=TD),i!=null&&(u+=i.cachedTotalSize),this.cachedTotalSize=u}return n.prototype.isFNC1=function(){return this.c===1e3},n})(),CD=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})();var sE;(function(n){n[n.ASCII=0]="ASCII",n[n.C40=1]="C40",n[n.TEXT=2]="TEXT",n[n.X12=3]="X12",n[n.EDF=4]="EDF",n[n.B256=5]="B256"})(sE||(sE={}));(function(n){CD(t,n);function t(e,r,i,o,u){var c=n.call(this,e,r,i)||this;return c.shape=o,c.macroId=u,c}return t.prototype.getMacroId=function(){return this.macroId},t.prototype.getShapeHint=function(){return this.shape},t})(SD);var ID=(function(){function n(){}return n.prototype.isCompact=function(){return this.compact},n.prototype.setCompact=function(t){this.compact=t},n.prototype.getSize=function(){return this.size},n.prototype.setSize=function(t){this.size=t},n.prototype.getLayers=function(){return this.layers},n.prototype.setLayers=function(t){this.layers=t},n.prototype.getCodeWords=function(){return this.codeWords},n.prototype.setCodeWords=function(t){this.codeWords=t},n.prototype.getMatrix=function(){return this.matrix},n.prototype.setMatrix=function(t){this.matrix=t},n})(),uE=(function(){function n(){}return n.singletonList=function(t){return[t]},n.min=function(t,e){return t.sort(e)[0]},n})(),bD=(function(){function n(t){this.previous=t}return n.prototype.getPrevious=function(){return this.previous},n})(),RD=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),xg=(function(n){RD(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.value=r,o.bitCount=i,o}return t.prototype.appendTo=function(e,r){e.appendBits(this.value,this.bitCount)},t.prototype.add=function(e,r){return new t(this,e,r)},t.prototype.addBinaryShift=function(e,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new t(this,e,r)},t.prototype.toString=function(){var e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+Ut.toBinaryString(e|1<<this.bitCount).substring(1)+">"},t})(bD),OD=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(t,e)};return function(t,e){n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),DD=(function(n){OD(t,n);function t(e,r,i){var o=n.call(this,e,0,0)||this;return o.binaryShiftStart=r,o.binaryShiftByteCount=i,o}return t.prototype.appendTo=function(e,r){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):i===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(r[this.binaryShiftStart+i],8)},t.prototype.addBinaryShift=function(e,r){return new t(this,e,r)},t.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},t})(xg);function ND(n,t,e){return new DD(n,t,e)}function Ml(n,t,e){return new xg(n,t,e)}var MD=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Za=0,Fh=1,Ir=2,Xx=3,yi=4,PD=new xg(null,0,0),L0=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],LD=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function BD(n){var t,e;try{for(var r=LD(n),i=r.next();!i.done;i=r.next()){var o=i.value;an.fill(o,-1)}}catch(u){t={error:u}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n[Za][yi]=0,n[Fh][yi]=0,n[Fh][Za]=28,n[Xx][yi]=0,n[Ir][yi]=0,n[Ir][Za]=15,n}var Yx=BD(an.createInt32Array(6,6)),VD=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},kD=(function(){function n(t,e,r,i){this.token=t,this.mode=e,this.binaryShiftByteCount=r,this.bitCount=i}return n.prototype.getMode=function(){return this.mode},n.prototype.getToken=function(){return this.token},n.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},n.prototype.getBitCount=function(){return this.bitCount},n.prototype.latchAndAppend=function(t,e){var r=this.bitCount,i=this.token;if(t!==this.mode){var o=L0[this.mode][t];i=Ml(i,o&65535,o>>16),r+=o>>16}var u=t===Ir?4:5;return i=Ml(i,e,u),new n(i,t,0,r+u)},n.prototype.shiftAndAppend=function(t,e){var r=this.token,i=this.mode===Ir?4:5;return r=Ml(r,Yx[this.mode][t],i),r=Ml(r,e,5),new n(r,this.mode,0,this.bitCount+i+5)},n.prototype.addBinaryShiftChar=function(t){var e=this.token,r=this.mode,i=this.bitCount;if(this.mode===yi||this.mode===Ir){var o=L0[r][Za];e=Ml(e,o&65535,o>>16),i+=o>>16,r=Za}var u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new n(e,r,this.binaryShiftByteCount+1,i+u);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(t+1)),c},n.prototype.endBinaryShift=function(t){if(this.binaryShiftByteCount===0)return this;var e=this.token;return e=ND(e,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new n(e,this.mode,0,this.bitCount)},n.prototype.isBetterThanOrEqualTo=function(t){var e=this.bitCount+(L0[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?e+=n.calculateBinaryShiftCost(t)-n.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(e+=10),e<=t.bitCount},n.prototype.toBitArray=function(t){for(var e,r,i=[],o=this.endBinaryShift(t.length).token;o!==null;o=o.getPrevious())i.unshift(o);var u=new vn;try{for(var c=VD(i),f=c.next();!f.done;f=c.next()){var d=f.value;d.appendTo(u,t)}}catch(g){e={error:g}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}return u},n.prototype.toString=function(){return Qt.format("%s bits=%d bytes=%d",MD[this.mode],this.bitCount,this.binaryShiftByteCount)},n.calculateBinaryShiftCost=function(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0},n.INITIAL_STATE=new n(PD,Za,0,0),n})();function UD(n){var t=Qt.getCharCode(" "),e=Qt.getCharCode("."),r=Qt.getCharCode(",");n[Za][t]=1;for(var i=Qt.getCharCode("Z"),o=Qt.getCharCode("A"),u=o;u<=i;u++)n[Za][u]=u-o+2;n[Fh][t]=1;for(var c=Qt.getCharCode("z"),f=Qt.getCharCode("a"),u=f;u<=c;u++)n[Fh][u]=u-f+2;n[Ir][t]=1;for(var d=Qt.getCharCode("9"),g=Qt.getCharCode("0"),u=g;u<=d;u++)n[Ir][u]=u-g+2;n[Ir][r]=12,n[Ir][e]=13;for(var m=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],_=0;_<m.length;_++)n[Xx][Qt.getCharCode(m[_])]=_;for(var E=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],_=0;_<E.length;_++)Qt.getCharCode(E[_])>0&&(n[yi][Qt.getCharCode(E[_])]=_);return n}var B0=UD(an.createInt32Array(5,256)),rh=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},FD=(function(){function n(t){this.text=t}return n.prototype.encode=function(){for(var t=Qt.getCharCode(" "),e=Qt.getCharCode(`
`),r=uE.singletonList(kD.INITIAL_STATE),i=0;i<this.text.length;i++){var o=void 0,u=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case Qt.getCharCode("\r"):o=u===e?2:0;break;case Qt.getCharCode("."):o=u===t?3:0;break;case Qt.getCharCode(","):o=u===t?4:0;break;case Qt.getCharCode(":"):o=u===t?5:0;break;default:o=0}o>0?(r=n.updateStateListForPair(r,i,o),i++):r=this.updateStateListForChar(r,i)}var c=uE.min(r,function(f,d){return f.getBitCount()-d.getBitCount()});return c.toBitArray(this.text)},n.prototype.updateStateListForChar=function(t,e){var r,i,o=[];try{for(var u=rh(t),c=u.next();!c.done;c=u.next()){var f=c.value;this.updateStateForChar(f,e,o)}}catch(d){r={error:d}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return n.simplifyStates(o)},n.prototype.updateStateForChar=function(t,e,r){for(var i=this.text[e]&255,o=B0[t.getMode()][i]>0,u=null,c=0;c<=yi;c++){var f=B0[c][i];if(f>0){if(u==null&&(u=t.endBinaryShift(e)),!o||c===t.getMode()||c===Ir){var d=u.latchAndAppend(c,f);r.push(d)}if(!o&&Yx[t.getMode()][c]>=0){var g=u.shiftAndAppend(c,f);r.push(g)}}}if(t.getBinaryShiftByteCount()>0||B0[t.getMode()][i]===0){var m=t.addBinaryShiftChar(e);r.push(m)}},n.updateStateListForPair=function(t,e,r){var i,o,u=[];try{for(var c=rh(t),f=c.next();!f.done;f=c.next()){var d=f.value;this.updateStateForPair(d,e,r,u)}}catch(g){i={error:g}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return this.simplifyStates(u)},n.updateStateForPair=function(t,e,r,i){var o=t.endBinaryShift(e);if(i.push(o.latchAndAppend(yi,r)),t.getMode()!==yi&&i.push(o.shiftAndAppend(yi,r)),r===3||r===4){var u=o.latchAndAppend(Ir,16-r).latchAndAppend(Ir,1);i.push(u)}if(t.getBinaryShiftByteCount()>0){var c=t.addBinaryShiftChar(e).addBinaryShiftChar(e+1);i.push(c)}},n.simplifyStates=function(t){var e,r,i,o,u=[];try{for(var c=rh(t),f=c.next();!f.done;f=c.next()){var d=f.value,g=!0,m=function(I){if(I.isBetterThanOrEqualTo(d))return g=!1,"break";d.isBetterThanOrEqualTo(I)&&(u=u.filter(function(N){return N!==I}))};try{for(var _=(i=void 0,rh(u)),E=_.next();!E.done;E=_.next()){var w=E.value,S=m(w);if(S==="break")break}}catch(I){i={error:I}}finally{try{E&&!E.done&&(o=_.return)&&o.call(_)}finally{if(i)throw i.error}}g&&u.push(d)}}catch(I){e={error:I}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}return u},n})(),zD=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.encodeBytes=function(t){return n.encode(t,n.DEFAULT_EC_PERCENT,n.DEFAULT_AZTEC_LAYERS)},n.encode=function(t,e,r){var i=new FD(t).encode(),o=Ut.truncDivision(i.getSize()*e,100)+11,u=i.getSize()+o,c,f,d,g,m;if(r!==n.DEFAULT_AZTEC_LAYERS){if(c=r<0,f=Math.abs(r),f>(c?n.MAX_NB_BITS_COMPACT:n.MAX_NB_BITS))throw new Tt(Qt.format("Illegal value %s for layers",r));d=n.totalBitsInLayer(f,c),g=n.WORD_SIZE[f];var _=d-d%g;if(m=n.stuffBits(i,g),m.getSize()+o>_)throw new Tt("Data to large for user specified layer");if(c&&m.getSize()>g*64)throw new Tt("Data to large for user specified layer")}else{g=0,m=null;for(var E=0;;E++){if(E>n.MAX_NB_BITS)throw new Tt("Data too large for an Aztec code");if(c=E<=3,f=c?E+1:E,d=n.totalBitsInLayer(f,c),!(u>d)){(m==null||g!==n.WORD_SIZE[f])&&(g=n.WORD_SIZE[f],m=n.stuffBits(i,g));var _=d-d%g;if(!(c&&m.getSize()>g*64)&&m.getSize()+o<=_)break}}}var w=n.generateCheckWords(m,d,g),S=m.getSize()/g,I=n.generateModeMessage(c,f,S),N=(c?11:14)+f*4,L=new Int32Array(N),V;if(c){V=N;for(var E=0;E<L.length;E++)L[E]=E}else{V=N+1+2*Ut.truncDivision(Ut.truncDivision(N,2)-1,15);for(var j=Ut.truncDivision(N,2),Q=Ut.truncDivision(V,2),E=0;E<j;E++){var Z=E+Ut.truncDivision(E,15);L[j-E-1]=Q-Z-1,L[j+E]=Q+Z+1}}for(var b=new Ci(V),E=0,R=0;E<f;E++){for(var P=(f-E)*4+(c?9:12),B=0;B<P;B++)for(var U=B*2,F=0;F<2;F++)w.get(R+U+F)&&b.set(L[E*2+F],L[E*2+B]),w.get(R+P*2+U+F)&&b.set(L[E*2+B],L[N-1-E*2-F]),w.get(R+P*4+U+F)&&b.set(L[N-1-E*2-F],L[N-1-E*2-B]),w.get(R+P*6+U+F)&&b.set(L[N-1-E*2-B],L[E*2+F]);R+=P*8}if(n.drawModeMessage(b,c,V,I),c)n.drawBullsEye(b,Ut.truncDivision(V,2),5);else{n.drawBullsEye(b,Ut.truncDivision(V,2),7);for(var E=0,B=0;E<Ut.truncDivision(N,2)-1;E+=15,B+=16)for(var F=Ut.truncDivision(V,2)&1;F<V;F+=2)b.set(Ut.truncDivision(V,2)-B,F),b.set(Ut.truncDivision(V,2)+B,F),b.set(F,Ut.truncDivision(V,2)-B),b.set(F,Ut.truncDivision(V,2)+B)}var D=new ID;return D.setCompact(c),D.setSize(V),D.setLayers(f),D.setCodeWords(S),D.setMatrix(b),D},n.drawBullsEye=function(t,e,r){for(var i=0;i<r;i+=2)for(var o=e-i;o<=e+i;o++)t.set(o,e-i),t.set(o,e+i),t.set(e-i,o),t.set(e+i,o);t.set(e-r,e-r),t.set(e-r+1,e-r),t.set(e-r,e-r+1),t.set(e+r,e-r),t.set(e+r,e-r+1),t.set(e+r,e+r-1)},n.generateModeMessage=function(t,e,r){var i=new vn;return t?(i.appendBits(e-1,2),i.appendBits(r-1,6),i=n.generateCheckWords(i,28,4)):(i.appendBits(e-1,5),i.appendBits(r-1,11),i=n.generateCheckWords(i,40,4)),i},n.drawModeMessage=function(t,e,r,i){var o=Ut.truncDivision(r,2);if(e)for(var u=0;u<7;u++){var c=o-3+u;i.get(u)&&t.set(c,o-5),i.get(u+7)&&t.set(o+5,c),i.get(20-u)&&t.set(c,o+5),i.get(27-u)&&t.set(o-5,c)}else for(var u=0;u<10;u++){var c=o-5+u+Ut.truncDivision(u,5);i.get(u)&&t.set(c,o-7),i.get(u+10)&&t.set(o+7,c),i.get(29-u)&&t.set(c,o+7),i.get(39-u)&&t.set(o-7,c)}},n.generateCheckWords=function(t,e,r){var i,o,u=t.getSize()/r,c=new Gx(n.getGF(r)),f=Ut.truncDivision(e,r),d=n.bitsToWords(t,r,f);c.encode(d,f-u);var g=e%r,m=new vn;m.appendBits(0,g);try{for(var _=zD(Array.from(d)),E=_.next();!E.done;E=_.next()){var w=E.value;m.appendBits(w,r)}}catch(S){i={error:S}}finally{try{E&&!E.done&&(o=_.return)&&o.call(_)}finally{if(i)throw i.error}}return m},n.bitsToWords=function(t,e,r){var i=new Int32Array(r),o,u;for(o=0,u=t.getSize()/e;o<u;o++){for(var c=0,f=0;f<e;f++)c|=t.get(o*e+f)?1<<e-f-1:0;i[o]=c}return i},n.getGF=function(t){switch(t){case 4:return Jn.AZTEC_PARAM;case 6:return Jn.AZTEC_DATA_6;case 8:return Jn.AZTEC_DATA_8;case 10:return Jn.AZTEC_DATA_10;case 12:return Jn.AZTEC_DATA_12;default:throw new Tt("Unsupported word size "+t)}},n.stuffBits=function(t,e){for(var r=new vn,i=t.getSize(),o=(1<<e)-2,u=0;u<i;u+=e){for(var c=0,f=0;f<e;f++)(u+f>=i||t.get(u+f))&&(c|=1<<e-1-f);(c&o)===o?(r.appendBits(c&o,e),u--):(c&o)===0?(r.appendBits(c|1,e),u--):r.appendBits(c,e)}return r},n.totalBitsInLayer=function(t,e){return((e?88:112)+16*t)*t},n.DEFAULT_EC_PERCENT=33,n.DEFAULT_AZTEC_LAYERS=0,n.MAX_NB_BITS=32,n.MAX_NB_BITS_COMPACT=4,n.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),n})();var mh={exports:{}},HD=mh.exports,lE;function jD(){return lE||(lE=1,(function(n,t){(function(r,i){n.exports=i(zh())})(HD,function(e){return(function(r){var i={};function o(u){if(i[u])return i[u].exports;var c=i[u]={i:u,l:!1,exports:{}};return r[u].call(c.exports,c,c.exports,o),c.l=!0,c.exports}return o.m=r,o.c=i,o.d=function(u,c,f){o.o(u,c)||Object.defineProperty(u,c,{enumerable:!0,get:f})},o.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},o.t=function(u,c){if(c&1&&(u=o(u)),c&8||c&4&&typeof u=="object"&&u&&u.__esModule)return u;var f=Object.create(null);if(o.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:u}),c&2&&typeof u!="string")for(var d in u)o.d(f,d,(function(g){return u[g]}).bind(null,d));return f},o.n=function(u){var c=u&&u.__esModule?function(){return u.default}:function(){return u};return o.d(c,"a",c),c},o.o=function(u,c){return Object.prototype.hasOwnProperty.call(u,c)},o.p="",o(o.s="./src/react-webcam.tsx")})({"./src/react-webcam.tsx":(function(r,i,o){o.r(i);var u=o("react"),c=(function(){var _=function(E,w){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,I){S.__proto__=I}||function(S,I){for(var N in I)I.hasOwnProperty(N)&&(S[N]=I[N])},_(E,w)};return function(E,w){_(E,w);function S(){this.constructor=E}E.prototype=w===null?Object.create(w):(S.prototype=w.prototype,new S)}})(),f=function(){return f=Object.assign||function(_){for(var E,w=1,S=arguments.length;w<S;w++){E=arguments[w];for(var I in E)Object.prototype.hasOwnProperty.call(E,I)&&(_[I]=E[I])}return _},f.apply(this,arguments)},d=function(_,E){var w={};for(var S in _)Object.prototype.hasOwnProperty.call(_,S)&&E.indexOf(S)<0&&(w[S]=_[S]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var I=0,S=Object.getOwnPropertySymbols(_);I<S.length;I++)E.indexOf(S[I])<0&&Object.prototype.propertyIsEnumerable.call(_,S[I])&&(w[S[I]]=_[S[I]]);return w};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(E){var w=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return w?new Promise(function(S,I){w.call(navigator,E,S,I)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function g(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var m=(function(_){c(E,_);function E(w){var S=_.call(this,w)||this;return S.canvas=null,S.ctx=null,S.requestUserMediaId=0,S.unmounted=!1,S.state={hasUserMedia:!1},S}return E.prototype.componentDidMount=function(){var w=this,S=w.state,I=w.props;if(this.unmounted=!1,!g()){I.onUserMediaError("getUserMedia not supported");return}S.hasUserMedia||this.requestUserMedia(),I.children&&typeof I.children!="function"&&console.warn("children must be a function")},E.prototype.componentDidUpdate=function(w){var S=this.props;if(!g()){S.onUserMediaError("getUserMedia not supported");return}var I=JSON.stringify(w.audioConstraints)!==JSON.stringify(S.audioConstraints),N=JSON.stringify(w.videoConstraints)!==JSON.stringify(S.videoConstraints),L=w.minScreenshotWidth!==S.minScreenshotWidth,V=w.minScreenshotHeight!==S.minScreenshotHeight;(N||L||V)&&(this.canvas=null,this.ctx=null),(I||N)&&(this.stopAndCleanup(),this.requestUserMedia())},E.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},E.stopMediaStream=function(w){w&&(w.getVideoTracks&&w.getAudioTracks?(w.getVideoTracks().map(function(S){w.removeTrack(S),S.stop()}),w.getAudioTracks().map(function(S){w.removeTrack(S),S.stop()})):w.stop())},E.prototype.stopAndCleanup=function(){var w=this.state;w.hasUserMedia&&(E.stopMediaStream(this.stream),w.src&&window.URL.revokeObjectURL(w.src))},E.prototype.getScreenshot=function(w){var S=this,I=S.state,N=S.props;if(!I.hasUserMedia)return null;var L=this.getCanvas(w);return L&&L.toDataURL(N.screenshotFormat,N.screenshotQuality)},E.prototype.getCanvas=function(w){var S=this,I=S.state,N=S.props;if(!this.video||!I.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var L=this.video.videoWidth,V=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var j=L/V;L=N.minScreenshotWidth||this.video.clientWidth,V=L/j,N.minScreenshotHeight&&V<N.minScreenshotHeight&&(V=N.minScreenshotHeight,L=V*j)}this.canvas=document.createElement("canvas"),this.canvas.width=w?.width||L,this.canvas.height=w?.height||V,this.ctx=this.canvas.getContext("2d")}var Q=this,Z=Q.ctx,b=Q.canvas;return Z&&b&&(b.width=w?.width||b.width,b.height=w?.height||b.height,N.mirrored&&(Z.translate(b.width,0),Z.scale(-1,1)),Z.imageSmoothingEnabled=N.imageSmoothing,Z.drawImage(this.video,0,0,w?.width||b.width,w?.height||b.height),N.mirrored&&(Z.scale(-1,1),Z.translate(-b.width,0))),b},E.prototype.requestUserMedia=function(){var w=this,S=this.props,I=function(V,j){var Q={video:typeof j<"u"?j:!0};S.audio&&(Q.audio=typeof V<"u"?V:!0),w.requestUserMediaId++;var Z=w.requestUserMediaId;navigator.mediaDevices.getUserMedia(Q).then(function(b){w.unmounted||Z!==w.requestUserMediaId?E.stopMediaStream(b):w.handleUserMedia(null,b)}).catch(function(b){w.handleUserMedia(b)})};if("mediaDevices"in navigator)I(S.audioConstraints,S.videoConstraints);else{var N=function(V){return{optional:[{sourceId:V}]}},L=function(V){var j=V.deviceId;return typeof j=="string"?j:Array.isArray(j)&&j.length>0?j[0]:typeof j=="object"&&j.ideal?j.ideal:null};MediaStreamTrack.getSources(function(V){var j=null,Q=null;V.forEach(function(R){R.kind==="audio"?j=R.id:R.kind==="video"&&(Q=R.id)});var Z=L(S.audioConstraints);Z&&(j=Z);var b=L(S.videoConstraints);b&&(Q=b),I(N(j),N(Q))})}},E.prototype.handleUserMedia=function(w,S){var I=this.props;if(w||!S){this.setState({hasUserMedia:!1}),I.onUserMediaError(w);return}this.stream=S;try{this.video&&(this.video.srcObject=S),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(S)})}I.onUserMedia(S)},E.prototype.render=function(){var w=this,S=this,I=S.state,N=S.props,L=N.audio;N.forceScreenshotSourceSize;var V=N.disablePictureInPicture;N.onUserMedia,N.onUserMediaError,N.screenshotFormat,N.screenshotQuality,N.minScreenshotWidth,N.minScreenshotHeight,N.audioConstraints,N.videoConstraints,N.imageSmoothing;var j=N.mirrored,Q=N.style,Z=Q===void 0?{}:Q,b=N.children,R=d(N,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),P=j?f(f({},Z),{transform:(Z.transform||"")+" scaleX(-1)"}):Z,B={getScreenshot:this.getScreenshot.bind(this)};return u.createElement(u.Fragment,null,u.createElement("video",f({autoPlay:!0,disablePictureInPicture:V,src:I.src,muted:!L,playsInline:!0,ref:function(U){w.video=U},style:P},R)),b&&b(B))},E.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},E})(u.Component);i.default=m}),react:(function(r,i){r.exports=e})}).default})})(mh)),mh.exports}var GD=jD();const qD=T3(GD),XD=({onUpdate:n,onError:t,width:e="100%",height:r="100%",facingMode:i="environment",torch:o,delay:u=500,videoConstraints:c,stopStream:f,formats:d})=>{const g=Lt.useRef(null),m=Lt.useCallback(()=>{const _=new jO(new Map([[Ie.POSSIBLE_FORMATS,d?.map(w=>typeof w=="string"?xt[w]:w)]])),E=g?.current?.getScreenshot();E&&_.decodeFromImage(void 0,E).then(w=>{n(null,w)}).catch(w=>{n(w)})},[n,d]);return Lt.useEffect(()=>{if(typeof o=="boolean"&&(navigator?.mediaDevices?.getSupportedConstraints()).torch){const E=g?.current?.video?.srcObject?.getVideoTracks()[0];E&&E.getCapabilities().torch&&E.applyConstraints({advanced:[{torch:o}]}).catch(w=>n(w))}},[o,n]),Lt.useEffect(()=>{if(f){let _=g?.current?.video?.srcObject;_&&(_.getTracks().forEach(E=>{_?.removeTrack(E),E.stop()}),_=null)}},[f]),Lt.useEffect(()=>{const _=setInterval(m,u);return()=>{clearInterval(_)}},[m,u]),it.jsx(qD,{width:e,height:r,ref:g,screenshotFormat:"image/jpeg",videoConstraints:c||{facingMode:i},audio:!1,onUserMediaError:t,"data-testid":"video"})};var cE;(function(n){n.AZTEC="AZTEC",n.CODABAR="CODABAR",n.CODE_39="CODE_39",n.CODE_93="CODE_93",n.CODE_128="CODE_128",n.DATA_MATRIX="DATA_MATRIX",n.EAN_8="EAN_8",n.EAN_13="EAN_13",n.ITF="ITF",n.MAXICODE="MAXICODE",n.PDF_417="PDF_417",n.QR_CODE="QR_CODE",n.RSS_14="RSS_14",n.RSS_EXPANDED="RSS_EXPANDED",n.UPC_A="UPC_A",n.UPC_E="UPC_E",n.UPC_EAN_EXTENSION="UPC_EAN_EXTENSION"})(cE||(cE={}));function YD({id:n,name:t,price:e,store:r,image:i,highlighted:o,dimmed:u,onEdit:c,onDelete:f}){const[d,g]=Lt.useState(!1),m=Lt.useRef(null);return Lt.useEffect(()=>{const _=E=>{m.current&&!m.current.contains(E.target)&&g(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]),it.jsxs("div",{id:`product-${n}`,className:`product-card
            ${o?"highlighted":""}
            ${u?"dimmed":""}
            `,style:{position:"relative"},children:[it.jsx("button",{onClick:()=>g(_=>!_),style:{position:"absolute",top:"8px",right:"8px",background:"none",border:"none",fontSize:"20px",cursor:"pointer",zIndex:5,color:"white"},children:""}),it.jsxs("div",{ref:m,className:`product-menu ${d?"open":""}`,children:[it.jsx("button",{className:"menu-btn edit",onClick:()=>{g(!1),c?.(n)},style:KD,children:"Edit"}),it.jsx("button",{className:"menu-btn delete",onClick:()=>{g(!1),f?.(n)},children:"Delete"})]}),it.jsx("h4",{className:"product-name",children:t}),it.jsx("p",{className:"product-store",children:r||"Store N/A"}),it.jsx("div",{style:{width:"120px",height:"120px",margin:"0 auto",backgroundColor:"#e0e0ff",borderRadius:"8px",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center"},children:i?it.jsx("img",{src:i,alt:t,style:{maxWidth:"100%",maxHeight:"100%"}}):it.jsx("span",{style:{color:"#999",fontSize:"14px"},children:"No Image"})}),it.jsx("p",{className:"product-price",children:e?`${e}`:"Price N/A"})]})}const KD={padding:"10px 14px",width:"100%",border:"none",textAlign:"center",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"};function WD({barcode:n,scannedImage:t,onSubmit:e,onCancel:r,initialData:i,isEditing:o}){const[u,c]=Lt.useState(i?.name||""),[f,d]=Lt.useState(i?.price||"$0.00"),[g,m]=Lt.useState(i?.store||""),[_,E]=Lt.useState(""),w=Lt.useRef(null);Lt.useEffect(()=>{w.current?.focus()},[]);const S=N=>{N.preventDefault(),u&&e({barcode:n,name:u,price:f,store:g,image:_||t||""})},I=N=>{let L=N.target.value;L=L.replace(/\D/g,""),L=(parseInt(L||"0",10)/100).toFixed(2),d(`$${L}`)};return it.jsxs(it.Fragment,{children:[it.jsx("div",{className:"modal-overlay",onClick:r,style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.55)",zIndex:100}}),it.jsxs("div",{className:"modal-box",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"linear-gradient(135deg, #4b6cb7, #182848)",color:"white",border:"2px solid black",padding:"20px 30px",borderRadius:"12px",zIndex:101,minWidth:"300px",boxShadow:"0 8px 24px rgba(0,0,0,0.3)"},children:[it.jsx("button",{className:"modal-close",onClick:r,style:{position:"absolute",top:"12px",right:"12px",background:"none",border:"none",fontSize:"22px",cursor:"pointer"},children:""}),it.jsx("h3",{className:"modal-title",style:{textAlign:"center",marginBottom:"15px"},children:"Add Item"}),it.jsxs("form",{onSubmit:S,className:"modal-form",style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(_||t)&&it.jsx("img",{src:_||t,alt:"Product Preview",style:{width:"100%",maxHeight:"180px",objectFit:"contain",borderRadius:"8px",background:"#fff",padding:"6px"}}),it.jsx("input",{type:"text",placeholder:"Product Name",value:u,onChange:N=>c(N.target.value),required:!0}),it.jsx("input",{type:"text",placeholder:"$0.00",value:f,onChange:I,required:!0}),it.jsx("input",{type:"text",placeholder:"Store Name",value:g,onChange:N=>m(N.target.value),required:!0}),it.jsx("input",{type:"file",accept:"image/*",onChange:N=>{const L=N.target.files[0];if(L){const V=new FileReader;V.onloadend=()=>E(V.result),V.readAsDataURL(L)}}}),it.jsx("button",{type:"submit",className:"submit-btn",style:{padding:"10px",borderRadius:"8px",backgroundColor:"#4b6cb7",color:"white",fontWeight:"bold"},children:o?"Edit":"Add"})]})]})]})}function QD({user:n}){const[t,e]=Lt.useState([]),[r,i]=Lt.useState(!1),[o,u]=Lt.useState(null),[c,f]=Lt.useState(""),[d,g]=Lt.useState(null),[m,_]=Lt.useState(""),[E,w]=Lt.useState(!1),[S,I]=Lt.useState(""),[N,L]=Lt.useState(null),[V,j]=Lt.useState(null),Q=D=>{g(D),document.getElementById(`product-${D}`)?.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{g(null)},2e3)},Z=()=>{const D=m.trim().toLowerCase();if(!D){I(""),w(!1);return}const yt=t.find(bt=>bt.name.toLowerCase()===D);yt?(Q(yt.id),I("Product already exists."),w(!1)):(I(""),w(!0))};Lt.useEffect(()=>{if(!m){w(!1);return}const D=t.find(yt=>yt.name.toLowerCase().includes(m.trim().toLowerCase()));D?(Q(D.id),w(!1)):w(!0)},[m,t]),Lt.useEffect(()=>{if(!n)return;const D=w_($f,"users",n.uid,"items"),yt=Z6(D,bt=>{const tt=bt.docs.map(lt=>({id:lt.id,...lt.data()}));e(tt)});return()=>yt()},[n]);const b=async D=>{try{const bt=await(await fetch(`https://api.upcitemdb.com/prod/trial/lookup?upc=${D}`)).json();if(bt.items&&bt.items.length>0){const tt=bt.items[0];return{barcode:D,name:tt.title||"",price:"",store:"",image:tt.images?.[0]||""}}return null}catch{return null}},R=async D=>{try{await Q6(w_($f,"users",n.uid,"items"),D)}catch(yt){console.error("Error saving product:",yt)}},P=async D=>{i(!1);const yt=t.find(tt=>tt.barcode===D);if(yt){const tt=document.getElementById(`product-${yt.id}`);tt&&(tt.scrollIntoView({behavior:"smooth",block:"center"}),g(yt.id),setTimeout(()=>{g(null)},2e3));return}const bt=await b(D);bt?bt.name?R(bt):(f(bt.image||""),u(D)):(f(""),u(D))},B=()=>{u(null)},U=D=>{const yt=t.find(bt=>bt.id===D);j(yt),u("manual")},F=D=>{L(D)};return it.jsxs(it.Fragment,{children:[it.jsxs("div",{className:"page-container",children:[it.jsx("h2",{className:"page-title",children:"Shopping List"}),it.jsx("form",{onSubmit:D=>{D.preventDefault(),Z()},style:{display:"flex",gap:"8px",marginBottom:"10px"},children:it.jsx("input",{className:"search-bar",type:"text",placeholder:"Search product...",value:m,onChange:D=>_(D.target.value),style:{flex:1,padding:"6px 10px",borderRadius:"6px",border:"none",fontSize:"14px",height:"25px",backgroundColor:"#c9c9df"}})}),S&&it.jsx("p",{style:{color:"green",marginBottom:"10px"},children:S}),E&&it.jsx("p",{style:{color:"red",marginBottom:"10px"},children:"Not found"}),(o||V)&&it.jsx(WD,{barcode:V?.barcode||o||"",scannedImage:V?.image||c,initialData:V,isEditing:!!V,onSubmit:D=>{const yt=t.find(bt=>bt.name.toLowerCase()===D.name.trim().toLowerCase()&&bt.id!==V?.id);if(yt){Q(yt.id),I("Product already exists.");return}V?(K6(up($f,"users",n.uid,"items",V.id),D),j(null)):R(D),u(null),I("")},onCancel:()=>{j(null),B()}}),r&&it.jsx("div",{style:{marginTop:"10px"},children:it.jsx(XD,{onUpdate:(D,yt)=>{yt&&P(yt.text)},width:400})}),it.jsx("div",{className:"items-container",children:t.map(D=>it.jsx(YD,{id:D.id,name:D.name,price:D.price,store:D.store,image:D.image,highlighted:d===D.id,dimmed:d&&d!==D.id,onEdit:U,onDelete:F},D.id))})]}),it.jsx(nb,{onScan:()=>i(!0),onManual:()=>u("manual")}),N&&it.jsxs(it.Fragment,{children:[it.jsx("div",{onClick:()=>L(null),style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.55)",zIndex:100}}),it.jsxs("div",{className:"modal-box",style:{position:"fixed",top:"50%",left:"50%",tramsform:"translate(-50%, -50%)",zIndex:101},children:[it.jsx("h3",{children:"Delete Product?"}),it.jsx("p",{children:"Are you sure you want to delete this product?"}),it.jsxs("div",{style:{display:"flex",gap:"30px",marginTop:"20px"},children:[it.jsx("button",{className:"delete-option-btn",onClick:()=>L(null),children:"Cancel"}),it.jsx("button",{className:"delete-option-btn delete",onClick:async()=>{const D=N;L(null),await W6(up($f,"users",n.uid,"items",D)),L(null)},children:"Delete"})]})]})]})]})}function ZD({user:n,onLogout:t,setPage:e}){const[r,i]=Lt.useState(!1);return it.jsxs(it.Fragment,{children:[it.jsxs("header",{className:"main-navbar",children:[it.jsx("div",{className:"navbar-title",children:"YourCart"}),it.jsx("button",{className:"navbar-account-btn",onClick:()=>i(!0),children:it.jsx("div",{className:"navbar-account-icon"})})]}),r&&it.jsx("div",{className:"navbar-slide-overlay",onClick:()=>i(!1)}),it.jsxs("div",{className:`navbar-slide-panel ${r?"open":""}`,children:[it.jsx("div",{className:"slide-close-btn",onClick:()=>i(!1),children:it.jsx("img",{src:"/src/assets/arrow-icon.png",style:{width:"30px"}})}),it.jsx("h2",{className:"navbar-title",style:{marginTop:"10px",marginBottom:"40px",fontSize:"30px"},children:"Account"}),it.jsx("button",{className:"slide-item",onClick:()=>{e("account"),i(!1)},children:"Account Info"}),it.jsx("button",{className:"slide-item",onClick:()=>{e("settings"),i(!1)},children:"Settings"}),it.jsx("button",{className:"slide-item logout-btn",onClick:()=>{t(),e("home"),i(!1)},children:"Logout"})]})]})}function $D(){return it.jsxs("div",{style:{marginTop:"100px",textAlign:"center",color:"white"},children:[it.jsx("h1",{children:"Setting"}),it.jsx("p",{children:"Coming Soon"})]})}function JD(){return it.jsxs("div",{style:{marginTop:"100px",textAlign:"center",color:"white"},children:[it.jsx("h1",{children:"Account Info"}),it.jsx("p",{children:"Coming soon"})]})}function t5(){const[n,t]=Lt.useState(null),[e,r]=Lt.useState(!0),[i,o]=Lt.useState("home");return Lt.useEffect(()=>{},[]),it.jsx(it.Fragment,{children:it.jsxs("div",{className:"app-container",children:[n&&it.jsx(ZD,{user:n,onLogout:()=>t(null),setPage:o}),n?i==="home"?it.jsx(QD,{user:n}):i==="settings"?it.jsx($D,{}):i==="account"?it.jsx(JD,{}):null:e?it.jsx(tb,{setUser:t,toggleForm:()=>r(!1)}):it.jsx(eb,{setUser:t,toggleForm:()=>r(!0)})]})})}P3.createRoot(document.getElementById("root")).render(it.jsx(Lt.StrictMode,{children:it.jsx(t5,{})}));
